function Yj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const A of o.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function PQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vw={exports:{}},Td={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jI;function Xj(){if(jI)return Td;jI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var A=null;if(o!==void 0&&(A=""+o),s.key!==void 0&&(A=""+s.key),"key"in s){o={};for(var l in s)l!=="key"&&(o[l]=s[l])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:A,ref:s!==void 0?s:null,props:o}}return Td.Fragment=e,Td.jsx=n,Td.jsxs=n,Td}var VI;function Jj(){return VI||(VI=1,Vw.exports=Xj()),Vw.exports}var m=Jj(),Kw={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI;function Zj(){if(KI)return Oe;KI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),A=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function b(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function I(G,re,Ae){this.props=G,this.context=re,this.refs=E,this.updater=Ae||B}I.prototype.isReactComponent={},I.prototype.setState=function(G,re){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,re,"setState")},I.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function F(){}F.prototype=I.prototype;function Q(G,re,Ae){this.props=G,this.context=re,this.refs=E,this.updater=Ae||B}var j=Q.prototype=new F;j.constructor=Q,C(j,I.prototype),j.isPureReactComponent=!0;var P=Array.isArray;function V(){}var R={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function D(G,re,Ae){var ue=Ae.ref;return{$$typeof:t,type:G,key:re,ref:ue!==void 0?ue:null,props:Ae}}function L(G,re){return D(G.type,re,G.props)}function H(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function M(G){var re={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Ae){return re[Ae]})}var N=/\/+/g;function Y(G,re){return typeof G=="object"&&G!==null&&G.key!=null?M(""+G.key):re.toString(36)}function ce(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(V,V):(G.status="pending",G.then(function(re){G.status==="pending"&&(G.status="fulfilled",G.value=re)},function(re){G.status==="pending"&&(G.status="rejected",G.reason=re)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function W(G,re,Ae,ue,ge){var Te=typeof G;(Te==="undefined"||Te==="boolean")&&(G=null);var we=!1;if(G===null)we=!0;else switch(Te){case"bigint":case"string":case"number":we=!0;break;case"object":switch(G.$$typeof){case t:case e:we=!0;break;case f:return we=G._init,W(we(G._payload),re,Ae,ue,ge)}}if(we)return ge=ge(G),we=ue===""?"."+Y(G,0):ue,P(ge)?(Ae="",we!=null&&(Ae=we.replace(N,"$&/")+"/"),W(ge,re,Ae,"",function(hn){return hn})):ge!=null&&(H(ge)&&(ge=L(ge,Ae+(ge.key==null||G&&G.key===ge.key?"":(""+ge.key).replace(N,"$&/")+"/")+we)),re.push(ge)),1;we=0;var pt=ue===""?".":ue+":";if(P(G))for(var Ke=0;Ke<G.length;Ke++)ue=G[Ke],Te=pt+Y(ue,Ke),we+=W(ue,re,Ae,Te,ge);else if(Ke=b(G),typeof Ke=="function")for(G=Ke.call(G),Ke=0;!(ue=G.next()).done;)ue=ue.value,Te=pt+Y(ue,Ke++),we+=W(ue,re,Ae,Te,ge);else if(Te==="object"){if(typeof G.then=="function")return W(ce(G),re,Ae,ue,ge);throw re=String(G),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function se(G,re,Ae){if(G==null)return G;var ue=[],ge=0;return W(G,ue,"","",function(Te){return re.call(Ae,Te,ge++)}),ue}function ne(G){if(G._status===-1){var re=G._result;re=re(),re.then(function(Ae){(G._status===0||G._status===-1)&&(G._status=1,G._result=Ae)},function(Ae){(G._status===0||G._status===-1)&&(G._status=2,G._result=Ae)}),G._status===-1&&(G._status=0,G._result=re)}if(G._status===1)return G._result.default;throw G._result}var ve=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Se={map:se,forEach:function(G,re,Ae){se(G,function(){re.apply(this,arguments)},Ae)},count:function(G){var re=0;return se(G,function(){re++}),re},toArray:function(G){return se(G,function(re){return re})||[]},only:function(G){if(!H(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Oe.Activity=p,Oe.Children=Se,Oe.Component=I,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=Q,Oe.StrictMode=r,Oe.Suspense=c,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(G){return R.H.useMemoCache(G)}},Oe.cache=function(G){return function(){return G.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(G,re,Ae){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ue=C({},G.props),ge=G.key;if(re!=null)for(Te in re.key!==void 0&&(ge=""+re.key),re)!U.call(re,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&re.ref===void 0||(ue[Te]=re[Te]);var Te=arguments.length-2;if(Te===1)ue.children=Ae;else if(1<Te){for(var we=Array(Te),pt=0;pt<Te;pt++)we[pt]=arguments[pt+2];ue.children=we}return D(G.type,ge,ue)},Oe.createContext=function(G){return G={$$typeof:A,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Oe.createElement=function(G,re,Ae){var ue,ge={},Te=null;if(re!=null)for(ue in re.key!==void 0&&(Te=""+re.key),re)U.call(re,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ge[ue]=re[ue]);var we=arguments.length-2;if(we===1)ge.children=Ae;else if(1<we){for(var pt=Array(we),Ke=0;Ke<we;Ke++)pt[Ke]=arguments[Ke+2];ge.children=pt}if(G&&G.defaultProps)for(ue in we=G.defaultProps,we)ge[ue]===void 0&&(ge[ue]=we[ue]);return D(G,Te,ge)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(G){return{$$typeof:l,render:G}},Oe.isValidElement=H,Oe.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:ne}},Oe.memo=function(G,re){return{$$typeof:d,type:G,compare:re===void 0?null:re}},Oe.startTransition=function(G){var re=R.T,Ae={};R.T=Ae;try{var ue=G(),ge=R.S;ge!==null&&ge(Ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(V,ve)}catch(Te){ve(Te)}finally{re!==null&&Ae.types!==null&&(re.types=Ae.types),R.T=re}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(G){return R.H.use(G)},Oe.useActionState=function(G,re,Ae){return R.H.useActionState(G,re,Ae)},Oe.useCallback=function(G,re){return R.H.useCallback(G,re)},Oe.useContext=function(G){return R.H.useContext(G)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(G,re){return R.H.useDeferredValue(G,re)},Oe.useEffect=function(G,re){return R.H.useEffect(G,re)},Oe.useEffectEvent=function(G){return R.H.useEffectEvent(G)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(G,re,Ae){return R.H.useImperativeHandle(G,re,Ae)},Oe.useInsertionEffect=function(G,re){return R.H.useInsertionEffect(G,re)},Oe.useLayoutEffect=function(G,re){return R.H.useLayoutEffect(G,re)},Oe.useMemo=function(G,re){return R.H.useMemo(G,re)},Oe.useOptimistic=function(G,re){return R.H.useOptimistic(G,re)},Oe.useReducer=function(G,re,Ae){return R.H.useReducer(G,re,Ae)},Oe.useRef=function(G){return R.H.useRef(G)},Oe.useState=function(G){return R.H.useState(G)},Oe.useSyncExternalStore=function(G,re,Ae){return R.H.useSyncExternalStore(G,re,Ae)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.3",Oe}var GI;function of(){return GI||(GI=1,Kw.exports=Zj()),Kw.exports}var _=of();const xe=PQ(_),yx=Yj({__proto__:null,default:xe},[_]);var Gw={exports:{}},Id={},zw={exports:{}},Ww={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI;function eV(){return zI||(zI=1,(function(t){function e(W,se){var ne=W.length;W.push(se);e:for(;0<ne;){var ve=ne-1>>>1,Se=W[ve];if(0<s(Se,se))W[ve]=se,W[ne]=Se,ne=ve;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var se=W[0],ne=W.pop();if(ne!==se){W[0]=ne;e:for(var ve=0,Se=W.length,G=Se>>>1;ve<G;){var re=2*(ve+1)-1,Ae=W[re],ue=re+1,ge=W[ue];if(0>s(Ae,ne))ue<Se&&0>s(ge,Ae)?(W[ve]=ge,W[ue]=ne,ve=ue):(W[ve]=Ae,W[re]=ne,ve=re);else if(ue<Se&&0>s(ge,ne))W[ve]=ge,W[ue]=ne,ve=ue;else break e}}return se}function s(W,se){var ne=W.sortIndex-se.sortIndex;return ne!==0?ne:W.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var A=Date,l=A.now();t.unstable_now=function(){return A.now()-l}}var c=[],d=[],f=1,p=null,g=3,b=!1,B=!1,C=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function j(W){for(var se=n(d);se!==null;){if(se.callback===null)r(d);else if(se.startTime<=W)r(d),se.sortIndex=se.expirationTime,e(c,se);else break;se=n(d)}}function P(W){if(C=!1,j(W),!B)if(n(c)!==null)B=!0,V||(V=!0,M());else{var se=n(d);se!==null&&ce(P,se.startTime-W)}}var V=!1,R=-1,U=5,D=-1;function L(){return E?!0:!(t.unstable_now()-D<U)}function H(){if(E=!1,V){var W=t.unstable_now();D=W;var se=!0;try{e:{B=!1,C&&(C=!1,F(R),R=-1),b=!0;var ne=g;try{t:{for(j(W),p=n(c);p!==null&&!(p.expirationTime>W&&L());){var ve=p.callback;if(typeof ve=="function"){p.callback=null,g=p.priorityLevel;var Se=ve(p.expirationTime<=W);if(W=t.unstable_now(),typeof Se=="function"){p.callback=Se,j(W),se=!0;break t}p===n(c)&&r(c),j(W)}else r(c);p=n(c)}if(p!==null)se=!0;else{var G=n(d);G!==null&&ce(P,G.startTime-W),se=!1}}break e}finally{p=null,g=ne,b=!1}se=void 0}}finally{se?M():V=!1}}}var M;if(typeof Q=="function")M=function(){Q(H)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Y=N.port2;N.port1.onmessage=H,M=function(){Y.postMessage(null)}}else M=function(){I(H,0)};function ce(W,se){R=I(function(){W(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var ne=g;g=se;try{return W()}finally{g=ne}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=g;g=W;try{return se()}finally{g=ne}},t.unstable_scheduleCallback=function(W,se,ne){var ve=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ve+ne:ve):ne=ve,W){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ne+Se,W={id:f++,callback:se,priorityLevel:W,startTime:ne,expirationTime:Se,sortIndex:-1},ne>ve?(W.sortIndex=ne,e(d,W),n(c)===null&&W===n(d)&&(C?(F(R),R=-1):C=!0,ce(P,ne-ve))):(W.sortIndex=Se,e(c,W),B||b||(B=!0,V||(V=!0,M()))),W},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(W){var se=g;return function(){var ne=g;g=se;try{return W.apply(this,arguments)}finally{g=ne}}}})(Ww)),Ww}var WI;function tV(){return WI||(WI=1,zw.exports=eV()),zw.exports}var qw={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI;function nV(){if(qI)return qn;qI=1;var t=of();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(c,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:c,containerInfo:d,implementation:f}}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qn.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(c,d,null,f)},qn.flushSync=function(c){var d=A.T,f=r.p;try{if(A.T=null,r.p=2,c)return c()}finally{A.T=d,r.p=f,r.d.f()}},qn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},qn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},qn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:b}):f==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},qn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},qn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},qn.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},qn.requestFormReset=function(c){r.d.r(c)},qn.unstable_batchedUpdates=function(c,d){return c(d)},qn.useFormState=function(c,d,f){return A.H.useFormState(c,d,f)},qn.useFormStatus=function(){return A.H.useHostTransitionStatus()},qn.version="19.2.3",qn}var $I;function HQ(){if($I)return qw.exports;$I=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qw.exports=nV(),qw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI;function rV(){if(YI)return Id;YI=1;var t=tV(),e=of(),n=HQ();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function A(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function l(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var u=i,h=a;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return c(v),i;if(w===h)return c(v),a;w=w.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=w;else{for(var S=!1,O=v.child;O;){if(O===u){S=!0,u=v,h=w;break}if(O===h){S=!0,h=v,u=w;break}O=O.sibling}if(!S){for(O=w.child;O;){if(O===u){S=!0,u=w,h=v;break}if(O===h){S=!0,h=w,u=v;break}O=O.sibling}if(!S)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:a}function f(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=f(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function M(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Y(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case I:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case V:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case B:return"Portal";case Q:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case j:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return a=i.displayName||null,a!==null?a:Y(i.type)||"Memo";case U:a=i._payload,i=i._init;try{return Y(i(a))}catch{}}return null}var ce=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ve=[],Se=-1;function G(i){return{current:i}}function re(i){0>Se||(i.current=ve[Se],ve[Se]=null,Se--)}function Ae(i,a){Se++,ve[Se]=i.current,i.current=a}var ue=G(null),ge=G(null),Te=G(null),we=G(null);function pt(i,a){switch(Ae(Te,a),Ae(ge,i),Ae(ue,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?uI(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=uI(a),i=dI(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(ue),Ae(ue,i)}function Ke(){re(ue),re(ge),re(Te)}function hn(i){i.memoizedState!==null&&Ae(we,i);var a=ue.current,u=dI(a,i.type);a!==u&&(Ae(ge,i),Ae(ue,u))}function fr(i){ge.current===i&&(re(ue),re(ge)),we.current===i&&(re(we),xd._currentValue=ne)}var Ft,qr;function Zs(i){if(Ft===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Ft=a&&a[1]||"",qr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+i+qr}var xu=!1;function Wa(i,a){if(!i||xu)return"";xu=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(te){var Z=te}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(te){Z=te}i.call(ae.prototype)}}else{try{throw Error()}catch(te){Z=te}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),S=w[0],O=w[1];if(S&&O){var K=S.split(`
`),J=O.split(`
`);for(v=h=0;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(h===K.length||v===J.length)for(h=K.length-1,v=J.length-1;1<=h&&0<=v&&K[h]!==J[v];)v--;for(;1<=h&&0<=v;h--,v--)if(K[h]!==J[v]){if(h!==1||v!==1)do if(h--,v--,0>v||K[h]!==J[v]){var ie=`
`+K[h].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=h&&0<=v);break}}}finally{xu=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Zs(u):""}function Eu(i,a){switch(i.tag){case 26:case 27:case 5:return Zs(i.type);case 16:return Zs("Lazy");case 13:return i.child!==a&&a!==null?Zs("Suspense Fallback"):Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 15:return Wa(i.type,!1);case 11:return Wa(i.type.render,!1);case 1:return Wa(i.type,!0);case 31:return Zs("Activity");default:return""}}function _u(i){try{var a="",u=null;do a+=Eu(i,u),u=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Jt=Object.prototype.hasOwnProperty,fn=t.unstable_scheduleCallback,Io=t.unstable_cancelCallback,Gy=t.unstable_shouldYield,Mf=t.unstable_requestPaint,or=t.unstable_now,qa=t.unstable_getCurrentPriorityLevel,Su=t.unstable_ImmediatePriority,Tu=t.unstable_UserBlockingPriority,Uo=t.unstable_NormalPriority,zy=t.unstable_LowPriority,Lf=t.unstable_IdlePriority,kf=t.log,Pf=t.unstable_setDisableYieldValue,bs=null,Nn=null;function $r(i){if(typeof kf=="function"&&Pf(i),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(bs,i)}catch{}}var Gt=Math.clz32?Math.clz32:jf,Hf=Math.log,Bl=Math.LN2;function jf(i){return i>>>=0,i===0?32:31-(Hf(i)/Bl|0)|0}var ei=256,$a=262144,Zt=4194304;function ti(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ni(i,a,u){var h=i.pendingLanes;if(h===0)return 0;var v=0,w=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var O=h&134217727;return O!==0?(h=O&~w,h!==0?v=ti(h):(S&=O,S!==0?v=ti(S):u||(u=O&~i,u!==0&&(v=ti(u))))):(O=h&~w,O!==0?v=ti(O):S!==0?v=ti(S):u||(u=h&~i,u!==0&&(v=ti(u)))),v===0?0:a!==0&&a!==v&&(a&w)===0&&(w=v&-v,u=a&-a,w>=u||w===32&&(u&4194048)!==0)?a:v}function Bs(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Wy(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vf(){var i=Zt;return Zt<<=1,(Zt&62914560)===0&&(Zt=4194304),i}function ri(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Ya(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qy(i,a,u,h,v,w){var S=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var O=i.entanglements,K=i.expirationTimes,J=i.hiddenUpdates;for(u=S&~u;0<u;){var ie=31-Gt(u),ae=1<<ie;O[ie]=0,K[ie]=-1;var Z=J[ie];if(Z!==null)for(J[ie]=null,ie=0;ie<Z.length;ie++){var te=Z[ie];te!==null&&(te.lane&=-536870913)}u&=~ae}h!==0&&Xa(i,h,0),w!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=w&~(S&~a))}function Xa(i,a,u){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Gt(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function Iu(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var h=31-Gt(u),v=1<<h;v&a|i[h]&a&&(i[h]|=a),u&=~v}}function Uu(i,a){var u=a&-a;return u=(u&42)!==0?1:Ja(u),(u&(i.suspendedLanes|a))!==0?0:u}function Ja(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Kf(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:DI(i.type))}function Cs(i,a){var u=se.p;try{return se.p=i,a()}finally{se.p=u}}var xs=Math.random().toString(36).slice(2),en="__reactFiber$"+xs,bn="__reactProps$"+xs,si="__reactContainer$"+xs,Cl="__reactEvents$"+xs,$y="__reactListeners$"+xs,Gf="__reactHandles$"+xs,zf="__reactResources$"+xs,ii="__reactMarker$"+xs;function xl(i){delete i[en],delete i[bn],delete i[Cl],delete i[$y],delete i[Gf]}function oi(i){var a=i[en];if(a)return a;for(var u=i.parentNode;u;){if(a=u[si]||u[en]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=vI(i);i!==null;){if(u=i[en])return u;i=vI(i)}return a}i=u,u=i.parentNode}return null}function Yr(i){if(i=i[en]||i[si]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Nr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ai(i){var a=i[zf];return a||(a=i[zf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function tn(i){i[ii]=!0}var Fu=new Set,Nu={};function Ai(i,a){li(i,a),li(i+"Capture",a)}function li(i,a){for(Nu[i]=a,i=0;i<a.length;i++)Fu.add(a[i])}var Ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},Du={};function Wf(i){return Jt.call(Du,i)?!0:Jt.call(Qu,i)?!1:Ru.test(i)?Du[i]=!0:(Qu[i]=!0,!1)}function El(i,a,u){if(Wf(a))if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+u)}}function Rr(i,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+u)}}function nn(i,a,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(a,u,""+h)}}function Bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Fo(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ou(i,a,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,w=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(S){u=""+S,w.call(this,S)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function dt(i){if(!i._valueTracker){var a=Fo(i)?"checked":"value";i._valueTracker=Ou(i,a,""+i[a])}}function Za(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return i&&(h=Fo(i)?i.checked?"true":"false":i.value),i=h,i!==u?(a.setValue(i),!0):!1}function ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var eA=/[\n"\\]/g;function pr(i){return i.replace(eA,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function _l(i,a,u,h,v,w,S,O){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),a!=null?S==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Bn(a)):i.value!==""+Bn(a)&&(i.value=""+Bn(a)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),a!=null?Mu(i,S,Bn(a)):u!=null?Mu(i,S,Bn(u)):h!=null&&i.removeAttribute("value"),v==null&&w!=null&&(i.defaultChecked=!!w),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+Bn(O):i.removeAttribute("name")}function qf(i,a,u,h,v,w,S,O){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),a!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){dt(i);return}u=u!=null?""+Bn(u):"",a=a!=null?""+Bn(a):u,O||a===i.value||(i.value=a),i.defaultValue=a}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=O?i.checked:!!h,i.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),dt(i)}function Mu(i,a,u){a==="number"&&ci(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function No(i,a,u,h){if(i=i.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=a.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&h&&(i[u].defaultSelected=!0)}else{for(u=""+Bn(u),a=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,h&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function $f(i,a,u){if(a!=null&&(a=""+Bn(a),a!==i.value&&(i.value=a),u==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=u!=null?""+Bn(u):""}function Ro(i,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(ce(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=Bn(a),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),dt(i)}function gr(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var Yf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(i,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,u):typeof u!="number"||u===0||Yf.has(a)?a==="float"?i.cssFloat=u:i[a]=(""+u).trim():i[a]=u+"px"}function ku(i,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var v in a)h=a[v],a.hasOwnProperty(v)&&u[v]!==h&&Lu(i,v,h)}else for(var w in a)a.hasOwnProperty(w)&&Lu(i,w,a[w])}function Sl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tl(i){return Qo.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Es(){}var Pu=null;function Xr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Do=null,ui=null;function tA(i){var a=Yr(i);if(a&&(i=a.stateNode)){var u=i[bn]||null;e:switch(i=a.stateNode,a.type){case"input":if(_l(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+pr(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==i&&h.form===i.form){var v=h[bn]||null;if(!v)throw Error(r(90));_l(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===i.form&&Za(h)}break e;case"textarea":$f(i,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&No(i,!!u.multiple,a,!1)}}}var Il=!1;function Oo(i,a,u){if(Il)return i(a,u);Il=!0;try{var h=i(a);return h}finally{if(Il=!1,(Do!==null||ui!==null)&&(Kp(),Do&&(a=Do,i=ui,ui=Do=null,tA(a),i)))for(a=0;a<i.length;a++)tA(i[a])}}function _s(i,a){var u=i.stateNode;if(u===null)return null;var h=u[bn]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nA=!1;if(Jr)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){nA=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{nA=!1}var di=null,Hu=null,rA=null;function ju(){if(rA)return rA;var i,a=Hu,u=a.length,h,v="value"in di?di.value:di.textContent,w=v.length;for(i=0;i<u&&a[i]===v[i];i++);var S=u-i;for(h=1;h<=S&&a[u-h]===v[w-h];h++);return rA=v.slice(i,1<h?1-h:void 0)}function sA(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Di(){return!0}function Ss(){return!1}function Rn(i){function a(u,h,v,w,S){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=S,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(u=i[O],this[O]=u?u(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Di:Ss,this.isPropagationStopped=Ss,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),a}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Rn(Oi),Mo=p({},Oi,{view:0,detail:0}),Vu=Rn(Mo),Lo,Ul,fi,Fl=p({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ko,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fi&&(fi&&i.type==="mousemove"?(Lo=i.screenX-fi.screenX,Ul=i.screenY-fi.screenY):Ul=Lo=0,fi=i),Lo)},movementY:function(i){return"movementY"in i?i.movementY:Ul}}),Ku=Rn(Fl),iA=p({},Fl,{dataTransfer:0}),Jf=Rn(iA),Zf=p({},Mo,{relatedTarget:0}),oA=Rn(Zf),Gu=p({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=Rn(Gu),Nl=p({},Oi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tp=Rn(Nl),np=p({},Oi,{data:0}),pi=Rn(np),rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function op(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ip[i])?!!a[i]:!1}function ko(){return op}var ar=p({},Mo,{key:function(i){if(i.key){var a=rp[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=sA(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sp[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ko,charCode:function(i){return i.type==="keypress"?sA(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sA(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ap=Rn(ar),Ap=p({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Rn(Ap),y=p({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ko}),x=Rn(y),T=p({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=Rn(T),$=p({},Fl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=Rn($),pe=p({},Oi,{newState:0,oldState:0}),Me=Rn(pe),zt=[9,13,27,32],ot=Jr&&"CompositionEvent"in window,Nt=null;Jr&&"documentMode"in document&&(Nt=document.documentMode);var Zr=Jr&&"TextEvent"in window&&!Nt,gi=Jr&&(!ot||Nt&&8<Nt&&11>=Nt),Ts=" ",Is=!1;function aA(i,a){switch(i){case"keyup":return zt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ql=!1;function w5(i,a){switch(i){case"compositionend":return Rl(a);case"keypress":return a.which!==32?null:(Is=!0,Ts);case"textInput":return i=a.data,i===Ts&&Is?null:i;default:return null}}function b5(i,a){if(Ql)return i==="compositionend"||!ot&&aA(i,a)?(i=ju(),rA=Hu=di=null,Ql=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gi&&a.locale!=="ko"?null:a.data;default:return null}}var B5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B1(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!B5[i.type]:a==="textarea"}function C1(i,a,u,h){Do?ui?ui.push(h):ui=[h]:Do=h,a=Xp(a,"onChange"),0<a.length&&(u=new hi("onChange","change",null,u,h),i.push({event:u,listeners:a}))}var zu=null,Wu=null;function C5(i){iI(i,0)}function lp(i){var a=Nr(i);if(Za(a))return i}function x1(i,a){if(i==="change")return a}var E1=!1;if(Jr){var Yy;if(Jr){var Xy="oninput"in document;if(!Xy){var _1=document.createElement("div");_1.setAttribute("oninput","return;"),Xy=typeof _1.oninput=="function"}Yy=Xy}else Yy=!1;E1=Yy&&(!document.documentMode||9<document.documentMode)}function S1(){zu&&(zu.detachEvent("onpropertychange",T1),Wu=zu=null)}function T1(i){if(i.propertyName==="value"&&lp(Wu)){var a=[];C1(a,Wu,i,Xr(i)),Oo(C5,a)}}function x5(i,a,u){i==="focusin"?(S1(),zu=a,Wu=u,zu.attachEvent("onpropertychange",T1)):i==="focusout"&&S1()}function E5(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lp(Wu)}function _5(i,a){if(i==="click")return lp(a)}function S5(i,a){if(i==="input"||i==="change")return lp(a)}function T5(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Qr=typeof Object.is=="function"?Object.is:T5;function qu(i,a){if(Qr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!Jt.call(a,v)||!Qr(i[v],a[v]))return!1}return!0}function I1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function U1(i,a){var u=I1(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=a&&h>=a)return{node:u,offset:a-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=I1(u)}}function F1(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?F1(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function N1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=ci(i.document);a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=ci(i.document)}return a}function Jy(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var I5=Jr&&"documentMode"in document&&11>=document.documentMode,Dl=null,Zy=null,$u=null,ev=!1;function R1(i,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ev||Dl==null||Dl!==ci(h)||(h=Dl,"selectionStart"in h&&Jy(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),$u&&qu($u,h)||($u=h,h=Xp(Zy,"onSelect"),0<h.length&&(a=new hi("onSelect","select",null,a,u),i.push({event:a,listeners:h}),a.target=Dl)))}function AA(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var Ol={animationend:AA("Animation","AnimationEnd"),animationiteration:AA("Animation","AnimationIteration"),animationstart:AA("Animation","AnimationStart"),transitionrun:AA("Transition","TransitionRun"),transitionstart:AA("Transition","TransitionStart"),transitioncancel:AA("Transition","TransitionCancel"),transitionend:AA("Transition","TransitionEnd")},tv={},Q1={};Jr&&(Q1=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function lA(i){if(tv[i])return tv[i];if(!Ol[i])return i;var a=Ol[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in Q1)return tv[i]=a[u];return i}var D1=lA("animationend"),O1=lA("animationiteration"),M1=lA("animationstart"),U5=lA("transitionrun"),F5=lA("transitionstart"),N5=lA("transitioncancel"),L1=lA("transitionend"),k1=new Map,nv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nv.push("scrollEnd");function Us(i,a){k1.set(i,a),Ai(a,[i])}var cp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},es=[],Ml=0,rv=0;function up(){for(var i=Ml,a=rv=Ml=0;a<i;){var u=es[a];es[a++]=null;var h=es[a];es[a++]=null;var v=es[a];es[a++]=null;var w=es[a];if(es[a++]=null,h!==null&&v!==null){var S=h.pending;S===null?v.next=v:(v.next=S.next,S.next=v),h.pending=v}w!==0&&P1(u,v,w)}}function dp(i,a,u,h){es[Ml++]=i,es[Ml++]=a,es[Ml++]=u,es[Ml++]=h,rv|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function sv(i,a,u,h){return dp(i,a,u,h),hp(i)}function cA(i,a){return dp(i,null,null,a),hp(i)}function P1(i,a,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var v=!1,w=i.return;w!==null;)w.childLanes|=u,h=w.alternate,h!==null&&(h.childLanes|=u),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(v=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,v&&a!==null&&(v=31-Gt(u),i=w.hiddenUpdates,h=i[v],h===null?i[v]=[a]:h.push(a),a.lane=u|536870912),w):null}function hp(i){if(50<md)throw md=0,hw=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ll={};function R5(i,a,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(i,a,u,h){return new R5(i,a,u,h)}function iv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Li(i,a){var u=i.alternate;return u===null?(u=Dr(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function H1(i,a){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,a=u.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function fp(i,a,u,h,v,w){var S=0;if(h=i,typeof i=="function")iv(i)&&(S=1);else if(typeof i=="string")S=Lj(i,u,ue.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Dr(31,u,a,v),i.elementType=D,i.lanes=w,i;case C:return uA(u.children,v,w,a);case E:S=8,v|=24;break;case I:return i=Dr(12,u,a,v|2),i.elementType=I,i.lanes=w,i;case P:return i=Dr(13,u,a,v),i.elementType=P,i.lanes=w,i;case V:return i=Dr(19,u,a,v),i.elementType=V,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:S=10;break e;case F:S=9;break e;case j:S=11;break e;case R:S=14;break e;case U:S=16,h=null;break e}S=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Dr(S,u,a,v),a.elementType=i,a.type=h,a.lanes=w,a}function uA(i,a,u,h){return i=Dr(7,i,h,a),i.lanes=u,i}function ov(i,a,u){return i=Dr(6,i,null,a),i.lanes=u,i}function j1(i){var a=Dr(18,null,null,0);return a.stateNode=i,a}function av(i,a,u){return a=Dr(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var V1=new WeakMap;function ts(i,a){if(typeof i=="object"&&i!==null){var u=V1.get(i);return u!==void 0?u:(a={value:i,source:a,stack:_u(a)},V1.set(i,a),a)}return{value:i,source:a,stack:_u(a)}}var kl=[],Pl=0,pp=null,Yu=0,ns=[],rs=0,Po=null,mi=1,yi="";function ki(i,a){kl[Pl++]=Yu,kl[Pl++]=pp,pp=i,Yu=a}function K1(i,a,u){ns[rs++]=mi,ns[rs++]=yi,ns[rs++]=Po,Po=i;var h=mi;i=yi;var v=32-Gt(h)-1;h&=~(1<<v),u+=1;var w=32-Gt(a)+v;if(30<w){var S=v-v%5;w=(h&(1<<S)-1).toString(32),h>>=S,v-=S,mi=1<<32-Gt(a)+v|u<<v|h,yi=w+i}else mi=1<<w|u<<v|h,yi=i}function Av(i){i.return!==null&&(ki(i,1),K1(i,1,0))}function lv(i){for(;i===pp;)pp=kl[--Pl],kl[Pl]=null,Yu=kl[--Pl],kl[Pl]=null;for(;i===Po;)Po=ns[--rs],ns[rs]=null,yi=ns[--rs],ns[rs]=null,mi=ns[--rs],ns[rs]=null}function G1(i,a){ns[rs++]=mi,ns[rs++]=yi,ns[rs++]=Po,mi=a.id,yi=a.overflow,Po=i}var Qn=null,St=null,tt=!1,Ho=null,ss=!1,cv=Error(r(519));function jo(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xu(ts(a,i)),cv}function z1(i){var a=i.stateNode,u=i.type,h=i.memoizedProps;switch(a[en]=i,a[bn]=h,u){case"dialog":$e("cancel",a),$e("close",a);break;case"iframe":case"object":case"embed":$e("load",a);break;case"video":case"audio":for(u=0;u<vd.length;u++)$e(vd[u],a);break;case"source":$e("error",a);break;case"img":case"image":case"link":$e("error",a),$e("load",a);break;case"details":$e("toggle",a);break;case"input":$e("invalid",a),qf(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":$e("invalid",a);break;case"textarea":$e("invalid",a),Ro(a,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||lI(a.textContent,u)?(h.popover!=null&&($e("beforetoggle",a),$e("toggle",a)),h.onScroll!=null&&$e("scroll",a),h.onScrollEnd!=null&&$e("scrollend",a),h.onClick!=null&&(a.onclick=Es),a=!0):a=!1,a||jo(i,!0)}function W1(i){for(Qn=i.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:Qn=Qn.return}}function Hl(i){if(i!==Qn)return!1;if(!tt)return W1(i),tt=!0,!1;var a=i.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Tw(i.type,i.memoizedProps)),u=!u),u&&St&&jo(i),W1(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));St=yI(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));St=yI(i)}else a===27?(a=St,na(i.type)?(i=Rw,Rw=null,St=i):St=a):St=Qn?os(i.stateNode.nextSibling):null;return!0}function dA(){St=Qn=null,tt=!1}function uv(){var i=Ho;return i!==null&&(wr===null?wr=i:wr.push.apply(wr,i),Ho=null),i}function Xu(i){Ho===null?Ho=[i]:Ho.push(i)}var dv=G(null),hA=null,Pi=null;function Vo(i,a,u){Ae(dv,a._currentValue),a._currentValue=u}function Hi(i){i._currentValue=dv.current,re(dv)}function hv(i,a,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===u)break;i=i.return}}function fv(i,a,u,h){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var w=v.dependencies;if(w!==null){var S=v.child;w=w.firstContext;e:for(;w!==null;){var O=w;w=v;for(var K=0;K<a.length;K++)if(O.context===a[K]){w.lanes|=u,O=w.alternate,O!==null&&(O.lanes|=u),hv(w.return,u,i),h||(S=null);break e}w=O.next}}else if(v.tag===18){if(S=v.return,S===null)throw Error(r(341));S.lanes|=u,w=S.alternate,w!==null&&(w.lanes|=u),hv(S,u,i),S=null}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===i){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}}function jl(i,a,u,h){i=null;for(var v=a,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var S=v.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var O=v.type;Qr(v.pendingProps.value,S.value)||(i!==null?i.push(O):i=[O])}}else if(v===we.current){if(S=v.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(xd):i=[xd])}v=v.return}i!==null&&fv(a,i,u,h),a.flags|=262144}function gp(i){for(i=i.firstContext;i!==null;){if(!Qr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fA(i){hA=i,Pi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dn(i){return q1(hA,i)}function mp(i,a){return hA===null&&fA(i),q1(i,a)}function q1(i,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Pi===null){if(i===null)throw Error(r(308));Pi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Pi=Pi.next=a;return u}var Q5=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(u){return u()})}},D5=t.unstable_scheduleCallback,O5=t.unstable_NormalPriority,rn={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pv(){return{controller:new Q5,data:new Map,refCount:0}}function Ju(i){i.refCount--,i.refCount===0&&D5(O5,function(){i.controller.abort()})}var Zu=null,gv=0,Vl=0,Kl=null;function M5(i,a){if(Zu===null){var u=Zu=[];gv=0,Vl=vw(),Kl={status:"pending",value:void 0,then:function(h){u.push(h)}}}return gv++,a.then($1,$1),a}function $1(){if(--gv===0&&Zu!==null){Kl!==null&&(Kl.status="fulfilled");var i=Zu;Zu=null,Vl=0,Kl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function L5(i,a){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var Y1=W.S;W.S=function(i,a){RT=or(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&M5(i,a),Y1!==null&&Y1(i,a)};var pA=G(null);function mv(){var i=pA.current;return i!==null?i:Bt.pooledCache}function yp(i,a){a===null?Ae(pA,pA.current):Ae(pA,a.pool)}function X1(){var i=mv();return i===null?null:{parent:rn._currentValue,pool:i}}var Gl=Error(r(460)),yv=Error(r(474)),vp=Error(r(542)),wp={then:function(){}};function J1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Z1(i,a,u){switch(u=i[u],u===void 0?i.push(a):u!==a&&(a.then(Es,Es),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,tS(i),i;default:if(typeof a.status=="string")a.then(Es,Es);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=h}},function(h){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,tS(i),i}throw mA=a,Gl}}function gA(i){try{var a=i._init;return a(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(mA=u,Gl):u}}var mA=null;function eS(){if(mA===null)throw Error(r(459));var i=mA;return mA=null,i}function tS(i){if(i===Gl||i===vp)throw Error(r(483))}var zl=null,ed=0;function bp(i){var a=ed;return ed+=1,zl===null&&(zl=[]),Z1(zl,i,a)}function td(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Bp(i,a){throw a.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function nS(i){function a(q,z){if(i){var X=q.deletions;X===null?(q.deletions=[z],q.flags|=16):X.push(z)}}function u(q,z){if(!i)return null;for(;z!==null;)a(q,z),z=z.sibling;return null}function h(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function v(q,z){return q=Li(q,z),q.index=0,q.sibling=null,q}function w(q,z,X){return q.index=X,i?(X=q.alternate,X!==null?(X=X.index,X<z?(q.flags|=67108866,z):X):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function S(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function O(q,z,X,oe){return z===null||z.tag!==6?(z=ov(X,q.mode,oe),z.return=q,z):(z=v(z,X),z.return=q,z)}function K(q,z,X,oe){var Ue=X.type;return Ue===C?ie(q,z,X.props.children,oe,X.key):z!==null&&(z.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===U&&gA(Ue)===z.type)?(z=v(z,X.props),td(z,X),z.return=q,z):(z=fp(X.type,X.key,X.props,null,q.mode,oe),td(z,X),z.return=q,z)}function J(q,z,X,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=av(X,q.mode,oe),z.return=q,z):(z=v(z,X.children||[]),z.return=q,z)}function ie(q,z,X,oe,Ue){return z===null||z.tag!==7?(z=uA(X,q.mode,oe,Ue),z.return=q,z):(z=v(z,X),z.return=q,z)}function ae(q,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ov(""+z,q.mode,X),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return X=fp(z.type,z.key,z.props,null,q.mode,X),td(X,z),X.return=q,X;case B:return z=av(z,q.mode,X),z.return=q,z;case U:return z=gA(z),ae(q,z,X)}if(ce(z)||M(z))return z=uA(z,q.mode,X,null),z.return=q,z;if(typeof z.then=="function")return ae(q,bp(z),X);if(z.$$typeof===Q)return ae(q,mp(q,z),X);Bp(q,z)}return null}function Z(q,z,X,oe){var Ue=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ue!==null?null:O(q,z,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===Ue?K(q,z,X,oe):null;case B:return X.key===Ue?J(q,z,X,oe):null;case U:return X=gA(X),Z(q,z,X,oe)}if(ce(X)||M(X))return Ue!==null?null:ie(q,z,X,oe,null);if(typeof X.then=="function")return Z(q,z,bp(X),oe);if(X.$$typeof===Q)return Z(q,z,mp(q,X),oe);Bp(q,X)}return null}function te(q,z,X,oe,Ue){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return q=q.get(X)||null,O(z,q,""+oe,Ue);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return q=q.get(oe.key===null?X:oe.key)||null,K(z,q,oe,Ue);case B:return q=q.get(oe.key===null?X:oe.key)||null,J(z,q,oe,Ue);case U:return oe=gA(oe),te(q,z,X,oe,Ue)}if(ce(oe)||M(oe))return q=q.get(X)||null,ie(z,q,oe,Ue,null);if(typeof oe.then=="function")return te(q,z,X,bp(oe),Ue);if(oe.$$typeof===Q)return te(q,z,X,mp(z,oe),Ue);Bp(z,oe)}return null}function be(q,z,X,oe){for(var Ue=null,st=null,Ee=z,ke=z=0,Ze=null;Ee!==null&&ke<X.length;ke++){Ee.index>ke?(Ze=Ee,Ee=null):Ze=Ee.sibling;var it=Z(q,Ee,X[ke],oe);if(it===null){Ee===null&&(Ee=Ze);break}i&&Ee&&it.alternate===null&&a(q,Ee),z=w(it,z,ke),st===null?Ue=it:st.sibling=it,st=it,Ee=Ze}if(ke===X.length)return u(q,Ee),tt&&ki(q,ke),Ue;if(Ee===null){for(;ke<X.length;ke++)Ee=ae(q,X[ke],oe),Ee!==null&&(z=w(Ee,z,ke),st===null?Ue=Ee:st.sibling=Ee,st=Ee);return tt&&ki(q,ke),Ue}for(Ee=h(Ee);ke<X.length;ke++)Ze=te(Ee,q,ke,X[ke],oe),Ze!==null&&(i&&Ze.alternate!==null&&Ee.delete(Ze.key===null?ke:Ze.key),z=w(Ze,z,ke),st===null?Ue=Ze:st.sibling=Ze,st=Ze);return i&&Ee.forEach(function(aa){return a(q,aa)}),tt&&ki(q,ke),Ue}function Ne(q,z,X,oe){if(X==null)throw Error(r(151));for(var Ue=null,st=null,Ee=z,ke=z=0,Ze=null,it=X.next();Ee!==null&&!it.done;ke++,it=X.next()){Ee.index>ke?(Ze=Ee,Ee=null):Ze=Ee.sibling;var aa=Z(q,Ee,it.value,oe);if(aa===null){Ee===null&&(Ee=Ze);break}i&&Ee&&aa.alternate===null&&a(q,Ee),z=w(aa,z,ke),st===null?Ue=aa:st.sibling=aa,st=aa,Ee=Ze}if(it.done)return u(q,Ee),tt&&ki(q,ke),Ue;if(Ee===null){for(;!it.done;ke++,it=X.next())it=ae(q,it.value,oe),it!==null&&(z=w(it,z,ke),st===null?Ue=it:st.sibling=it,st=it);return tt&&ki(q,ke),Ue}for(Ee=h(Ee);!it.done;ke++,it=X.next())it=te(Ee,q,ke,it.value,oe),it!==null&&(i&&it.alternate!==null&&Ee.delete(it.key===null?ke:it.key),z=w(it,z,ke),st===null?Ue=it:st.sibling=it,st=it);return i&&Ee.forEach(function($j){return a(q,$j)}),tt&&ki(q,ke),Ue}function vt(q,z,X,oe){if(typeof X=="object"&&X!==null&&X.type===C&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var Ue=X.key;z!==null;){if(z.key===Ue){if(Ue=X.type,Ue===C){if(z.tag===7){u(q,z.sibling),oe=v(z,X.props.children),oe.return=q,q=oe;break e}}else if(z.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===U&&gA(Ue)===z.type){u(q,z.sibling),oe=v(z,X.props),td(oe,X),oe.return=q,q=oe;break e}u(q,z);break}else a(q,z);z=z.sibling}X.type===C?(oe=uA(X.props.children,q.mode,oe,X.key),oe.return=q,q=oe):(oe=fp(X.type,X.key,X.props,null,q.mode,oe),td(oe,X),oe.return=q,q=oe)}return S(q);case B:e:{for(Ue=X.key;z!==null;){if(z.key===Ue)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){u(q,z.sibling),oe=v(z,X.children||[]),oe.return=q,q=oe;break e}else{u(q,z);break}else a(q,z);z=z.sibling}oe=av(X,q.mode,oe),oe.return=q,q=oe}return S(q);case U:return X=gA(X),vt(q,z,X,oe)}if(ce(X))return be(q,z,X,oe);if(M(X)){if(Ue=M(X),typeof Ue!="function")throw Error(r(150));return X=Ue.call(X),Ne(q,z,X,oe)}if(typeof X.then=="function")return vt(q,z,bp(X),oe);if(X.$$typeof===Q)return vt(q,z,mp(q,X),oe);Bp(q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(u(q,z.sibling),oe=v(z,X),oe.return=q,q=oe):(u(q,z),oe=ov(X,q.mode,oe),oe.return=q,q=oe),S(q)):u(q,z)}return function(q,z,X,oe){try{ed=0;var Ue=vt(q,z,X,oe);return zl=null,Ue}catch(Ee){if(Ee===Gl||Ee===vp)throw Ee;var st=Dr(29,Ee,null,q.mode);return st.lanes=oe,st.return=q,st}finally{}}}var yA=nS(!0),rS=nS(!1),Ko=!1;function vv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wv(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Go(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zo(i,a,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(at&2)!==0){var v=h.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),h.pending=a,a=hp(i),P1(i,null,u),a}return dp(i,h,a,u),hp(i)}function nd(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,u|=h,a.lanes=u,Iu(i,u)}}function bv(i,a){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?v=w=S:w=w.next=S,u=u.next}while(u!==null);w===null?v=w=a:w=w.next=a}else v=w=a;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}var Bv=!1;function rd(){if(Bv){var i=Kl;if(i!==null)throw i}}function sd(i,a,u,h){Bv=!1;var v=i.updateQueue;Ko=!1;var w=v.firstBaseUpdate,S=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var K=O,J=K.next;K.next=null,S===null?w=J:S.next=J,S=K;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==S&&(O===null?ie.firstBaseUpdate=J:O.next=J,ie.lastBaseUpdate=K))}if(w!==null){var ae=v.baseState;S=0,ie=J=K=null,O=w;do{var Z=O.lane&-536870913,te=Z!==O.lane;if(te?(Je&Z)===Z:(h&Z)===Z){Z!==0&&Z===Vl&&(Bv=!0),ie!==null&&(ie=ie.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var be=i,Ne=O;Z=a;var vt=u;switch(Ne.tag){case 1:if(be=Ne.payload,typeof be=="function"){ae=be.call(vt,ae,Z);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ne.payload,Z=typeof be=="function"?be.call(vt,ae,Z):be,Z==null)break e;ae=p({},ae,Z);break e;case 2:Ko=!0}}Z=O.callback,Z!==null&&(i.flags|=64,te&&(i.flags|=8192),te=v.callbacks,te===null?v.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(J=ie=te,K=ae):ie=ie.next=te,S|=Z;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;te=O,O=te.next,te.next=null,v.lastBaseUpdate=te,v.shared.pending=null}}while(!0);ie===null&&(K=ae),v.baseState=K,v.firstBaseUpdate=J,v.lastBaseUpdate=ie,w===null&&(v.shared.lanes=0),Xo|=S,i.lanes=S,i.memoizedState=ae}}function sS(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function iS(i,a){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)sS(u[i],a)}var Wl=G(null),Cp=G(0);function oS(i,a){i=Yi,Ae(Cp,i),Ae(Wl,a),Yi=i|a.baseLanes}function Cv(){Ae(Cp,Yi),Ae(Wl,Wl.current)}function xv(){Yi=Cp.current,re(Wl),re(Cp)}var Or=G(null),is=null;function Wo(i){var a=i.alternate;Ae(Wt,Wt.current&1),Ae(Or,i),is===null&&(a===null||Wl.current!==null||a.memoizedState!==null)&&(is=i)}function Ev(i){Ae(Wt,Wt.current),Ae(Or,i),is===null&&(is=i)}function aS(i){i.tag===22?(Ae(Wt,Wt.current),Ae(Or,i),is===null&&(is=i)):qo()}function qo(){Ae(Wt,Wt.current),Ae(Or,Or.current)}function Mr(i){re(Or),is===i&&(is=null),re(Wt)}var Wt=G(0);function xp(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Fw(u)||Nw(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ji=0,Le=null,mt=null,sn=null,Ep=!1,ql=!1,vA=!1,_p=0,id=0,$l=null,k5=0;function Pt(){throw Error(r(321))}function _v(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Qr(i[u],a[u]))return!1;return!0}function Sv(i,a,u,h,v,w){return ji=w,Le=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=i===null||i.memoizedState===null?KS:jv,vA=!1,w=u(h,v),vA=!1,ql&&(w=lS(a,u,h,v)),AS(i),w}function AS(i){W.H=Ad;var a=mt!==null&&mt.next!==null;if(ji=0,sn=mt=Le=null,Ep=!1,id=0,$l=null,a)throw Error(r(300));i===null||on||(i=i.dependencies,i!==null&&gp(i)&&(on=!0))}function lS(i,a,u,h){Le=i;var v=0;do{if(ql&&($l=null),id=0,ql=!1,25<=v)throw Error(r(301));if(v+=1,sn=mt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}W.H=GS,w=a(u,h)}while(ql);return w}function P5(){var i=W.H,a=i.useState()[0];return a=typeof a.then=="function"?od(a):a,i=i.useState()[0],(mt!==null?mt.memoizedState:null)!==i&&(Le.flags|=1024),a}function Tv(){var i=_p!==0;return _p=0,i}function Iv(i,a,u){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~u}function Uv(i){if(Ep){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Ep=!1}ji=0,sn=mt=Le=null,ql=!1,id=_p=0,$l=null}function Ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Le.memoizedState=sn=i:sn=sn.next=i,sn}function qt(){if(mt===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var a=sn===null?Le.memoizedState:sn.next;if(a!==null)sn=a,mt=i;else{if(i===null)throw Le.alternate===null?Error(r(467)):Error(r(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},sn===null?Le.memoizedState=sn=i:sn=sn.next=i}return sn}function Sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function od(i){var a=id;return id+=1,$l===null&&($l=[]),i=Z1($l,i,a),a=Le,(sn===null?a.memoizedState:sn.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?KS:jv),i}function Tp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return od(i);if(i.$$typeof===Q)return Dn(i)}throw Error(r(438,String(i)))}function Fv(i){var a=null,u=Le.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=Le.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Sp(),Le.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(i),h=0;h<i;h++)u[h]=L;return a.index++,u}function Vi(i,a){return typeof a=="function"?a(i):a}function Ip(i){var a=qt();return Nv(a,mt,i)}function Nv(i,a,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=i.baseQueue,w=h.pending;if(w!==null){if(v!==null){var S=v.next;v.next=w.next,w.next=S}a.baseQueue=v=w,h.pending=null}if(w=i.baseState,v===null)i.memoizedState=w;else{a=v.next;var O=S=null,K=null,J=a,ie=!1;do{var ae=J.lane&-536870913;if(ae!==J.lane?(Je&ae)===ae:(ji&ae)===ae){var Z=J.revertLane;if(Z===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ae===Vl&&(ie=!0);else if((ji&Z)===Z){J=J.next,Z===Vl&&(ie=!0);continue}else ae={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},K===null?(O=K=ae,S=w):K=K.next=ae,Le.lanes|=Z,Xo|=Z;ae=J.action,vA&&u(w,ae),w=J.hasEagerState?J.eagerState:u(w,ae)}else Z={lane:ae,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},K===null?(O=K=Z,S=w):K=K.next=Z,Le.lanes|=ae,Xo|=ae;J=J.next}while(J!==null&&J!==a);if(K===null?S=w:K.next=O,!Qr(w,i.memoizedState)&&(on=!0,ie&&(u=Kl,u!==null)))throw u;i.memoizedState=w,i.baseState=S,i.baseQueue=K,h.lastRenderedState=w}return v===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Rv(i){var a=qt(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,v=u.pending,w=a.memoizedState;if(v!==null){u.pending=null;var S=v=v.next;do w=i(w,S.action),S=S.next;while(S!==v);Qr(w,a.memoizedState)||(on=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,h]}function cS(i,a,u){var h=Le,v=qt(),w=tt;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=a();var S=!Qr((mt||v).memoizedState,u);if(S&&(v.memoizedState=u,on=!0),v=v.queue,Ov(hS.bind(null,h,v,i),[i]),v.getSnapshot!==a||S||sn!==null&&sn.memoizedState.tag&1){if(h.flags|=2048,Yl(9,{destroy:void 0},dS.bind(null,h,v,u,a),null),Bt===null)throw Error(r(349));w||(ji&127)!==0||uS(h,a,u)}return u}function uS(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Le.updateQueue,a===null?(a=Sp(),Le.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function dS(i,a,u,h){a.value=u,a.getSnapshot=h,fS(a)&&pS(i)}function hS(i,a,u){return u(function(){fS(a)&&pS(i)})}function fS(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Qr(i,u)}catch{return!0}}function pS(i){var a=cA(i,2);a!==null&&br(a,i,2)}function Qv(i){var a=Ar();if(typeof i=="function"){var u=i;if(i=u(),vA){$r(!0);try{u()}finally{$r(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:i},a}function gS(i,a,u,h){return i.baseState=u,Nv(i,mt,typeof h=="function"?h:Vi)}function H5(i,a,u,h,v){if(Np(i))throw Error(r(485));if(i=a.action,i!==null){var w={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){w.listeners.push(S)}};W.T!==null?u(!0):w.isTransition=!1,h(w),u=a.pending,u===null?(w.next=a.pending=w,mS(a,w)):(w.next=u.next,a.pending=u.next=w)}}function mS(i,a){var u=a.action,h=a.payload,v=i.state;if(a.isTransition){var w=W.T,S={};W.T=S;try{var O=u(v,h),K=W.S;K!==null&&K(S,O),yS(i,a,O)}catch(J){Dv(i,a,J)}finally{w!==null&&S.types!==null&&(w.types=S.types),W.T=w}}else try{w=u(v,h),yS(i,a,w)}catch(J){Dv(i,a,J)}}function yS(i,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){vS(i,a,h)},function(h){return Dv(i,a,h)}):vS(i,a,u)}function vS(i,a,u){a.status="fulfilled",a.value=u,wS(a),i.state=u,a=i.pending,a!==null&&(u=a.next,u===a?i.pending=null:(u=u.next,a.next=u,mS(i,u)))}function Dv(i,a,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,wS(a),a=a.next;while(a!==h)}i.action=null}function wS(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function bS(i,a){return a}function BS(i,a){if(tt){var u=Bt.formState;if(u!==null){e:{var h=Le;if(tt){if(St){t:{for(var v=St,w=ss;v.nodeType!==8;){if(!w){v=null;break t}if(v=os(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){St=os(v.nextSibling),h=v.data==="F!";break e}}jo(h)}h=!1}h&&(a=u[0])}}return u=Ar(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bS,lastRenderedState:a},u.queue=h,u=HS.bind(null,Le,h),h.dispatch=u,h=Qv(!1),w=Hv.bind(null,Le,!1,h.queue),h=Ar(),v={state:a,dispatch:null,action:i,pending:null},h.queue=v,u=H5.bind(null,Le,v,w,u),v.dispatch=u,h.memoizedState=i,[a,u,!1]}function CS(i){var a=qt();return xS(a,mt,i)}function xS(i,a,u){if(a=Nv(i,a,bS)[0],i=Ip(Vi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=od(a)}catch(S){throw S===Gl?vp:S}else h=a;a=qt();var v=a.queue,w=v.dispatch;return u!==a.memoizedState&&(Le.flags|=2048,Yl(9,{destroy:void 0},j5.bind(null,v,u),null)),[h,w,i]}function j5(i,a){i.action=a}function ES(i){var a=qt(),u=mt;if(u!==null)return xS(a,u,i);qt(),a=a.memoizedState,u=qt();var h=u.queue.dispatch;return u.memoizedState=i,[a,h,!1]}function Yl(i,a,u,h){return i={tag:i,create:u,deps:h,inst:a,next:null},a=Le.updateQueue,a===null&&(a=Sp(),Le.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,a.lastEffect=i),i}function _S(){return qt().memoizedState}function Up(i,a,u,h){var v=Ar();Le.flags|=i,v.memoizedState=Yl(1|a,{destroy:void 0},u,h===void 0?null:h)}function Fp(i,a,u,h){var v=qt();h=h===void 0?null:h;var w=v.memoizedState.inst;mt!==null&&h!==null&&_v(h,mt.memoizedState.deps)?v.memoizedState=Yl(a,w,u,h):(Le.flags|=i,v.memoizedState=Yl(1|a,w,u,h))}function SS(i,a){Up(8390656,8,i,a)}function Ov(i,a){Fp(2048,8,i,a)}function V5(i){Le.flags|=4;var a=Le.updateQueue;if(a===null)a=Sp(),Le.updateQueue=a,a.events=[i];else{var u=a.events;u===null?a.events=[i]:u.push(i)}}function TS(i){var a=qt().memoizedState;return V5({ref:a,nextImpl:i}),function(){if((at&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function IS(i,a){return Fp(4,2,i,a)}function US(i,a){return Fp(4,4,i,a)}function FS(i,a){if(typeof a=="function"){i=i();var u=a(i);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function NS(i,a,u){u=u!=null?u.concat([i]):null,Fp(4,4,FS.bind(null,a,i),u)}function Mv(){}function RS(i,a){var u=qt();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&_v(a,h[1])?h[0]:(u.memoizedState=[i,a],i)}function QS(i,a){var u=qt();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&_v(a,h[1]))return h[0];if(h=i(),vA){$r(!0);try{i()}finally{$r(!1)}}return u.memoizedState=[h,a],h}function Lv(i,a,u){return u===void 0||(ji&1073741824)!==0&&(Je&261930)===0?i.memoizedState=a:(i.memoizedState=u,i=DT(),Le.lanes|=i,Xo|=i,u)}function DS(i,a,u,h){return Qr(u,a)?u:Wl.current!==null?(i=Lv(i,u,h),Qr(i,a)||(on=!0),i):(ji&42)===0||(ji&1073741824)!==0&&(Je&261930)===0?(on=!0,i.memoizedState=u):(i=DT(),Le.lanes|=i,Xo|=i,a)}function OS(i,a,u,h,v){var w=se.p;se.p=w!==0&&8>w?w:8;var S=W.T,O={};W.T=O,Hv(i,!1,a,u);try{var K=v(),J=W.S;if(J!==null&&J(O,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=L5(K,h);ad(i,a,ie,Pr(i))}else ad(i,a,h,Pr(i))}catch(ae){ad(i,a,{then:function(){},status:"rejected",reason:ae},Pr())}finally{se.p=w,S!==null&&O.types!==null&&(S.types=O.types),W.T=S}}function K5(){}function kv(i,a,u,h){if(i.tag!==5)throw Error(r(476));var v=MS(i).queue;OS(i,v,a,ne,u===null?K5:function(){return LS(i),u(h)})}function MS(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ne},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:u},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function LS(i){var a=MS(i);a.next===null&&(a=i.alternate.memoizedState),ad(i,a.next.queue,{},Pr())}function Pv(){return Dn(xd)}function kS(){return qt().memoizedState}function PS(){return qt().memoizedState}function G5(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var u=Pr();i=Go(u);var h=zo(a,i,u);h!==null&&(br(h,a,u),nd(h,a,u)),a={cache:pv()},i.payload=a;return}a=a.return}}function z5(i,a,u){var h=Pr();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Np(i)?jS(a,u):(u=sv(i,a,u,h),u!==null&&(br(u,i,h),VS(u,a,h)))}function HS(i,a,u){var h=Pr();ad(i,a,u,h)}function ad(i,a,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Np(i))jS(a,v);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var S=a.lastRenderedState,O=w(S,u);if(v.hasEagerState=!0,v.eagerState=O,Qr(O,S))return dp(i,a,v,0),Bt===null&&up(),!1}catch{}finally{}if(u=sv(i,a,v,h),u!==null)return br(u,i,h),VS(u,a,h),!0}return!1}function Hv(i,a,u,h){if(h={lane:2,revertLane:vw(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Np(i)){if(a)throw Error(r(479))}else a=sv(i,u,h,2),a!==null&&br(a,i,2)}function Np(i){var a=i.alternate;return i===Le||a!==null&&a===Le}function jS(i,a){ql=Ep=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function VS(i,a,u){if((u&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,u|=h,a.lanes=u,Iu(i,u)}}var Ad={readContext:Dn,use:Tp,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};Ad.useEffectEvent=Pt;var KS={readContext:Dn,use:Tp,useCallback:function(i,a){return Ar().memoizedState=[i,a===void 0?null:a],i},useContext:Dn,useEffect:SS,useImperativeHandle:function(i,a,u){u=u!=null?u.concat([i]):null,Up(4194308,4,FS.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Up(4194308,4,i,a)},useInsertionEffect:function(i,a){Up(4,2,i,a)},useMemo:function(i,a){var u=Ar();a=a===void 0?null:a;var h=i();if(vA){$r(!0);try{i()}finally{$r(!1)}}return u.memoizedState=[h,a],h},useReducer:function(i,a,u){var h=Ar();if(u!==void 0){var v=u(a);if(vA){$r(!0);try{u(a)}finally{$r(!1)}}}else v=a;return h.memoizedState=h.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},h.queue=i,i=i.dispatch=z5.bind(null,Le,i),[h.memoizedState,i]},useRef:function(i){var a=Ar();return i={current:i},a.memoizedState=i},useState:function(i){i=Qv(i);var a=i.queue,u=HS.bind(null,Le,a);return a.dispatch=u,[i.memoizedState,u]},useDebugValue:Mv,useDeferredValue:function(i,a){var u=Ar();return Lv(u,i,a)},useTransition:function(){var i=Qv(!1);return i=OS.bind(null,Le,i.queue,!0,!1),Ar().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,u){var h=Le,v=Ar();if(tt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Bt===null)throw Error(r(349));(Je&127)!==0||uS(h,a,u)}v.memoizedState=u;var w={value:u,getSnapshot:a};return v.queue=w,SS(hS.bind(null,h,w,i),[i]),h.flags|=2048,Yl(9,{destroy:void 0},dS.bind(null,h,w,u,a),null),u},useId:function(){var i=Ar(),a=Bt.identifierPrefix;if(tt){var u=yi,h=mi;u=(h&~(1<<32-Gt(h)-1)).toString(32)+u,a="_"+a+"R_"+u,u=_p++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=k5++,a="_"+a+"r_"+u.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Pv,useFormState:BS,useActionState:BS,useOptimistic:function(i){var a=Ar();a.memoizedState=a.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Hv.bind(null,Le,!0,u),u.dispatch=a,[i,a]},useMemoCache:Fv,useCacheRefresh:function(){return Ar().memoizedState=G5.bind(null,Le)},useEffectEvent:function(i){var a=Ar(),u={impl:i};return a.memoizedState=u,function(){if((at&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},jv={readContext:Dn,use:Tp,useCallback:RS,useContext:Dn,useEffect:Ov,useImperativeHandle:NS,useInsertionEffect:IS,useLayoutEffect:US,useMemo:QS,useReducer:Ip,useRef:_S,useState:function(){return Ip(Vi)},useDebugValue:Mv,useDeferredValue:function(i,a){var u=qt();return DS(u,mt.memoizedState,i,a)},useTransition:function(){var i=Ip(Vi)[0],a=qt().memoizedState;return[typeof i=="boolean"?i:od(i),a]},useSyncExternalStore:cS,useId:kS,useHostTransitionStatus:Pv,useFormState:CS,useActionState:CS,useOptimistic:function(i,a){var u=qt();return gS(u,mt,i,a)},useMemoCache:Fv,useCacheRefresh:PS};jv.useEffectEvent=TS;var GS={readContext:Dn,use:Tp,useCallback:RS,useContext:Dn,useEffect:Ov,useImperativeHandle:NS,useInsertionEffect:IS,useLayoutEffect:US,useMemo:QS,useReducer:Rv,useRef:_S,useState:function(){return Rv(Vi)},useDebugValue:Mv,useDeferredValue:function(i,a){var u=qt();return mt===null?Lv(u,i,a):DS(u,mt.memoizedState,i,a)},useTransition:function(){var i=Rv(Vi)[0],a=qt().memoizedState;return[typeof i=="boolean"?i:od(i),a]},useSyncExternalStore:cS,useId:kS,useHostTransitionStatus:Pv,useFormState:ES,useActionState:ES,useOptimistic:function(i,a){var u=qt();return mt!==null?gS(u,mt,i,a):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Fv,useCacheRefresh:PS};GS.useEffectEvent=TS;function Vv(i,a,u,h){a=i.memoizedState,u=u(h,a),u=u==null?a:p({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Kv={enqueueSetState:function(i,a,u){i=i._reactInternals;var h=Pr(),v=Go(h);v.payload=a,u!=null&&(v.callback=u),a=zo(i,v,h),a!==null&&(br(a,i,h),nd(a,i,h))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var h=Pr(),v=Go(h);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=zo(i,v,h),a!==null&&(br(a,i,h),nd(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Pr(),h=Go(u);h.tag=2,a!=null&&(h.callback=a),a=zo(i,h,u),a!==null&&(br(a,i,u),nd(a,i,u))}};function zS(i,a,u,h,v,w,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,S):a.prototype&&a.prototype.isPureReactComponent?!qu(u,h)||!qu(v,w):!0}function WS(i,a,u,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==i&&Kv.enqueueReplaceState(a,a.state,null)}function wA(i,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(i=i.defaultProps){u===a&&(u=p({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function qS(i){cp(i)}function $S(i){console.error(i)}function YS(i){cp(i)}function Rp(i,a){try{var u=i.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function XS(i,a,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Gv(i,a,u){return u=Go(u),u.tag=3,u.payload={element:null},u.callback=function(){Rp(i,a)},u}function JS(i){return i=Go(i),i.tag=3,i}function ZS(i,a,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;i.payload=function(){return v(w)},i.callback=function(){XS(a,u,h)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){XS(a,u,h),typeof v!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})})}function W5(i,a,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&jl(a,u,v,!0),u=Or.current,u!==null){switch(u.tag){case 31:case 13:return is===null?Gp():u.alternate===null&&Ht===0&&(Ht=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===wp?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),gw(i,h,v)),!1;case 22:return u.flags|=65536,h===wp?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),gw(i,h,v)),!1}throw Error(r(435,u.tag))}return gw(i,h,v),Gp(),!1}if(tt)return a=Or.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,h!==cv&&(i=Error(r(422),{cause:h}),Xu(ts(i,u)))):(h!==cv&&(a=Error(r(423),{cause:h}),Xu(ts(a,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,h=ts(h,u),v=Gv(i.stateNode,h,v),bv(i,v),Ht!==4&&(Ht=2)),!1;var w=Error(r(520),{cause:h});if(w=ts(w,u),gd===null?gd=[w]:gd.push(w),Ht!==4&&(Ht=2),a===null)return!0;h=ts(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=Gv(u.stateNode,h,i),bv(u,i),!1;case 1:if(a=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Jo===null||!Jo.has(w))))return u.flags|=65536,v&=-v,u.lanes|=v,v=JS(v),ZS(v,i,u,h),bv(u,v),!1}u=u.return}while(u!==null);return!1}var zv=Error(r(461)),on=!1;function On(i,a,u,h){a.child=i===null?rS(a,null,u,h):yA(a,i.child,u,h)}function eT(i,a,u,h,v){u=u.render;var w=a.ref;if("ref"in h){var S={};for(var O in h)O!=="ref"&&(S[O]=h[O])}else S=h;return fA(a),h=Sv(i,a,u,S,w,v),O=Tv(),i!==null&&!on?(Iv(i,a,v),Ki(i,a,v)):(tt&&O&&Av(a),a.flags|=1,On(i,a,h,v),a.child)}function tT(i,a,u,h,v){if(i===null){var w=u.type;return typeof w=="function"&&!iv(w)&&w.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=w,nT(i,a,w,h,v)):(i=fp(u.type,null,h,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,!ew(i,v)){var S=w.memoizedProps;if(u=u.compare,u=u!==null?u:qu,u(S,h)&&i.ref===a.ref)return Ki(i,a,v)}return a.flags|=1,i=Li(w,h),i.ref=a.ref,i.return=a,a.child=i}function nT(i,a,u,h,v){if(i!==null){var w=i.memoizedProps;if(qu(w,h)&&i.ref===a.ref)if(on=!1,a.pendingProps=h=w,ew(i,v))(i.flags&131072)!==0&&(on=!0);else return a.lanes=i.lanes,Ki(i,a,v)}return Wv(i,a,u,h,v)}function rT(i,a,u,h){var v=h.children,w=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,i!==null){for(h=a.child=i.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~w}else h=0,a.child=null;return sT(i,a,w,u,h)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&yp(a,w!==null?w.cachePool:null),w!==null?oS(a,w):Cv(),aS(a);else return h=a.lanes=536870912,sT(i,a,w!==null?w.baseLanes|u:u,u,h)}else w!==null?(yp(a,w.cachePool),oS(a,w),qo(),a.memoizedState=null):(i!==null&&yp(a,null),Cv(),qo());return On(i,a,v,u),a.child}function ld(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function sT(i,a,u,h,v){var w=mv();return w=w===null?null:{parent:rn._currentValue,pool:w},a.memoizedState={baseLanes:u,cachePool:w},i!==null&&yp(a,null),Cv(),aS(a),i!==null&&jl(i,a,h,!0),a.childLanes=v,null}function Qp(i,a){return a=Op({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function iT(i,a,u){return yA(a,i.child,null,u),i=Qp(a,a.pendingProps),i.flags|=2,Mr(a),a.memoizedState=null,i}function q5(i,a,u){var h=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(tt){if(h.mode==="hidden")return i=Qp(a,h),a.lanes=536870912,ld(null,i);if(Ev(a),(i=St)?(i=mI(i,ss),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Po!==null?{id:mi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},u=j1(i),u.return=a,a.child=u,Qn=a,St=null)):i=null,i===null)throw jo(a);return a.lanes=536870912,null}return Qp(a,h)}var w=i.memoizedState;if(w!==null){var S=w.dehydrated;if(Ev(a),v)if(a.flags&256)a.flags&=-257,a=iT(i,a,u);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(on||jl(i,a,u,!1),v=(u&i.childLanes)!==0,on||v){if(h=Bt,h!==null&&(S=Uu(h,u),S!==0&&S!==w.retryLane))throw w.retryLane=S,cA(i,S),br(h,i,S),zv;Gp(),a=iT(i,a,u)}else i=w.treeContext,St=os(S.nextSibling),Qn=a,tt=!0,Ho=null,ss=!1,i!==null&&G1(a,i),a=Qp(a,h),a.flags|=4096;return a}return i=Li(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Dp(i,a){var u=a.ref;if(u===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(a.flags|=4194816)}}function Wv(i,a,u,h,v){return fA(a),u=Sv(i,a,u,h,void 0,v),h=Tv(),i!==null&&!on?(Iv(i,a,v),Ki(i,a,v)):(tt&&h&&Av(a),a.flags|=1,On(i,a,u,v),a.child)}function oT(i,a,u,h,v,w){return fA(a),a.updateQueue=null,u=lS(a,h,u,v),AS(i),h=Tv(),i!==null&&!on?(Iv(i,a,w),Ki(i,a,w)):(tt&&h&&Av(a),a.flags|=1,On(i,a,u,w),a.child)}function aT(i,a,u,h,v){if(fA(a),a.stateNode===null){var w=Ll,S=u.contextType;typeof S=="object"&&S!==null&&(w=Dn(S)),w=new u(h,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Kv,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=h,w.state=a.memoizedState,w.refs={},vv(a),S=u.contextType,w.context=typeof S=="object"&&S!==null?Dn(S):Ll,w.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Vv(a,u,S,h),w.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(S=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),S!==w.state&&Kv.enqueueReplaceState(w,w.state,null),sd(a,h,w,v),rd(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){w=a.stateNode;var O=a.memoizedProps,K=wA(u,O);w.props=K;var J=w.context,ie=u.contextType;S=Ll,typeof ie=="object"&&ie!==null&&(S=Dn(ie));var ae=u.getDerivedStateFromProps;ie=typeof ae=="function"||typeof w.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O||J!==S)&&WS(a,w,h,S),Ko=!1;var Z=a.memoizedState;w.state=Z,sd(a,h,w,v),rd(),J=a.memoizedState,O||Z!==J||Ko?(typeof ae=="function"&&(Vv(a,u,ae,h),J=a.memoizedState),(K=Ko||zS(a,u,K,h,Z,J,S))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=J),w.props=h,w.state=J,w.context=S,h=K):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{w=a.stateNode,wv(i,a),S=a.memoizedProps,ie=wA(u,S),w.props=ie,ae=a.pendingProps,Z=w.context,J=u.contextType,K=Ll,typeof J=="object"&&J!==null&&(K=Dn(J)),O=u.getDerivedStateFromProps,(J=typeof O=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(S!==ae||Z!==K)&&WS(a,w,h,K),Ko=!1,Z=a.memoizedState,w.state=Z,sd(a,h,w,v),rd();var te=a.memoizedState;S!==ae||Z!==te||Ko||i!==null&&i.dependencies!==null&&gp(i.dependencies)?(typeof O=="function"&&(Vv(a,u,O,h),te=a.memoizedState),(ie=Ko||zS(a,u,ie,h,Z,te,K)||i!==null&&i.dependencies!==null&&gp(i.dependencies))?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,te,K),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,te,K)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||S===i.memoizedProps&&Z===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&Z===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=te),w.props=h,w.state=te,w.context=K,h=ie):(typeof w.componentDidUpdate!="function"||S===i.memoizedProps&&Z===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&Z===i.memoizedState||(a.flags|=1024),h=!1)}return w=h,Dp(i,a),h=(a.flags&128)!==0,w||h?(w=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,i!==null&&h?(a.child=yA(a,i.child,null,v),a.child=yA(a,null,u,v)):On(i,a,u,v),a.memoizedState=w.state,i=a.child):i=Ki(i,a,v),i}function AT(i,a,u,h){return dA(),a.flags|=256,On(i,a,u,h),a.child}var qv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $v(i){return{baseLanes:i,cachePool:X1()}}function Yv(i,a,u){return i=i!==null?i.childLanes&~u:0,a&&(i|=kr),i}function lT(i,a,u){var h=a.pendingProps,v=!1,w=(a.flags&128)!==0,S;if((S=w)||(S=i!==null&&i.memoizedState===null?!1:(Wt.current&2)!==0),S&&(v=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,i===null){if(tt){if(v?Wo(a):qo(),(i=St)?(i=mI(i,ss),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Po!==null?{id:mi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},u=j1(i),u.return=a,a.child=u,Qn=a,St=null)):i=null,i===null)throw jo(a);return Nw(i)?a.lanes=32:a.lanes=536870912,null}var O=h.children;return h=h.fallback,v?(qo(),v=a.mode,O=Op({mode:"hidden",children:O},v),h=uA(h,v,u,null),O.return=a,h.return=a,O.sibling=h,a.child=O,h=a.child,h.memoizedState=$v(u),h.childLanes=Yv(i,S,u),a.memoizedState=qv,ld(null,h)):(Wo(a),Xv(a,O))}var K=i.memoizedState;if(K!==null&&(O=K.dehydrated,O!==null)){if(w)a.flags&256?(Wo(a),a.flags&=-257,a=Jv(i,a,u)):a.memoizedState!==null?(qo(),a.child=i.child,a.flags|=128,a=null):(qo(),O=h.fallback,v=a.mode,h=Op({mode:"visible",children:h.children},v),O=uA(O,v,u,null),O.flags|=2,h.return=a,O.return=a,h.sibling=O,a.child=h,yA(a,i.child,null,u),h=a.child,h.memoizedState=$v(u),h.childLanes=Yv(i,S,u),a.memoizedState=qv,a=ld(null,h));else if(Wo(a),Nw(O)){if(S=O.nextSibling&&O.nextSibling.dataset,S)var J=S.dgst;S=J,h=Error(r(419)),h.stack="",h.digest=S,Xu({value:h,source:null,stack:null}),a=Jv(i,a,u)}else if(on||jl(i,a,u,!1),S=(u&i.childLanes)!==0,on||S){if(S=Bt,S!==null&&(h=Uu(S,u),h!==0&&h!==K.retryLane))throw K.retryLane=h,cA(i,h),br(S,i,h),zv;Fw(O)||Gp(),a=Jv(i,a,u)}else Fw(O)?(a.flags|=192,a.child=i.child,a=null):(i=K.treeContext,St=os(O.nextSibling),Qn=a,tt=!0,Ho=null,ss=!1,i!==null&&G1(a,i),a=Xv(a,h.children),a.flags|=4096);return a}return v?(qo(),O=h.fallback,v=a.mode,K=i.child,J=K.sibling,h=Li(K,{mode:"hidden",children:h.children}),h.subtreeFlags=K.subtreeFlags&65011712,J!==null?O=Li(J,O):(O=uA(O,v,u,null),O.flags|=2),O.return=a,h.return=a,h.sibling=O,a.child=h,ld(null,h),h=a.child,O=i.child.memoizedState,O===null?O=$v(u):(v=O.cachePool,v!==null?(K=rn._currentValue,v=v.parent!==K?{parent:K,pool:K}:v):v=X1(),O={baseLanes:O.baseLanes|u,cachePool:v}),h.memoizedState=O,h.childLanes=Yv(i,S,u),a.memoizedState=qv,ld(i.child,h)):(Wo(a),u=i.child,i=u.sibling,u=Li(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,i!==null&&(S=a.deletions,S===null?(a.deletions=[i],a.flags|=16):S.push(i)),a.child=u,a.memoizedState=null,u)}function Xv(i,a){return a=Op({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Op(i,a){return i=Dr(22,i,null,a),i.lanes=0,i}function Jv(i,a,u){return yA(a,i.child,null,u),i=Xv(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function cT(i,a,u){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),hv(i.return,a,u)}function Zv(i,a,u,h,v,w){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:w}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=u,S.tailMode=v,S.treeForkCount=w)}function uT(i,a,u){var h=a.pendingProps,v=h.revealOrder,w=h.tail;h=h.children;var S=Wt.current,O=(S&2)!==0;if(O?(S=S&1|2,a.flags|=128):S&=1,Ae(Wt,S),On(i,a,h,u),h=tt?Yu:0,!O&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cT(i,u,a);else if(i.tag===19)cT(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=a.child,v=null;u!==null;)i=u.alternate,i!==null&&xp(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Zv(a,!1,v,u,w,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&xp(i)===null){a.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Zv(a,!0,u,null,w,h);break;case"together":Zv(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Ki(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Xo|=a.lanes,(u&a.childLanes)===0)if(i!==null){if(jl(i,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,u=Li(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=Li(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function ew(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&gp(i)))}function $5(i,a,u){switch(a.tag){case 3:pt(a,a.stateNode.containerInfo),Vo(a,rn,i.memoizedState.cache),dA();break;case 27:case 5:hn(a);break;case 4:pt(a,a.stateNode.containerInfo);break;case 10:Vo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Ev(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Wo(a),a.flags|=128,null):(u&a.child.childLanes)!==0?lT(i,a,u):(Wo(a),i=Ki(i,a,u),i!==null?i.sibling:null);Wo(a);break;case 19:var v=(i.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(jl(i,a,u,!1),h=(u&a.childLanes)!==0),v){if(h)return uT(i,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ae(Wt,Wt.current),h)break;return null;case 22:return a.lanes=0,rT(i,a,u,a.pendingProps);case 24:Vo(a,rn,i.memoizedState.cache)}return Ki(i,a,u)}function dT(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps)on=!0;else{if(!ew(i,u)&&(a.flags&128)===0)return on=!1,$5(i,a,u);on=(i.flags&131072)!==0}else on=!1,tt&&(a.flags&1048576)!==0&&K1(a,Yu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(i=gA(a.elementType),a.type=i,typeof i=="function")iv(i)?(h=wA(i,h),a.tag=1,a=aT(null,a,i,h,u)):(a.tag=0,a=Wv(null,a,i,h,u));else{if(i!=null){var v=i.$$typeof;if(v===j){a.tag=11,a=eT(null,a,i,h,u);break e}else if(v===R){a.tag=14,a=tT(null,a,i,h,u);break e}}throw a=Y(i)||i,Error(r(306,a,""))}}return a;case 0:return Wv(i,a,a.type,a.pendingProps,u);case 1:return h=a.type,v=wA(h,a.pendingProps),aT(i,a,h,v,u);case 3:e:{if(pt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var w=a.memoizedState;v=w.element,wv(i,a),sd(a,h,null,u);var S=a.memoizedState;if(h=S.cache,Vo(a,rn,h),h!==w.cache&&fv(a,[rn],u,!0),rd(),h=S.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=AT(i,a,h,u);break e}else if(h!==v){v=ts(Error(r(424)),a),Xu(v),a=AT(i,a,h,u);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(St=os(i.firstChild),Qn=a,tt=!0,Ho=null,ss=!0,u=rS(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(dA(),h===v){a=Ki(i,a,u);break e}On(i,a,h,u)}a=a.child}return a;case 26:return Dp(i,a),i===null?(u=CI(a.type,null,a.pendingProps,null))?a.memoizedState=u:tt||(u=a.type,i=a.pendingProps,h=Jp(Te.current).createElement(u),h[en]=a,h[bn]=i,Mn(h,u,i),tn(h),a.stateNode=h):a.memoizedState=CI(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return hn(a),i===null&&tt&&(h=a.stateNode=wI(a.type,a.pendingProps,Te.current),Qn=a,ss=!0,v=St,na(a.type)?(Rw=v,St=os(h.firstChild)):St=v),On(i,a,a.pendingProps.children,u),Dp(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&tt&&((v=h=St)&&(h=Ej(h,a.type,a.pendingProps,ss),h!==null?(a.stateNode=h,Qn=a,St=os(h.firstChild),ss=!1,v=!0):v=!1),v||jo(a)),hn(a),v=a.type,w=a.pendingProps,S=i!==null?i.memoizedProps:null,h=w.children,Tw(v,w)?h=null:S!==null&&Tw(v,S)&&(a.flags|=32),a.memoizedState!==null&&(v=Sv(i,a,P5,null,null,u),xd._currentValue=v),Dp(i,a),On(i,a,h,u),a.child;case 6:return i===null&&tt&&((i=u=St)&&(u=_j(u,a.pendingProps,ss),u!==null?(a.stateNode=u,Qn=a,St=null,i=!0):i=!1),i||jo(a)),null;case 13:return lT(i,a,u);case 4:return pt(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=yA(a,null,h,u):On(i,a,h,u),a.child;case 11:return eT(i,a,a.type,a.pendingProps,u);case 7:return On(i,a,a.pendingProps,u),a.child;case 8:return On(i,a,a.pendingProps.children,u),a.child;case 12:return On(i,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,Vo(a,a.type,h.value),On(i,a,h.children,u),a.child;case 9:return v=a.type._context,h=a.pendingProps.children,fA(a),v=Dn(v),h=h(v),a.flags|=1,On(i,a,h,u),a.child;case 14:return tT(i,a,a.type,a.pendingProps,u);case 15:return nT(i,a,a.type,a.pendingProps,u);case 19:return uT(i,a,u);case 31:return q5(i,a,u);case 22:return rT(i,a,u,a.pendingProps);case 24:return fA(a),h=Dn(rn),i===null?(v=mv(),v===null&&(v=Bt,w=pv(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=u),v=w),a.memoizedState={parent:h,cache:v},vv(a),Vo(a,rn,v)):((i.lanes&u)!==0&&(wv(i,a),sd(a,null,null,u),rd()),v=i.memoizedState,w=a.memoizedState,v.parent!==h?(v={parent:h,cache:h},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Vo(a,rn,h)):(h=w.cache,Vo(a,rn,h),h!==v.cache&&fv(a,[rn],u,!0))),On(i,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Gi(i){i.flags|=4}function tw(i,a,u,h,v){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(kT())i.flags|=8192;else throw mA=wp,yv}else i.flags&=-16777217}function hT(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!TI(a))if(kT())i.flags|=8192;else throw mA=wp,yv}function Mp(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Vf():536870912,i.lanes|=a,ec|=a)}function cd(i,a){if(!tt)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Tt(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(a)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=h,i.childLanes=u,a}function Y5(i,a,u){var h=a.pendingProps;switch(lv(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(a),null;case 1:return Tt(a),null;case 3:return u=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Hi(rn),Ke(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Hl(a)?Gi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,uv())),Tt(a),null;case 26:var v=a.type,w=a.memoizedState;return i===null?(Gi(a),w!==null?(Tt(a),hT(a,w)):(Tt(a),tw(a,v,null,h,u))):w?w!==i.memoizedState?(Gi(a),Tt(a),hT(a,w)):(Tt(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Gi(a),Tt(a),tw(a,v,i,h,u)),null;case 27:if(fr(a),u=Te.current,v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Gi(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Tt(a),null}i=ue.current,Hl(a)?z1(a):(i=wI(v,h,u),a.stateNode=i,Gi(a))}return Tt(a),null;case 5:if(fr(a),v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Gi(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Tt(a),null}if(w=ue.current,Hl(a))z1(a);else{var S=Jp(Te.current);switch(w){case 1:w=S.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=S.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=S.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=S.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=S.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?S.createElement(v,{is:h.is}):S.createElement(v)}}w[en]=a,w[bn]=h;e:for(S=a.child;S!==null;){if(S.tag===5||S.tag===6)w.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===a)break e;for(;S.sibling===null;){if(S.return===null||S.return===a)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}a.stateNode=w;e:switch(Mn(w,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Gi(a)}}return Tt(a),tw(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,u),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Gi(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=Te.current,Hl(a)){if(i=a.stateNode,u=a.memoizedProps,h=null,v=Qn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}i[en]=a,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||lI(i.nodeValue,u)),i||jo(a,!0)}else i=Jp(i).createTextNode(h),i[en]=a,a.stateNode=i}return Tt(a),null;case 31:if(u=a.memoizedState,i===null||i.memoizedState!==null){if(h=Hl(a),u!==null){if(i===null){if(!h)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[en]=a}else dA(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tt(a),i=!1}else u=uv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return a.flags&256?(Mr(a),a):(Mr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Tt(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Hl(a),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[en]=a}else dA(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tt(a),v=!1}else v=uv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Mr(a),a):(Mr(a),null)}return Mr(a),(a.flags&128)!==0?(a.lanes=u,a):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=a.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)),u!==i&&u&&(a.child.flags|=8192),Mp(a,a.updateQueue),Tt(a),null);case 4:return Ke(),i===null&&Cw(a.stateNode.containerInfo),Tt(a),null;case 10:return Hi(a.type),Tt(a),null;case 19:if(re(Wt),h=a.memoizedState,h===null)return Tt(a),null;if(v=(a.flags&128)!==0,w=h.rendering,w===null)if(v)cd(h,!1);else{if(Ht!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(w=xp(i),w!==null){for(a.flags|=128,cd(h,!1),i=w.updateQueue,a.updateQueue=i,Mp(a,i),a.subtreeFlags=0,i=u,u=a.child;u!==null;)H1(u,i),u=u.sibling;return Ae(Wt,Wt.current&1|2),tt&&ki(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&or()>jp&&(a.flags|=128,v=!0,cd(h,!1),a.lanes=4194304)}else{if(!v)if(i=xp(w),i!==null){if(a.flags|=128,v=!0,i=i.updateQueue,a.updateQueue=i,Mp(a,i),cd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!tt)return Tt(a),null}else 2*or()-h.renderingStartTime>jp&&u!==536870912&&(a.flags|=128,v=!0,cd(h,!1),a.lanes=4194304);h.isBackwards?(w.sibling=a.child,a.child=w):(i=h.last,i!==null?i.sibling=w:a.child=w,h.last=w)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=or(),i.sibling=null,u=Wt.current,Ae(Wt,v?u&1|2:u&1),tt&&ki(a,h.treeForkCount),i):(Tt(a),null);case 22:case 23:return Mr(a),xv(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(Tt(a),a.subtreeFlags&6&&(a.flags|=8192)):Tt(a),u=a.updateQueue,u!==null&&Mp(a,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),i!==null&&re(pA),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Hi(rn),Tt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function X5(i,a){switch(lv(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Hi(rn),Ke(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return fr(a),null;case 31:if(a.memoizedState!==null){if(Mr(a),a.alternate===null)throw Error(r(340));dA()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Mr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));dA()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return re(Wt),null;case 4:return Ke(),null;case 10:return Hi(a.type),null;case 22:case 23:return Mr(a),xv(),i!==null&&re(pA),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Hi(rn),null;case 25:return null;default:return null}}function fT(i,a){switch(lv(a),a.tag){case 3:Hi(rn),Ke();break;case 26:case 27:case 5:fr(a);break;case 4:Ke();break;case 31:a.memoizedState!==null&&Mr(a);break;case 13:Mr(a);break;case 19:re(Wt);break;case 10:Hi(a.type);break;case 22:case 23:Mr(a),xv(),i!==null&&re(pA);break;case 24:Hi(rn)}}function ud(i,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&i)===i){h=void 0;var w=u.create,S=u.inst;h=w(),S.destroy=h}u=u.next}while(u!==v)}}catch(O){ft(a,a.return,O)}}function $o(i,a,u){try{var h=a.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&i)===i){var S=h.inst,O=S.destroy;if(O!==void 0){S.destroy=void 0,v=a;var K=u,J=O;try{J()}catch(ie){ft(v,K,ie)}}}h=h.next}while(h!==w)}}catch(ie){ft(a,a.return,ie)}}function pT(i){var a=i.updateQueue;if(a!==null){var u=i.stateNode;try{iS(a,u)}catch(h){ft(i,i.return,h)}}}function gT(i,a,u){u.props=wA(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){ft(i,a,h)}}function dd(i,a){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(v){ft(i,a,v)}}function vi(i,a){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){ft(i,a,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){ft(i,a,v)}else u.current=null}function mT(i){var a=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){ft(i,i.return,v)}}function nw(i,a,u){try{var h=i.stateNode;vj(h,i.type,u,a),h[bn]=a}catch(v){ft(i,i.return,v)}}function yT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&na(i.type)||i.tag===4}function rw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&na(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sw(i,a,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(i),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Es));else if(h!==4&&(h===27&&na(i.type)&&(u=i.stateNode,a=null),i=i.child,i!==null))for(sw(i,a,u),i=i.sibling;i!==null;)sw(i,a,u),i=i.sibling}function Lp(i,a,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(h!==4&&(h===27&&na(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Lp(i,a,u),i=i.sibling;i!==null;)Lp(i,a,u),i=i.sibling}function vT(i){var a=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Mn(a,h,u),a[en]=i,a[bn]=u}catch(w){ft(i,i.return,w)}}var zi=!1,an=!1,iw=!1,wT=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function J5(i,a){if(i=i.containerInfo,_w=ig,i=N1(i),Jy(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var S=0,O=-1,K=-1,J=0,ie=0,ae=i,Z=null;t:for(;;){for(var te;ae!==u||v!==0&&ae.nodeType!==3||(O=S+v),ae!==w||h!==0&&ae.nodeType!==3||(K=S+h),ae.nodeType===3&&(S+=ae.nodeValue.length),(te=ae.firstChild)!==null;)Z=ae,ae=te;for(;;){if(ae===i)break t;if(Z===u&&++J===v&&(O=S),Z===w&&++ie===h&&(K=S),(te=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=te}u=O===-1||K===-1?null:{start:O,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(Sw={focusedElem:i,selectionRange:u},ig=!1,Cn=a;Cn!==null;)if(a=Cn,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Cn=i;else for(;Cn!==null;){switch(a=Cn,w=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,u=a,v=w.memoizedProps,w=w.memoizedState,h=u.stateNode;try{var be=wA(u.type,v);i=h.getSnapshotBeforeUpdate(be,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ne){ft(u,u.return,Ne)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,u=i.nodeType,u===9)Uw(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Uw(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Cn=i;break}Cn=a.return}}function bT(i,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:qi(i,u),h&4&&ud(5,u);break;case 1:if(qi(i,u),h&4)if(i=u.stateNode,a===null)try{i.componentDidMount()}catch(S){ft(u,u.return,S)}else{var v=wA(u.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(v,a,i.__reactInternalSnapshotBeforeUpdate)}catch(S){ft(u,u.return,S)}}h&64&&pT(u),h&512&&dd(u,u.return);break;case 3:if(qi(i,u),h&64&&(i=u.updateQueue,i!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{iS(i,a)}catch(S){ft(u,u.return,S)}}break;case 27:a===null&&h&4&&vT(u);case 26:case 5:qi(i,u),a===null&&h&4&&mT(u),h&512&&dd(u,u.return);break;case 12:qi(i,u);break;case 31:qi(i,u),h&4&&xT(i,u);break;case 13:qi(i,u),h&4&&ET(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=aj.bind(null,u),Sj(i,u))));break;case 22:if(h=u.memoizedState!==null||zi,!h){a=a!==null&&a.memoizedState!==null||an,v=zi;var w=an;zi=h,(an=a)&&!w?$i(i,u,(u.subtreeFlags&8772)!==0):qi(i,u),zi=v,an=w}break;case 30:break;default:qi(i,u)}}function BT(i){var a=i.alternate;a!==null&&(i.alternate=null,BT(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&xl(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rt=null,mr=!1;function Wi(i,a,u){for(u=u.child;u!==null;)CT(i,a,u),u=u.sibling}function CT(i,a,u){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(bs,u)}catch{}switch(u.tag){case 26:an||vi(u,a),Wi(i,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:an||vi(u,a);var h=Rt,v=mr;na(u.type)&&(Rt=u.stateNode,mr=!1),Wi(i,a,u),bd(u.stateNode),Rt=h,mr=v;break;case 5:an||vi(u,a);case 6:if(h=Rt,v=mr,Rt=null,Wi(i,a,u),Rt=h,mr=v,Rt!==null)if(mr)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(u.stateNode)}catch(w){ft(u,a,w)}else try{Rt.removeChild(u.stateNode)}catch(w){ft(u,a,w)}break;case 18:Rt!==null&&(mr?(i=Rt,pI(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Ac(i)):pI(Rt,u.stateNode));break;case 4:h=Rt,v=mr,Rt=u.stateNode.containerInfo,mr=!0,Wi(i,a,u),Rt=h,mr=v;break;case 0:case 11:case 14:case 15:$o(2,u,a),an||$o(4,u,a),Wi(i,a,u);break;case 1:an||(vi(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&gT(u,a,h)),Wi(i,a,u);break;case 21:Wi(i,a,u);break;case 22:an=(h=an)||u.memoizedState!==null,Wi(i,a,u),an=h;break;default:Wi(i,a,u)}}function xT(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ac(i)}catch(u){ft(a,a.return,u)}}}function ET(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ac(i)}catch(u){ft(a,a.return,u)}}function Z5(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new wT),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new wT),a;default:throw Error(r(435,i.tag))}}function kp(i,a){var u=Z5(i);a.forEach(function(h){if(!u.has(h)){u.add(h);var v=Aj.bind(null,i,h);h.then(v,v)}})}function yr(i,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],w=i,S=a,O=S;e:for(;O!==null;){switch(O.tag){case 27:if(na(O.type)){Rt=O.stateNode,mr=!1;break e}break;case 5:Rt=O.stateNode,mr=!1;break e;case 3:case 4:Rt=O.stateNode.containerInfo,mr=!0;break e}O=O.return}if(Rt===null)throw Error(r(160));CT(w,S,v),Rt=null,mr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)_T(a,i),a=a.sibling}var Fs=null;function _T(i,a){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:yr(a,i),vr(i),h&4&&($o(3,i,i.return),ud(3,i),$o(5,i,i.return));break;case 1:yr(a,i),vr(i),h&512&&(an||u===null||vi(u,u.return)),h&64&&zi&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=Fs;if(yr(a,i),vr(i),h&512&&(an||u===null||vi(u,u.return)),h&4){var w=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[ii]||w[en]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),Mn(w,h,u),w[en]=i,tn(w),h=w;break e;case"link":var S=_I("link","href",v).get(h+(u.href||""));if(S){for(var O=0;O<S.length;O++)if(w=S[O],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(O,1);break t}}w=v.createElement(h),Mn(w,h,u),v.head.appendChild(w);break;case"meta":if(S=_I("meta","content",v).get(h+(u.content||""))){for(O=0;O<S.length;O++)if(w=S[O],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(O,1);break t}}w=v.createElement(h),Mn(w,h,u),v.head.appendChild(w);break;default:throw Error(r(468,h))}w[en]=i,tn(w),h=w}i.stateNode=h}else SI(v,i.type,i.stateNode);else i.stateNode=EI(v,h,i.memoizedProps);else w!==h?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,h===null?SI(v,i.type,i.stateNode):EI(v,h,i.memoizedProps)):h===null&&i.stateNode!==null&&nw(i,i.memoizedProps,u.memoizedProps)}break;case 27:yr(a,i),vr(i),h&512&&(an||u===null||vi(u,u.return)),u!==null&&h&4&&nw(i,i.memoizedProps,u.memoizedProps);break;case 5:if(yr(a,i),vr(i),h&512&&(an||u===null||vi(u,u.return)),i.flags&32){v=i.stateNode;try{gr(v,"")}catch(be){ft(i,i.return,be)}}h&4&&i.stateNode!=null&&(v=i.memoizedProps,nw(i,v,u!==null?u.memoizedProps:v)),h&1024&&(iw=!0);break;case 6:if(yr(a,i),vr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(be){ft(i,i.return,be)}}break;case 3:if(tg=null,v=Fs,Fs=Zp(a.containerInfo),yr(a,i),Fs=v,vr(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ac(a.containerInfo)}catch(be){ft(i,i.return,be)}iw&&(iw=!1,ST(i));break;case 4:h=Fs,Fs=Zp(i.stateNode.containerInfo),yr(a,i),vr(i),Fs=h;break;case 12:yr(a,i),vr(i);break;case 31:yr(a,i),vr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,kp(i,h)));break;case 13:yr(a,i),vr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Hp=or()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,kp(i,h)));break;case 22:v=i.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,J=zi,ie=an;if(zi=J||v,an=ie||K,yr(a,i),an=ie,zi=J,vr(i),h&8192)e:for(a=i.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||K||zi||an||bA(i)),u=null,a=i;;){if(a.tag===5||a.tag===26){if(u===null){K=u=a;try{if(w=K.stateNode,v)S=w.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{O=K.stateNode;var ae=K.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(be){ft(K,K.return,be)}}}else if(a.tag===6){if(u===null){K=a;try{K.stateNode.nodeValue=v?"":K.memoizedProps}catch(be){ft(K,K.return,be)}}}else if(a.tag===18){if(u===null){K=a;try{var te=K.stateNode;v?gI(te,!0):gI(K.stateNode,!1)}catch(be){ft(K,K.return,be)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,kp(i,u))));break;case 19:yr(a,i),vr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,kp(i,h)));break;case 30:break;case 21:break;default:yr(a,i),vr(i)}}function vr(i){var a=i.flags;if(a&2){try{for(var u,h=i.return;h!==null;){if(yT(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,w=rw(i);Lp(i,w,v);break;case 5:var S=u.stateNode;u.flags&32&&(gr(S,""),u.flags&=-33);var O=rw(i);Lp(i,O,S);break;case 3:case 4:var K=u.stateNode.containerInfo,J=rw(i);sw(i,J,K);break;default:throw Error(r(161))}}catch(ie){ft(i,i.return,ie)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function ST(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;ST(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function qi(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)bT(i,a.alternate,a),a=a.sibling}function bA(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:$o(4,a,a.return),bA(a);break;case 1:vi(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&gT(a,a.return,u),bA(a);break;case 27:bd(a.stateNode);case 26:case 5:vi(a,a.return),bA(a);break;case 22:a.memoizedState===null&&bA(a);break;case 30:bA(a);break;default:bA(a)}i=i.sibling}}function $i(i,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,v=i,w=a,S=w.flags;switch(w.tag){case 0:case 11:case 15:$i(v,w,u),ud(4,w);break;case 1:if($i(v,w,u),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){ft(h,h.return,J)}if(h=w,v=h.updateQueue,v!==null){var O=h.stateNode;try{var K=v.shared.hiddenCallbacks;if(K!==null)for(v.shared.hiddenCallbacks=null,v=0;v<K.length;v++)sS(K[v],O)}catch(J){ft(h,h.return,J)}}u&&S&64&&pT(w),dd(w,w.return);break;case 27:vT(w);case 26:case 5:$i(v,w,u),u&&h===null&&S&4&&mT(w),dd(w,w.return);break;case 12:$i(v,w,u);break;case 31:$i(v,w,u),u&&S&4&&xT(v,w);break;case 13:$i(v,w,u),u&&S&4&&ET(v,w);break;case 22:w.memoizedState===null&&$i(v,w,u),dd(w,w.return);break;case 30:break;default:$i(v,w,u)}a=a.sibling}}function ow(i,a){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Ju(u))}function aw(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ju(i))}function Ns(i,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)TT(i,a,u,h),a=a.sibling}function TT(i,a,u,h){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Ns(i,a,u,h),v&2048&&ud(9,a);break;case 1:Ns(i,a,u,h);break;case 3:Ns(i,a,u,h),v&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ju(i)));break;case 12:if(v&2048){Ns(i,a,u,h),i=a.stateNode;try{var w=a.memoizedProps,S=w.id,O=w.onPostCommit;typeof O=="function"&&O(S,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(K){ft(a,a.return,K)}}else Ns(i,a,u,h);break;case 31:Ns(i,a,u,h);break;case 13:Ns(i,a,u,h);break;case 23:break;case 22:w=a.stateNode,S=a.alternate,a.memoizedState!==null?w._visibility&2?Ns(i,a,u,h):hd(i,a):w._visibility&2?Ns(i,a,u,h):(w._visibility|=2,Xl(i,a,u,h,(a.subtreeFlags&10256)!==0||!1)),v&2048&&ow(S,a);break;case 24:Ns(i,a,u,h),v&2048&&aw(a.alternate,a);break;default:Ns(i,a,u,h)}}function Xl(i,a,u,h,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=i,S=a,O=u,K=h,J=S.flags;switch(S.tag){case 0:case 11:case 15:Xl(w,S,O,K,v),ud(8,S);break;case 23:break;case 22:var ie=S.stateNode;S.memoizedState!==null?ie._visibility&2?Xl(w,S,O,K,v):hd(w,S):(ie._visibility|=2,Xl(w,S,O,K,v)),v&&J&2048&&ow(S.alternate,S);break;case 24:Xl(w,S,O,K,v),v&&J&2048&&aw(S.alternate,S);break;default:Xl(w,S,O,K,v)}a=a.sibling}}function hd(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=i,h=a,v=h.flags;switch(h.tag){case 22:hd(u,h),v&2048&&ow(h.alternate,h);break;case 24:hd(u,h),v&2048&&aw(h.alternate,h);break;default:hd(u,h)}a=a.sibling}}var fd=8192;function Jl(i,a,u){if(i.subtreeFlags&fd)for(i=i.child;i!==null;)IT(i,a,u),i=i.sibling}function IT(i,a,u){switch(i.tag){case 26:Jl(i,a,u),i.flags&fd&&i.memoizedState!==null&&kj(u,Fs,i.memoizedState,i.memoizedProps);break;case 5:Jl(i,a,u);break;case 3:case 4:var h=Fs;Fs=Zp(i.stateNode.containerInfo),Jl(i,a,u),Fs=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=fd,fd=16777216,Jl(i,a,u),fd=h):Jl(i,a,u));break;default:Jl(i,a,u)}}function UT(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function pd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Cn=h,NT(h,i)}UT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)FT(i),i=i.sibling}function FT(i){switch(i.tag){case 0:case 11:case 15:pd(i),i.flags&2048&&$o(9,i,i.return);break;case 3:pd(i);break;case 12:pd(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Pp(i)):pd(i);break;default:pd(i)}}function Pp(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Cn=h,NT(h,i)}UT(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:$o(8,a,a.return),Pp(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Pp(a));break;default:Pp(a)}i=i.sibling}}function NT(i,a){for(;Cn!==null;){var u=Cn;switch(u.tag){case 0:case 11:case 15:$o(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ju(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Cn=h;else e:for(u=i;Cn!==null;){h=Cn;var v=h.sibling,w=h.return;if(BT(h),h===u){Cn=null;break e}if(v!==null){v.return=w,Cn=v;break e}Cn=w}}}var ej={getCacheForType:function(i){var a=Dn(rn),u=a.data.get(i);return u===void 0&&(u=i(),a.data.set(i,u)),u},cacheSignal:function(){return Dn(rn).controller.signal}},tj=typeof WeakMap=="function"?WeakMap:Map,at=0,Bt=null,qe=null,Je=0,ht=0,Lr=null,Yo=!1,Zl=!1,Aw=!1,Yi=0,Ht=0,Xo=0,BA=0,lw=0,kr=0,ec=0,gd=null,wr=null,cw=!1,Hp=0,RT=0,jp=1/0,Vp=null,Jo=null,pn=0,Zo=null,tc=null,Xi=0,uw=0,dw=null,QT=null,md=0,hw=null;function Pr(){return(at&2)!==0&&Je!==0?Je&-Je:W.T!==null?vw():Kf()}function DT(){if(kr===0)if((Je&536870912)===0||tt){var i=$a;$a<<=1,($a&3932160)===0&&($a=262144),kr=i}else kr=536870912;return i=Or.current,i!==null&&(i.flags|=32),kr}function br(i,a,u){(i===Bt&&(ht===2||ht===9)||i.cancelPendingCommit!==null)&&(nc(i,0),ea(i,Je,kr,!1)),Ya(i,u),((at&2)===0||i!==Bt)&&(i===Bt&&((at&2)===0&&(BA|=u),Ht===4&&ea(i,Je,kr,!1)),wi(i))}function OT(i,a,u){if((at&6)!==0)throw Error(r(327));var h=!u&&(a&127)===0&&(a&i.expiredLanes)===0||Bs(i,a),v=h?sj(i,a):pw(i,a,!0),w=h;do{if(v===0){Zl&&!h&&ea(i,a,0,!1);break}else{if(u=i.current.alternate,w&&!nj(u)){v=pw(i,a,!1),w=!1;continue}if(v===2){if(w=a,i.errorRecoveryDisabledLanes&w)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var O=i;v=gd;var K=O.current.memoizedState.isDehydrated;if(K&&(nc(O,S).flags|=256),S=pw(O,S,!1),S!==2){if(Aw&&!K){O.errorRecoveryDisabledLanes|=w,BA|=w,v=4;break e}w=wr,wr=v,w!==null&&(wr===null?wr=w:wr.push.apply(wr,w))}v=S}if(w=!1,v!==2)continue}}if(v===1){nc(i,0),ea(i,a,0,!0);break}e:{switch(h=i,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ea(h,a,kr,!Yo);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=Hp+300-or(),10<v)){if(ea(h,a,kr,!Yo),ni(h,0,!0)!==0)break e;Xi=a,h.timeoutHandle=hI(MT.bind(null,h,u,wr,Vp,cw,a,kr,BA,ec,Yo,w,"Throttled",-0,0),v);break e}MT(h,u,wr,Vp,cw,a,kr,BA,ec,Yo,w,null,-0,0)}}break}while(!0);wi(i)}function MT(i,a,u,h,v,w,S,O,K,J,ie,ae,Z,te){if(i.timeoutHandle=-1,ae=a.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Es},IT(a,w,ae);var be=(w&62914560)===w?Hp-or():(w&4194048)===w?RT-or():0;if(be=Pj(ae,be),be!==null){Xi=w,i.cancelPendingCommit=be(GT.bind(null,i,a,w,u,h,v,S,O,K,ie,ae,null,Z,te)),ea(i,w,S,!J);return}}GT(i,a,w,u,h,v,S,O,K)}function nj(i){for(var a=i;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],w=v.getSnapshot;v=v.value;try{if(!Qr(w(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ea(i,a,u,h){a&=~lw,a&=~BA,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var v=a;0<v;){var w=31-Gt(v),S=1<<w;h[w]=-1,v&=~S}u!==0&&Xa(i,u,a)}function Kp(){return(at&6)===0?(yd(0),!1):!0}function fw(){if(qe!==null){if(ht===0)var i=qe.return;else i=qe,Pi=hA=null,Uv(i),zl=null,ed=0,i=qe;for(;i!==null;)fT(i.alternate,i),i=i.return;qe=null}}function nc(i,a){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,Bj(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Xi=0,fw(),Bt=i,qe=u=Li(i.current,null),Je=a,ht=0,Lr=null,Yo=!1,Zl=Bs(i,a),Aw=!1,ec=kr=lw=BA=Xo=Ht=0,wr=gd=null,cw=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var v=31-Gt(h),w=1<<v;a|=i[v],h&=~w}return Yi=a,up(),u}function LT(i,a){Le=null,W.H=Ad,a===Gl||a===vp?(a=eS(),ht=3):a===yv?(a=eS(),ht=4):ht=a===zv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Lr=a,qe===null&&(Ht=1,Rp(i,ts(a,i.current)))}function kT(){var i=Or.current;return i===null?!0:(Je&4194048)===Je?is===null:(Je&62914560)===Je||(Je&536870912)!==0?i===is:!1}function PT(){var i=W.H;return W.H=Ad,i===null?Ad:i}function HT(){var i=W.A;return W.A=ej,i}function Gp(){Ht=4,Yo||(Je&4194048)!==Je&&Or.current!==null||(Zl=!0),(Xo&134217727)===0&&(BA&134217727)===0||Bt===null||ea(Bt,Je,kr,!1)}function pw(i,a,u){var h=at;at|=2;var v=PT(),w=HT();(Bt!==i||Je!==a)&&(Vp=null,nc(i,a)),a=!1;var S=Ht;e:do try{if(ht!==0&&qe!==null){var O=qe,K=Lr;switch(ht){case 8:fw(),S=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(a=!0);var J=ht;if(ht=0,Lr=null,rc(i,O,K,J),u&&Zl){S=0;break e}break;default:J=ht,ht=0,Lr=null,rc(i,O,K,J)}}rj(),S=Ht;break}catch(ie){LT(i,ie)}while(!0);return a&&i.shellSuspendCounter++,Pi=hA=null,at=h,W.H=v,W.A=w,qe===null&&(Bt=null,Je=0,up()),S}function rj(){for(;qe!==null;)jT(qe)}function sj(i,a){var u=at;at|=2;var h=PT(),v=HT();Bt!==i||Je!==a?(Vp=null,jp=or()+500,nc(i,a)):Zl=Bs(i,a);e:do try{if(ht!==0&&qe!==null){a=qe;var w=Lr;t:switch(ht){case 1:ht=0,Lr=null,rc(i,a,w,1);break;case 2:case 9:if(J1(w)){ht=0,Lr=null,VT(a);break}a=function(){ht!==2&&ht!==9||Bt!==i||(ht=7),wi(i)},w.then(a,a);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:J1(w)?(ht=0,Lr=null,VT(a)):(ht=0,Lr=null,rc(i,a,w,7));break;case 5:var S=null;switch(qe.tag){case 26:S=qe.memoizedState;case 5:case 27:var O=qe;if(S?TI(S):O.stateNode.complete){ht=0,Lr=null;var K=O.sibling;if(K!==null)qe=K;else{var J=O.return;J!==null?(qe=J,zp(J)):qe=null}break t}}ht=0,Lr=null,rc(i,a,w,5);break;case 6:ht=0,Lr=null,rc(i,a,w,6);break;case 8:fw(),Ht=6;break e;default:throw Error(r(462))}}ij();break}catch(ie){LT(i,ie)}while(!0);return Pi=hA=null,W.H=h,W.A=v,at=u,qe!==null?0:(Bt=null,Je=0,up(),Ht)}function ij(){for(;qe!==null&&!Gy();)jT(qe)}function jT(i){var a=dT(i.alternate,i,Yi);i.memoizedProps=i.pendingProps,a===null?zp(i):qe=a}function VT(i){var a=i,u=a.alternate;switch(a.tag){case 15:case 0:a=oT(u,a,a.pendingProps,a.type,void 0,Je);break;case 11:a=oT(u,a,a.pendingProps,a.type.render,a.ref,Je);break;case 5:Uv(a);default:fT(u,a),a=qe=H1(a,Yi),a=dT(u,a,Yi)}i.memoizedProps=i.pendingProps,a===null?zp(i):qe=a}function rc(i,a,u,h){Pi=hA=null,Uv(a),zl=null,ed=0;var v=a.return;try{if(W5(i,v,a,u,Je)){Ht=1,Rp(i,ts(u,i.current)),qe=null;return}}catch(w){if(v!==null)throw qe=v,w;Ht=1,Rp(i,ts(u,i.current)),qe=null;return}a.flags&32768?(tt||h===1?i=!0:Zl||(Je&536870912)!==0?i=!1:(Yo=i=!0,(h===2||h===9||h===3||h===6)&&(h=Or.current,h!==null&&h.tag===13&&(h.flags|=16384))),KT(a,i)):zp(a)}function zp(i){var a=i;do{if((a.flags&32768)!==0){KT(a,Yo);return}i=a.return;var u=Y5(a.alternate,a,Yi);if(u!==null){qe=u;return}if(a=a.sibling,a!==null){qe=a;return}qe=a=i}while(a!==null);Ht===0&&(Ht=5)}function KT(i,a){do{var u=X5(i.alternate,i);if(u!==null){u.flags&=32767,qe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(i=i.sibling,i!==null)){qe=i;return}qe=i=u}while(i!==null);Ht=6,qe=null}function GT(i,a,u,h,v,w,S,O,K){i.cancelPendingCommit=null;do Wp();while(pn!==0);if((at&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(w=a.lanes|a.childLanes,w|=rv,qy(i,u,w,S,O,K),i===Bt&&(qe=Bt=null,Je=0),tc=a,Zo=i,Xi=u,uw=w,dw=v,QT=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,lj(Uo,function(){return YT(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,v=se.p,se.p=2,S=at,at|=4;try{J5(i,a,u)}finally{at=S,se.p=v,W.T=h}}pn=1,zT(),WT(),qT()}}function zT(){if(pn===1){pn=0;var i=Zo,a=tc,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var h=se.p;se.p=2;var v=at;at|=4;try{_T(a,i);var w=Sw,S=N1(i.containerInfo),O=w.focusedElem,K=w.selectionRange;if(S!==O&&O&&O.ownerDocument&&F1(O.ownerDocument.documentElement,O)){if(K!==null&&Jy(O)){var J=K.start,ie=K.end;if(ie===void 0&&(ie=J),"selectionStart"in O)O.selectionStart=J,O.selectionEnd=Math.min(ie,O.value.length);else{var ae=O.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),be=O.textContent.length,Ne=Math.min(K.start,be),vt=K.end===void 0?Ne:Math.min(K.end,be);!te.extend&&Ne>vt&&(S=vt,vt=Ne,Ne=S);var q=U1(O,Ne),z=U1(O,vt);if(q&&z&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==z.node||te.focusOffset!==z.offset)){var X=ae.createRange();X.setStart(q.node,q.offset),te.removeAllRanges(),Ne>vt?(te.addRange(X),te.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),te.addRange(X))}}}}for(ae=[],te=O;te=te.parentNode;)te.nodeType===1&&ae.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ae.length;O++){var oe=ae[O];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}ig=!!_w,Sw=_w=null}finally{at=v,se.p=h,W.T=u}}i.current=a,pn=2}}function WT(){if(pn===2){pn=0;var i=Zo,a=tc,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var h=se.p;se.p=2;var v=at;at|=4;try{bT(i,a.alternate,a)}finally{at=v,se.p=h,W.T=u}}pn=3}}function qT(){if(pn===4||pn===3){pn=0,Mf();var i=Zo,a=tc,u=Xi,h=QT;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?pn=5:(pn=0,tc=Zo=null,$T(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Jo=null),Qi(u),a=a.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(bs,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=W.T,v=se.p,se.p=2,W.T=null;try{for(var w=i.onRecoverableError,S=0;S<h.length;S++){var O=h[S];w(O.value,{componentStack:O.stack})}}finally{W.T=a,se.p=v}}(Xi&3)!==0&&Wp(),wi(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===hw?md++:(md=0,hw=i):md=0,yd(0)}}function $T(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ju(a)))}function Wp(){return zT(),WT(),qT(),YT()}function YT(){if(pn!==5)return!1;var i=Zo,a=uw;uw=0;var u=Qi(Xi),h=W.T,v=se.p;try{se.p=32>u?32:u,W.T=null,u=dw,dw=null;var w=Zo,S=Xi;if(pn=0,tc=Zo=null,Xi=0,(at&6)!==0)throw Error(r(331));var O=at;if(at|=4,FT(w.current),TT(w,w.current,S,u),at=O,yd(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(bs,w)}catch{}return!0}finally{se.p=v,W.T=h,$T(i,a)}}function XT(i,a,u){a=ts(u,a),a=Gv(i.stateNode,a,2),i=zo(i,a,2),i!==null&&(Ya(i,2),wi(i))}function ft(i,a,u){if(i.tag===3)XT(i,i,u);else for(;a!==null;){if(a.tag===3){XT(a,i,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Jo===null||!Jo.has(h))){i=ts(u,i),u=JS(2),h=zo(a,u,2),h!==null&&(ZS(u,h,a,i),Ya(h,2),wi(h));break}}a=a.return}}function gw(i,a,u){var h=i.pingCache;if(h===null){h=i.pingCache=new tj;var v=new Set;h.set(a,v)}else v=h.get(a),v===void 0&&(v=new Set,h.set(a,v));v.has(u)||(Aw=!0,v.add(u),i=oj.bind(null,i,a,u),a.then(i,i))}function oj(i,a,u){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bt===i&&(Je&u)===u&&(Ht===4||Ht===3&&(Je&62914560)===Je&&300>or()-Hp?(at&2)===0&&nc(i,0):lw|=u,ec===Je&&(ec=0)),wi(i)}function JT(i,a){a===0&&(a=Vf()),i=cA(i,a),i!==null&&(Ya(i,a),wi(i))}function aj(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),JT(i,u)}function Aj(i,a){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),JT(i,u)}function lj(i,a){return fn(i,a)}var qp=null,sc=null,mw=!1,$p=!1,yw=!1,ta=0;function wi(i){i!==sc&&i.next===null&&(sc===null?qp=sc=i:sc=sc.next=i),$p=!0,mw||(mw=!0,uj())}function yd(i,a){if(!yw&&$p){yw=!0;do for(var u=!1,h=qp;h!==null;){if(i!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var S=h.suspendedLanes,O=h.pingedLanes;w=(1<<31-Gt(42|i)+1)-1,w&=v&~(S&~O),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,nI(h,w))}else w=Je,w=ni(h,h===Bt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Bs(h,w)||(u=!0,nI(h,w));h=h.next}while(u);yw=!1}}function cj(){ZT()}function ZT(){$p=mw=!1;var i=0;ta!==0&&bj()&&(i=ta);for(var a=or(),u=null,h=qp;h!==null;){var v=h.next,w=eI(h,a);w===0?(h.next=null,u===null?qp=v:u.next=v,v===null&&(sc=u)):(u=h,(i!==0||(w&3)!==0)&&($p=!0)),h=v}pn!==0&&pn!==5||yd(i),ta!==0&&(ta=0)}function eI(i,a){for(var u=i.suspendedLanes,h=i.pingedLanes,v=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var S=31-Gt(w),O=1<<S,K=v[S];K===-1?((O&u)===0||(O&h)!==0)&&(v[S]=Wy(O,a)):K<=a&&(i.expiredLanes|=O),w&=~O}if(a=Bt,u=Je,u=ni(i,i===a?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===a&&(ht===2||ht===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Io(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Bs(i,u)){if(a=u&-u,a===i.callbackPriority)return a;switch(h!==null&&Io(h),Qi(u)){case 2:case 8:u=Tu;break;case 32:u=Uo;break;case 268435456:u=Lf;break;default:u=Uo}return h=tI.bind(null,i),u=fn(u,h),i.callbackPriority=a,i.callbackNode=u,a}return h!==null&&h!==null&&Io(h),i.callbackPriority=2,i.callbackNode=null,2}function tI(i,a){if(pn!==0&&pn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Wp()&&i.callbackNode!==u)return null;var h=Je;return h=ni(i,i===Bt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(OT(i,h,a),eI(i,or()),i.callbackNode!=null&&i.callbackNode===u?tI.bind(null,i):null)}function nI(i,a){if(Wp())return null;OT(i,a,!0)}function uj(){Cj(function(){(at&6)!==0?fn(Su,cj):ZT()})}function vw(){if(ta===0){var i=Vl;i===0&&(i=ei,ei<<=1,(ei&261888)===0&&(ei=256)),ta=i}return ta}function rI(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Tl(""+i)}function sI(i,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,i.id&&u.setAttribute("form",i.id),a.parentNode.insertBefore(u,a),i=new FormData(i),u.parentNode.removeChild(u),i}function dj(i,a,u,h,v){if(a==="submit"&&u&&u.stateNode===v){var w=rI((v[bn]||null).action),S=h.submitter;S&&(a=(a=S[bn]||null)?rI(a.formAction):S.getAttribute("formAction"),a!==null&&(w=a,S=null));var O=new hi("action","action",null,h,v);i.push({event:O,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ta!==0){var K=S?sI(v,S):new FormData(v);kv(u,{pending:!0,data:K,method:v.method,action:w},null,K)}}else typeof w=="function"&&(O.preventDefault(),K=S?sI(v,S):new FormData(v),kv(u,{pending:!0,data:K,method:v.method,action:w},w,K))},currentTarget:v}]})}}for(var ww=0;ww<nv.length;ww++){var bw=nv[ww],hj=bw.toLowerCase(),fj=bw[0].toUpperCase()+bw.slice(1);Us(hj,"on"+fj)}Us(D1,"onAnimationEnd"),Us(O1,"onAnimationIteration"),Us(M1,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(U5,"onTransitionRun"),Us(F5,"onTransitionStart"),Us(N5,"onTransitionCancel"),Us(L1,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vd));function iI(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],v=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var S=h.length-1;0<=S;S--){var O=h[S],K=O.instance,J=O.currentTarget;if(O=O.listener,K!==w&&v.isPropagationStopped())break e;w=O,v.currentTarget=J;try{w(v)}catch(ie){cp(ie)}v.currentTarget=null,w=K}else for(S=0;S<h.length;S++){if(O=h[S],K=O.instance,J=O.currentTarget,O=O.listener,K!==w&&v.isPropagationStopped())break e;w=O,v.currentTarget=J;try{w(v)}catch(ie){cp(ie)}v.currentTarget=null,w=K}}}}function $e(i,a){var u=a[Cl];u===void 0&&(u=a[Cl]=new Set);var h=i+"__bubble";u.has(h)||(oI(a,i,2,!1),u.add(h))}function Bw(i,a,u){var h=0;a&&(h|=4),oI(u,i,h,a)}var Yp="_reactListening"+Math.random().toString(36).slice(2);function Cw(i){if(!i[Yp]){i[Yp]=!0,Fu.forEach(function(u){u!=="selectionchange"&&(pj.has(u)||Bw(u,!1,i),Bw(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Yp]||(a[Yp]=!0,Bw("selectionchange",!1,a))}}function oI(i,a,u,h){switch(DI(a)){case 2:var v=Vj;break;case 8:v=Kj;break;default:v=Lw}u=v.bind(null,a,u,i),v=void 0,!nA||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),h?v!==void 0?i.addEventListener(a,u,{capture:!0,passive:v}):i.addEventListener(a,u,!0):v!==void 0?i.addEventListener(a,u,{passive:v}):i.addEventListener(a,u,!1)}function xw(i,a,u,h,v){var w=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var O=h.stateNode.containerInfo;if(O===v)break;if(S===4)for(S=h.return;S!==null;){var K=S.tag;if((K===3||K===4)&&S.stateNode.containerInfo===v)return;S=S.return}for(;O!==null;){if(S=oi(O),S===null)return;if(K=S.tag,K===5||K===6||K===26||K===27){h=w=S;continue e}O=O.parentNode}}h=h.return}Oo(function(){var J=w,ie=Xr(u),ae=[];e:{var Z=k1.get(i);if(Z!==void 0){var te=hi,be=i;switch(i){case"keypress":if(sA(u)===0)break e;case"keydown":case"keyup":te=ap;break;case"focusin":be="focus",te=oA;break;case"focusout":be="blur",te=oA;break;case"beforeblur":case"afterblur":te=oA;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=x;break;case D1:case O1:case M1:te=ep;break;case L1:te=k;break;case"scroll":case"scrollend":te=Vu;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Mi;break;case"toggle":case"beforetoggle":te=Me}var Ne=(a&4)!==0,vt=!Ne&&(i==="scroll"||i==="scrollend"),q=Ne?Z!==null?Z+"Capture":null:Z;Ne=[];for(var z=J,X;z!==null;){var oe=z;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||q===null||(oe=_s(z,q),oe!=null&&Ne.push(wd(z,oe,X))),vt)break;z=z.return}0<Ne.length&&(Z=new te(Z,be,null,u,ie),ae.push({event:Z,listeners:Ne}))}}if((a&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",Z&&u!==Pu&&(be=u.relatedTarget||u.fromElement)&&(oi(be)||be[si]))break e;if((te||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(be=u.relatedTarget||u.toElement,te=J,be=be?oi(be):null,be!==null&&(vt=o(be),Ne=be.tag,be!==vt||Ne!==5&&Ne!==27&&Ne!==6)&&(be=null)):(te=null,be=J),te!==be)){if(Ne=Ku,oe="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Ne=Mi,oe="onPointerLeave",q="onPointerEnter",z="pointer"),vt=te==null?Z:Nr(te),X=be==null?Z:Nr(be),Z=new Ne(oe,z+"leave",te,u,ie),Z.target=vt,Z.relatedTarget=X,oe=null,oi(ie)===J&&(Ne=new Ne(q,z+"enter",be,u,ie),Ne.target=X,Ne.relatedTarget=vt,oe=Ne),vt=oe,te&&be)t:{for(Ne=gj,q=te,z=be,X=0,oe=q;oe;oe=Ne(oe))X++;oe=0;for(var Ue=z;Ue;Ue=Ne(Ue))oe++;for(;0<X-oe;)q=Ne(q),X--;for(;0<oe-X;)z=Ne(z),oe--;for(;X--;){if(q===z||z!==null&&q===z.alternate){Ne=q;break t}q=Ne(q),z=Ne(z)}Ne=null}else Ne=null;te!==null&&aI(ae,Z,te,Ne,!1),be!==null&&vt!==null&&aI(ae,vt,be,Ne,!0)}}e:{if(Z=J?Nr(J):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var st=x1;else if(B1(Z))if(E1)st=S5;else{st=E5;var Ee=x5}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?J&&Sl(J.elementType)&&(st=x1):st=_5;if(st&&(st=st(i,J))){C1(ae,st,u,ie);break e}Ee&&Ee(i,Z,J),i==="focusout"&&J&&Z.type==="number"&&J.memoizedProps.value!=null&&Mu(Z,"number",Z.value)}switch(Ee=J?Nr(J):window,i){case"focusin":(B1(Ee)||Ee.contentEditable==="true")&&(Dl=Ee,Zy=J,$u=null);break;case"focusout":$u=Zy=Dl=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,R1(ae,u,ie);break;case"selectionchange":if(I5)break;case"keydown":case"keyup":R1(ae,u,ie)}var ke;if(ot)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Ql?aA(i,u)&&(Ze="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ze="onCompositionStart");Ze&&(gi&&u.locale!=="ko"&&(Ql||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Ql&&(ke=ju()):(di=ie,Hu="value"in di?di.value:di.textContent,Ql=!0)),Ee=Xp(J,Ze),0<Ee.length&&(Ze=new pi(Ze,i,null,u,ie),ae.push({event:Ze,listeners:Ee}),ke?Ze.data=ke:(ke=Rl(u),ke!==null&&(Ze.data=ke)))),(ke=Zr?w5(i,u):b5(i,u))&&(Ze=Xp(J,"onBeforeInput"),0<Ze.length&&(Ee=new pi("onBeforeInput","beforeinput",null,u,ie),ae.push({event:Ee,listeners:Ze}),Ee.data=ke)),dj(ae,i,J,u,ie)}iI(ae,a)})}function wd(i,a,u){return{instance:i,listener:a,currentTarget:u}}function Xp(i,a){for(var u=a+"Capture",h=[];i!==null;){var v=i,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=_s(i,u),v!=null&&h.unshift(wd(i,v,w)),v=_s(i,a),v!=null&&h.push(wd(i,v,w))),i.tag===3)return h;i=i.return}return[]}function gj(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function aI(i,a,u,h,v){for(var w=a._reactName,S=[];u!==null&&u!==h;){var O=u,K=O.alternate,J=O.stateNode;if(O=O.tag,K!==null&&K===h)break;O!==5&&O!==26&&O!==27||J===null||(K=J,v?(J=_s(u,w),J!=null&&S.unshift(wd(u,J,K))):v||(J=_s(u,w),J!=null&&S.push(wd(u,J,K)))),u=u.return}S.length!==0&&i.push({event:a,listeners:S})}var mj=/\r\n?/g,yj=/\u0000|\uFFFD/g;function AI(i){return(typeof i=="string"?i:""+i).replace(mj,`
`).replace(yj,"")}function lI(i,a){return a=AI(a),AI(i)===a}function yt(i,a,u,h,v,w){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||gr(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&gr(i,""+h);break;case"className":Rr(i,"class",h);break;case"tabIndex":Rr(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(i,u,h);break;case"style":ku(i,h,w);break;case"data":if(a!=="object"){Rr(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Tl(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(a!=="input"&&yt(i,a,"name",v.name,v,null),yt(i,a,"formEncType",v.formEncType,v,null),yt(i,a,"formMethod",v.formMethod,v,null),yt(i,a,"formTarget",v.formTarget,v,null)):(yt(i,a,"encType",v.encType,v,null),yt(i,a,"method",v.method,v,null),yt(i,a,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Tl(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=Es);break;case"onScroll":h!=null&&$e("scroll",i);break;case"onScrollEnd":h!=null&&$e("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=Tl(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":$e("beforetoggle",i),$e("toggle",i),El(i,"popover",h);break;case"xlinkActuate":nn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":nn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":nn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":nn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":nn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":nn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":nn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":nn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":nn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":El(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Xf.get(u)||u,El(i,u,h))}}function Ew(i,a,u,h,v,w){switch(u){case"style":ku(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?gr(i,h):(typeof h=="number"||typeof h=="bigint")&&gr(i,""+h);break;case"onScroll":h!=null&&$e("scroll",i);break;case"onScrollEnd":h!=null&&$e("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nu.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),w=i[bn]||null,w=w!=null?w[u]:null,typeof w=="function"&&i.removeEventListener(a,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(a,h,v);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):El(i,u,h)}}}function Mn(i,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",i),$e("load",i);var h=!1,v=!1,w;for(w in u)if(u.hasOwnProperty(w)){var S=u[w];if(S!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:yt(i,a,w,S,u,null)}}v&&yt(i,a,"srcSet",u.srcSet,u,null),h&&yt(i,a,"src",u.src,u,null);return;case"input":$e("invalid",i);var O=w=S=v=null,K=null,J=null;for(h in u)if(u.hasOwnProperty(h)){var ie=u[h];if(ie!=null)switch(h){case"name":v=ie;break;case"type":S=ie;break;case"checked":K=ie;break;case"defaultChecked":J=ie;break;case"value":w=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:yt(i,a,h,ie,u,null)}}qf(i,w,O,K,J,S,v,!1);return;case"select":$e("invalid",i),h=S=w=null;for(v in u)if(u.hasOwnProperty(v)&&(O=u[v],O!=null))switch(v){case"value":w=O;break;case"defaultValue":S=O;break;case"multiple":h=O;default:yt(i,a,v,O,u,null)}a=w,u=S,i.multiple=!!h,a!=null?No(i,!!h,a,!1):u!=null&&No(i,!!h,u,!0);return;case"textarea":$e("invalid",i),w=v=h=null;for(S in u)if(u.hasOwnProperty(S)&&(O=u[S],O!=null))switch(S){case"value":h=O;break;case"defaultValue":v=O;break;case"children":w=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:yt(i,a,S,O,u,null)}Ro(i,h,v,w);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(h=u[K],h!=null))switch(K){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:yt(i,a,K,h,u,null)}return;case"dialog":$e("beforetoggle",i),$e("toggle",i),$e("cancel",i),$e("close",i);break;case"iframe":case"object":$e("load",i);break;case"video":case"audio":for(h=0;h<vd.length;h++)$e(vd[h],i);break;case"image":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"embed":case"source":case"link":$e("error",i),$e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(h=u[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:yt(i,a,J,h,u,null)}return;default:if(Sl(a)){for(ie in u)u.hasOwnProperty(ie)&&(h=u[ie],h!==void 0&&Ew(i,a,ie,h,u,void 0));return}}for(O in u)u.hasOwnProperty(O)&&(h=u[O],h!=null&&yt(i,a,O,h,u,null))}function vj(i,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,S=null,O=null,K=null,J=null,ie=null;for(te in u){var ae=u[te];if(u.hasOwnProperty(te)&&ae!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":K=ae;default:h.hasOwnProperty(te)||yt(i,a,te,null,h,ae)}}for(var Z in h){var te=h[Z];if(ae=u[Z],h.hasOwnProperty(Z)&&(te!=null||ae!=null))switch(Z){case"type":w=te;break;case"name":v=te;break;case"checked":J=te;break;case"defaultChecked":ie=te;break;case"value":S=te;break;case"defaultValue":O=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:te!==ae&&yt(i,a,Z,te,h,ae)}}_l(i,S,O,K,J,ie,w,v);return;case"select":te=S=O=Z=null;for(w in u)if(K=u[w],u.hasOwnProperty(w)&&K!=null)switch(w){case"value":break;case"multiple":te=K;default:h.hasOwnProperty(w)||yt(i,a,w,null,h,K)}for(v in h)if(w=h[v],K=u[v],h.hasOwnProperty(v)&&(w!=null||K!=null))switch(v){case"value":Z=w;break;case"defaultValue":O=w;break;case"multiple":S=w;default:w!==K&&yt(i,a,v,w,h,K)}a=O,u=S,h=te,Z!=null?No(i,!!u,Z,!1):!!h!=!!u&&(a!=null?No(i,!!u,a,!0):No(i,!!u,u?[]:"",!1));return;case"textarea":te=Z=null;for(O in u)if(v=u[O],u.hasOwnProperty(O)&&v!=null&&!h.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:yt(i,a,O,null,h,v)}for(S in h)if(v=h[S],w=u[S],h.hasOwnProperty(S)&&(v!=null||w!=null))switch(S){case"value":Z=v;break;case"defaultValue":te=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&yt(i,a,S,v,h,w)}$f(i,Z,te);return;case"option":for(var be in u)if(Z=u[be],u.hasOwnProperty(be)&&Z!=null&&!h.hasOwnProperty(be))switch(be){case"selected":i.selected=!1;break;default:yt(i,a,be,null,h,Z)}for(K in h)if(Z=h[K],te=u[K],h.hasOwnProperty(K)&&Z!==te&&(Z!=null||te!=null))switch(K){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:yt(i,a,K,Z,h,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in u)Z=u[Ne],u.hasOwnProperty(Ne)&&Z!=null&&!h.hasOwnProperty(Ne)&&yt(i,a,Ne,null,h,Z);for(J in h)if(Z=h[J],te=u[J],h.hasOwnProperty(J)&&Z!==te&&(Z!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:yt(i,a,J,Z,h,te)}return;default:if(Sl(a)){for(var vt in u)Z=u[vt],u.hasOwnProperty(vt)&&Z!==void 0&&!h.hasOwnProperty(vt)&&Ew(i,a,vt,void 0,h,Z);for(ie in h)Z=h[ie],te=u[ie],!h.hasOwnProperty(ie)||Z===te||Z===void 0&&te===void 0||Ew(i,a,ie,Z,h,te);return}}for(var q in u)Z=u[q],u.hasOwnProperty(q)&&Z!=null&&!h.hasOwnProperty(q)&&yt(i,a,q,null,h,Z);for(ae in h)Z=h[ae],te=u[ae],!h.hasOwnProperty(ae)||Z===te||Z==null&&te==null||yt(i,a,ae,Z,h,te)}function cI(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wj(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],w=v.transferSize,S=v.initiatorType,O=v.duration;if(w&&O&&cI(S)){for(S=0,O=v.responseEnd,h+=1;h<u.length;h++){var K=u[h],J=K.startTime;if(J>O)break;var ie=K.transferSize,ae=K.initiatorType;ie&&cI(ae)&&(K=K.responseEnd,S+=ie*(K<O?1:(O-J)/(K-J)))}if(--h,a+=8*(w+S)/(v.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var _w=null,Sw=null;function Jp(i){return i.nodeType===9?i:i.ownerDocument}function uI(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dI(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Tw(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Iw=null;function bj(){var i=window.event;return i&&i.type==="popstate"?i===Iw?!1:(Iw=i,!0):(Iw=null,!1)}var hI=typeof setTimeout=="function"?setTimeout:void 0,Bj=typeof clearTimeout=="function"?clearTimeout:void 0,fI=typeof Promise=="function"?Promise:void 0,Cj=typeof queueMicrotask=="function"?queueMicrotask:typeof fI<"u"?function(i){return fI.resolve(null).then(i).catch(xj)}:hI;function xj(i){setTimeout(function(){throw i})}function na(i){return i==="head"}function pI(i,a){var u=a,h=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(v),Ac(a);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")bd(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,bd(u);for(var w=u.firstChild;w;){var S=w.nextSibling,O=w.nodeName;w[ii]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=S}}else u==="body"&&bd(i.ownerDocument.body);u=v}while(u);Ac(a)}function gI(i,a){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function Uw(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Uw(u),xl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function Ej(i,a,u,h){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ii])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=os(i.nextSibling),i===null)break}return null}function _j(i,a,u){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=os(i.nextSibling),i===null))return null;return i}function mI(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=os(i.nextSibling),i===null))return null;return i}function Fw(i){return i.data==="$?"||i.data==="$~"}function Nw(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Sj(i,a){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||u.readyState!=="loading")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function os(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Rw=null;function yI(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(a===0)return os(i.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}i=i.nextSibling}return null}function vI(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return i;a--}else u!=="/$"&&u!=="/&"||a++}i=i.previousSibling}return null}function wI(i,a,u){switch(a=Jp(u),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function bd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);xl(i)}var as=new Map,bI=new Set;function Zp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ji=se.d;se.d={f:Tj,r:Ij,D:Uj,C:Fj,L:Nj,m:Rj,X:Dj,S:Qj,M:Oj};function Tj(){var i=Ji.f(),a=Kp();return i||a}function Ij(i){var a=Yr(i);a!==null&&a.tag===5&&a.type==="form"?LS(a):Ji.r(i)}var ic=typeof document>"u"?null:document;function BI(i,a,u){var h=ic;if(h&&typeof a=="string"&&a){var v=pr(a);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),bI.has(v)||(bI.add(v),i={rel:i,crossOrigin:u,href:a},h.querySelector(v)===null&&(a=h.createElement("link"),Mn(a,"link",i),tn(a),h.head.appendChild(a)))}}function Uj(i){Ji.D(i),BI("dns-prefetch",i,null)}function Fj(i,a){Ji.C(i,a),BI("preconnect",i,a)}function Nj(i,a,u){Ji.L(i,a,u);var h=ic;if(h&&i&&a){var v='link[rel="preload"][as="'+pr(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+pr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+pr(u.imageSizes)+'"]')):v+='[href="'+pr(i)+'"]';var w=v;switch(a){case"style":w=oc(i);break;case"script":w=ac(i)}as.has(w)||(i=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:i,as:a},u),as.set(w,i),h.querySelector(v)!==null||a==="style"&&h.querySelector(Bd(w))||a==="script"&&h.querySelector(Cd(w))||(a=h.createElement("link"),Mn(a,"link",i),tn(a),h.head.appendChild(a)))}}function Rj(i,a){Ji.m(i,a);var u=ic;if(u&&i){var h=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+pr(h)+'"][href="'+pr(i)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=ac(i)}if(!as.has(w)&&(i=p({rel:"modulepreload",href:i},a),as.set(w,i),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Cd(w)))return}h=u.createElement("link"),Mn(h,"link",i),tn(h),u.head.appendChild(h)}}}function Qj(i,a,u){Ji.S(i,a,u);var h=ic;if(h&&i){var v=ai(h).hoistableStyles,w=oc(i);a=a||"default";var S=v.get(w);if(!S){var O={loading:0,preload:null};if(S=h.querySelector(Bd(w)))O.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},u),(u=as.get(w))&&Qw(i,u);var K=S=h.createElement("link");tn(K),Mn(K,"link",i),K._p=new Promise(function(J,ie){K.onload=J,K.onerror=ie}),K.addEventListener("load",function(){O.loading|=1}),K.addEventListener("error",function(){O.loading|=2}),O.loading|=4,eg(S,a,h)}S={type:"stylesheet",instance:S,count:1,state:O},v.set(w,S)}}}function Dj(i,a){Ji.X(i,a);var u=ic;if(u&&i){var h=ai(u).hoistableScripts,v=ac(i),w=h.get(v);w||(w=u.querySelector(Cd(v)),w||(i=p({src:i,async:!0},a),(a=as.get(v))&&Dw(i,a),w=u.createElement("script"),tn(w),Mn(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function Oj(i,a){Ji.M(i,a);var u=ic;if(u&&i){var h=ai(u).hoistableScripts,v=ac(i),w=h.get(v);w||(w=u.querySelector(Cd(v)),w||(i=p({src:i,async:!0,type:"module"},a),(a=as.get(v))&&Dw(i,a),w=u.createElement("script"),tn(w),Mn(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function CI(i,a,u,h){var v=(v=Te.current)?Zp(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=oc(u.href),u=ai(v).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=oc(u.href);var w=ai(v).hoistableStyles,S=w.get(i);if(S||(v=v.ownerDocument||v,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,S),(w=v.querySelector(Bd(i)))&&!w._p&&(S.instance=w,S.state.loading=5),as.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},as.set(i,u),w||Mj(v,i,u,S.state))),a&&h===null)throw Error(r(528,""));return S}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ac(u),u=ai(v).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function oc(i){return'href="'+pr(i)+'"'}function Bd(i){return'link[rel="stylesheet"]['+i+"]"}function xI(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function Mj(i,a,u,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Mn(a,"link",u),tn(a),i.head.appendChild(a))}function ac(i){return'[src="'+pr(i)+'"]'}function Cd(i){return"script[async]"+i}function EI(i,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+pr(u.href)+'"]');if(h)return a.instance=h,tn(h),h;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),tn(h),Mn(h,"style",v),eg(h,u.precedence,i),a.instance=h;case"stylesheet":v=oc(u.href);var w=i.querySelector(Bd(v));if(w)return a.state.loading|=4,a.instance=w,tn(w),w;h=xI(u),(v=as.get(v))&&Qw(h,v),w=(i.ownerDocument||i).createElement("link"),tn(w);var S=w;return S._p=new Promise(function(O,K){S.onload=O,S.onerror=K}),Mn(w,"link",h),a.state.loading|=4,eg(w,u.precedence,i),a.instance=w;case"script":return w=ac(u.src),(v=i.querySelector(Cd(w)))?(a.instance=v,tn(v),v):(h=u,(v=as.get(w))&&(h=p({},u),Dw(h,v)),i=i.ownerDocument||i,v=i.createElement("script"),tn(v),Mn(v,"link",h),i.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,eg(h,u.precedence,i));return a.instance}function eg(i,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,S=0;S<h.length;S++){var O=h[S];if(O.dataset.precedence===a)w=O;else if(w!==v)break}w?w.parentNode.insertBefore(i,w.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(i,a.firstChild))}function Qw(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Dw(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var tg=null;function _I(i,a,u){if(tg===null){var h=new Map,v=tg=new Map;v.set(u,h)}else v=tg,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var w=u[v];if(!(w[ii]||w[en]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var S=w.getAttribute(a)||"";S=i+S;var O=h.get(S);O?O.push(w):h.set(S,[w])}}return h}function SI(i,a,u){i=i.ownerDocument||i,i.head.insertBefore(u,a==="title"?i.querySelector("head > title"):null)}function Lj(i,a,u){if(u===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function TI(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function kj(i,a,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=oc(h.href),w=a.querySelector(Bd(v));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=ng.bind(i),a.then(i,i)),u.state.loading|=4,u.instance=w,tn(w);return}w=a.ownerDocument||a,h=xI(h),(v=as.get(v))&&Qw(h,v),w=w.createElement("link"),tn(w);var S=w;S._p=new Promise(function(O,K){S.onload=O,S.onerror=K}),Mn(w,"link",h),u.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=ng.bind(i),a.addEventListener("load",u),a.addEventListener("error",u))}}var Ow=0;function Pj(i,a){return i.stylesheets&&i.count===0&&sg(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&sg(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+a);0<i.imgBytes&&Ow===0&&(Ow=62500*wj());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&sg(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>Ow?50:800)+a);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function ng(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rg=null;function sg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rg=new Map,a.forEach(Hj,i),rg=null,ng.call(i))}function Hj(i,a){if(!(a.state.loading&4)){var u=rg.get(i);if(u)var h=u.get(null);else{u=new Map,rg.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var S=v[w];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),h=S)}h&&u.set(null,h)}v=a.instance,S=v.getAttribute("data-precedence"),w=u.get(S)||h,w===h&&u.set(null,v),u.set(S,v),this.count++,h=ng.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),a.state.loading|=4}}var xd={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function jj(i,a,u,h,v,w,S,O,K){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function II(i,a,u,h,v,w,S,O,K,J,ie,ae){return i=new jj(i,a,u,S,K,J,ie,ae,O),a=1,w===!0&&(a|=24),w=Dr(3,null,null,a),i.current=w,w.stateNode=i,a=pv(),a.refCount++,i.pooledCache=a,a.refCount++,w.memoizedState={element:h,isDehydrated:u,cache:a},vv(w),i}function UI(i){return i?(i=Ll,i):Ll}function FI(i,a,u,h,v,w){v=UI(v),h.context===null?h.context=v:h.pendingContext=v,h=Go(a),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=zo(i,h,a),u!==null&&(br(u,i,a),nd(u,i,a))}function NI(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Mw(i,a){NI(i,a),(i=i.alternate)&&NI(i,a)}function RI(i){if(i.tag===13||i.tag===31){var a=cA(i,67108864);a!==null&&br(a,i,67108864),Mw(i,67108864)}}function QI(i){if(i.tag===13||i.tag===31){var a=Pr();a=Ja(a);var u=cA(i,a);u!==null&&br(u,i,a),Mw(i,a)}}var ig=!0;function Vj(i,a,u,h){var v=W.T;W.T=null;var w=se.p;try{se.p=2,Lw(i,a,u,h)}finally{se.p=w,W.T=v}}function Kj(i,a,u,h){var v=W.T;W.T=null;var w=se.p;try{se.p=8,Lw(i,a,u,h)}finally{se.p=w,W.T=v}}function Lw(i,a,u,h){if(ig){var v=kw(h);if(v===null)xw(i,a,h,og,u),OI(i,h);else if(zj(v,i,a,u,h))h.stopPropagation();else if(OI(i,h),a&4&&-1<Gj.indexOf(i)){for(;v!==null;){var w=Yr(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var S=ti(w.pendingLanes);if(S!==0){var O=w;for(O.pendingLanes|=2,O.entangledLanes|=2;S;){var K=1<<31-Gt(S);O.entanglements[1]|=K,S&=~K}wi(w),(at&6)===0&&(jp=or()+500,yd(0))}}break;case 31:case 13:O=cA(w,2),O!==null&&br(O,w,2),Kp(),Mw(w,2)}if(w=kw(h),w===null&&xw(i,a,h,og,u),w===v)break;v=w}v!==null&&h.stopPropagation()}else xw(i,a,h,null,u)}}function kw(i){return i=Xr(i),Pw(i)}var og=null;function Pw(i){if(og=null,i=oi(i),i!==null){var a=o(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=A(a),i!==null)return i;i=null}else if(u===31){if(i=l(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return og=i,null}function DI(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case Su:return 2;case Tu:return 8;case Uo:case zy:return 32;case Lf:return 268435456;default:return 32}default:return 32}}var Hw=!1,ra=null,sa=null,ia=null,Ed=new Map,_d=new Map,oa=[],Gj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OI(i,a){switch(i){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Ed.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(a.pointerId)}}function Sd(i,a,u,h,v,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},a!==null&&(a=Yr(a),a!==null&&RI(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function zj(i,a,u,h,v){switch(a){case"focusin":return ra=Sd(ra,i,a,u,h,v),!0;case"dragenter":return sa=Sd(sa,i,a,u,h,v),!0;case"mouseover":return ia=Sd(ia,i,a,u,h,v),!0;case"pointerover":var w=v.pointerId;return Ed.set(w,Sd(Ed.get(w)||null,i,a,u,h,v)),!0;case"gotpointercapture":return w=v.pointerId,_d.set(w,Sd(_d.get(w)||null,i,a,u,h,v)),!0}return!1}function MI(i){var a=oi(i.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=A(u),a!==null){i.blockedOn=a,Cs(i.priority,function(){QI(u)});return}}else if(a===31){if(a=l(u),a!==null){i.blockedOn=a,Cs(i.priority,function(){QI(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ag(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=kw(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Pu=h,u.target.dispatchEvent(h),Pu=null}else return a=Yr(u),a!==null&&RI(a),i.blockedOn=u,!1;a.shift()}return!0}function LI(i,a,u){ag(i)&&u.delete(a)}function Wj(){Hw=!1,ra!==null&&ag(ra)&&(ra=null),sa!==null&&ag(sa)&&(sa=null),ia!==null&&ag(ia)&&(ia=null),Ed.forEach(LI),_d.forEach(LI)}function Ag(i,a){i.blockedOn===a&&(i.blockedOn=null,Hw||(Hw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Wj)))}var lg=null;function kI(i){lg!==i&&(lg=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){lg===i&&(lg=null);for(var a=0;a<i.length;a+=3){var u=i[a],h=i[a+1],v=i[a+2];if(typeof h!="function"){if(Pw(h||u)===null)continue;break}var w=Yr(u);w!==null&&(i.splice(a,3),a-=3,kv(w,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Ac(i){function a(K){return Ag(K,i)}ra!==null&&Ag(ra,i),sa!==null&&Ag(sa,i),ia!==null&&Ag(ia,i),Ed.forEach(a),_d.forEach(a);for(var u=0;u<oa.length;u++){var h=oa[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<oa.length&&(u=oa[0],u.blockedOn===null);)MI(u),u.blockedOn===null&&oa.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],w=u[h+1],S=v[bn]||null;if(typeof w=="function")S||kI(u);else if(S){var O=null;if(w&&w.hasAttribute("formAction")){if(v=w,S=w[bn]||null)O=S.formAction;else if(Pw(v)!==null)continue}else O=S.action;typeof O=="function"?u[h+1]=O:(u.splice(h,3),h-=3),kI(u)}}}function PI(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(S){return v=S})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function jw(i){this._internalRoot=i}cg.prototype.render=jw.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=Pr();FI(u,h,i,a,null,null)},cg.prototype.unmount=jw.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;FI(i.current,2,null,i,null,null),Kp(),a[si]=null}};function cg(i){this._internalRoot=i}cg.prototype.unstable_scheduleHydration=function(i){if(i){var a=Kf();i={blockedOn:null,target:i,priority:a};for(var u=0;u<oa.length&&a!==0&&a<oa[u].priority;u++);oa.splice(u,0,i),u===0&&MI(i)}};var HI=e.version;if(HI!=="19.2.3")throw Error(r(527,HI,"19.2.3"));se.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var qj={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ug.isDisabled&&ug.supportsFiber)try{bs=ug.inject(qj),Nn=ug}catch{}}return Id.createRoot=function(i,a){if(!s(i))throw Error(r(299));var u=!1,h="",v=qS,w=$S,S=YS;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=II(i,1,!1,null,null,u,h,null,v,w,S,PI),i[si]=a.current,Cw(i),new jw(a)},Id.hydrateRoot=function(i,a,u){if(!s(i))throw Error(r(299));var h=!1,v="",w=qS,S=$S,O=YS,K=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),a=II(i,1,!0,a,u??null,h,v,K,w,S,O,PI),a.context=UI(null),u=a.current,h=Pr(),h=Ja(h),v=Go(h),v.callback=null,zo(u,v,h),u=h,a.current.lanes=u,Ya(a,u),wi(a),i[si]=a.current,Cw(i),new cg(a)},Id.version="19.2.3",Id}var XI;function sV(){if(XI)return Gw.exports;XI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gw.exports=rV(),Gw.exports}var iV=sV();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JI="popstate";function oV(t={}){function e(s,o){let{pathname:A="/",search:l="",hash:c=""}=gl(s.location.hash.substring(1));return!A.startsWith("/")&&!A.startsWith(".")&&(A="/"+A),CB("",{pathname:A,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let A=s.document.querySelector("base"),l="";if(A&&A.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof o=="string"?o:_h(o))}function r(s,o){Ur(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return AV(e,n,r,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ur(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aV(){return Math.random().toString(36).substring(2,10)}function ZI(t,e){return{usr:t.state,key:t.key,idx:e}}function CB(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:n,key:e&&e.key||r||aV()}}function _h({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function AV(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,A=s.history,l="POP",c=null,d=f();d==null&&(d=0,A.replaceState({...A.state,idx:d},""));function f(){return(A.state||{idx:null}).idx}function p(){l="POP";let E=f(),I=E==null?null:E-d;d=E,c&&c({action:l,location:C.location,delta:I})}function g(E,I){l="PUSH";let F=CB(C.location,E,I);n&&n(F,E),d=f()+1;let Q=ZI(F,d),j=C.createHref(F);try{A.pushState(Q,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(j)}o&&c&&c({action:l,location:C.location,delta:1})}function b(E,I){l="REPLACE";let F=CB(C.location,E,I);n&&n(F,E),d=f();let Q=ZI(F,d),j=C.createHref(F);A.replaceState(Q,"",j),o&&c&&c({action:l,location:C.location,delta:0})}function B(E){return lV(E)}let C={get action(){return l},get location(){return t(s,A)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(JI,p),c=E,()=>{s.removeEventListener(JI,p),c=null}},createHref(E){return e(s,E)},createURL:B,encodeLocation(E){let I=B(E);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:g,replace:b,go(E){return A.go(E)}};return C}function lV(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:_h(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function jQ(t,e,n="/"){return cV(t,e,n,!1)}function cV(t,e,n,r){let s=typeof e=="string"?gl(e):e,o=mo(s.pathname||"/",n);if(o==null)return null;let A=VQ(t);uV(A);let l=null;for(let c=0;l==null&&c<A.length;++c){let d=BV(o);l=wV(A[c],d,r)}return l}function VQ(t,e=[],n=[],r="",s=!1){let o=(A,l,c=s,d)=>{let f={relativePath:d===void 0?A.path||"":d,caseSensitive:A.caseSensitive===!0,childrenIndex:l,route:A};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&c)return;Mt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=oo([r,f.relativePath]),g=n.concat(f);A.children&&A.children.length>0&&(Mt(A.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),VQ(A.children,e,g,p,c)),!(A.path==null&&!A.index)&&e.push({path:p,score:yV(p,A.index),routesMeta:g})};return t.forEach((A,l)=>{var c;if(A.path===""||!((c=A.path)!=null&&c.includes("?")))o(A,l);else for(let d of KQ(A.path))o(A,l,!0,d)}),e}function KQ(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let A=KQ(r.join("/")),l=[];return l.push(...A.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...A),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function uV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dV=/^:[\w-]+$/,hV=3,fV=2,pV=1,gV=10,mV=-2,eU=t=>t==="*";function yV(t,e){let n=t.split("/"),r=n.length;return n.some(eU)&&(r+=mV),e&&(r+=fV),n.filter(s=>!eU(s)).reduce((s,o)=>s+(dV.test(o)?hV:o===""?pV:gV),r)}function vV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function wV(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",A=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",p=Tm({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Tm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),A.push({params:s,pathname:oo([o,p.pathname]),pathnameBase:_V(oo([o,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(o=oo([o,p.pathnameBase]))}return A}function Tm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],A=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let B=l[g]||"";A=o.slice(0,o.length-B.length).replace(/(.)\/+$/,"$1")}const b=l[g];return p&&!b?d[f]=void 0:d[f]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:A,pattern:t}}function bV(t,e=!1,n=!0){Ur(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function BV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ur(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var GQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CV=t=>GQ.test(t);function xV(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?gl(t):t,o;if(n)if(CV(n))o=n;else{if(n.includes("//")){let A=n;n=n.replace(/\/\/+/g,"/"),Ur(!1,`Pathnames cannot have embedded double slashes - normalizing ${A} -> ${n}`)}n.startsWith("/")?o=tU(n.substring(1),"/"):o=tU(n,e)}else o=e;return{pathname:o,search:SV(r),hash:TV(s)}}function tU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function $w(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vx(t){let e=EV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function wx(t,e,n,r=!1){let s;typeof t=="string"?s=gl(t):(s={...t},Mt(!s.pathname||!s.pathname.includes("?"),$w("?","pathname","search",s)),Mt(!s.pathname||!s.pathname.includes("#"),$w("#","pathname","hash",s)),Mt(!s.search||!s.search.includes("#"),$w("#","search","hash",s)));let o=t===""||s.pathname==="",A=o?"/":s.pathname,l;if(A==null)l=n;else{let p=e.length-1;if(!r&&A.startsWith("..")){let g=A.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}l=p>=0?e[p]:"/"}let c=xV(s,l),d=A&&A!=="/"&&A.endsWith("/"),f=(o||A===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var oo=t=>t.join("/").replace(/\/\/+/g,"/"),_V=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,IV=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function UV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function FV(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function WQ(t,e){let n=t;if(typeof n!="string"||!GQ.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(zQ)try{let o=new URL(window.location.href),A=n.startsWith("//")?new URL(o.protocol+n):new URL(n),l=mo(A.pathname,e);A.origin===o.origin&&l!=null?n=l+A.search+A.hash:s=!0}catch{Ur(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qQ=["POST","PUT","PATCH","DELETE"];new Set(qQ);var NV=["GET",...qQ];new Set(NV);var ru=_.createContext(null);ru.displayName="DataRouter";var V0=_.createContext(null);V0.displayName="DataRouterState";var RV=_.createContext(!1),$Q=_.createContext({isTransitioning:!1});$Q.displayName="ViewTransition";var QV=_.createContext(new Map);QV.displayName="Fetchers";var DV=_.createContext(null);DV.displayName="Await";var Wr=_.createContext(null);Wr.displayName="Navigation";var af=_.createContext(null);af.displayName="Location";var $s=_.createContext({outlet:null,matches:[],isDataRoute:!1});$s.displayName="Route";var bx=_.createContext(null);bx.displayName="RouteError";var YQ="REACT_ROUTER_ERROR",OV="REDIRECT",MV="ROUTE_ERROR_RESPONSE";function LV(t){if(t.startsWith(`${YQ}:${OV}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function kV(t){if(t.startsWith(`${YQ}:${MV}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new IV(e.status,e.statusText,e.data)}catch{}}function PV(t,{relative:e}={}){Mt(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Wr),{hash:s,pathname:o,search:A}=Af(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:oo([n,o])),r.createHref({pathname:l,search:A,hash:s})}function su(){return _.useContext(af)!=null}function Ui(){return Mt(su(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(af).location}var XQ="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JQ(t){_.useContext(Wr).static||_.useLayoutEffect(t)}function Ys(){let{isDataRoute:t}=_.useContext($s);return t?e6():HV()}function HV(){Mt(su(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(ru),{basename:e,navigator:n}=_.useContext(Wr),{matches:r}=_.useContext($s),{pathname:s}=Ui(),o=JSON.stringify(vx(r)),A=_.useRef(!1);return JQ(()=>{A.current=!0}),_.useCallback((c,d={})=>{if(Ur(A.current,XQ),!A.current)return;if(typeof c=="number"){n.go(c);return}let f=wx(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:oo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,s,t])}_.createContext(null);function jV(){let{matches:t}=_.useContext($s),e=t[t.length-1];return e?e.params:{}}function Af(t,{relative:e}={}){let{matches:n}=_.useContext($s),{pathname:r}=Ui(),s=JSON.stringify(vx(n));return _.useMemo(()=>wx(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function VV(t,e){return ZQ(t,e)}function ZQ(t,e,n,r,s){var F;Mt(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=_.useContext(Wr),{matches:A}=_.useContext($s),l=A[A.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let Q=p&&p.path||"";tD(d,!p||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let g=Ui(),b;if(e){let Q=typeof e=="string"?gl(e):e;Mt(f==="/"||((F=Q.pathname)==null?void 0:F.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),b=Q}else b=g;let B=b.pathname||"/",C=B;if(f!=="/"){let Q=f.replace(/^\//,"").split("/");C="/"+B.replace(/^\//,"").split("/").slice(Q.length).join("/")}let E=jQ(t,{pathname:C});Ur(p||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ur(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=qV(E&&E.map(Q=>Object.assign({},Q,{params:Object.assign({},c,Q.params),pathname:oo([f,o.encodeLocation?o.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?f:oo([f,o.encodeLocation?o.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),A,n,r,s);return e&&I?_.createElement(af.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},I):I}function KV(){let t=ZV(),e=UV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},A=null;return console.error("Error handled by React Router default ErrorBoundary:",t),A=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,A)}var GV=_.createElement(KV,null),eD=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=kV(t.digest);n&&(t=n)}let e=t!==void 0?_.createElement($s.Provider,{value:this.props.routeContext},_.createElement(bx.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?_.createElement(zV,{error:t},e):e}};eD.contextType=RV;var Yw=new WeakMap;function zV({children:t,error:e}){let{basename:n}=_.useContext(Wr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=LV(e.digest);if(r){let s=Yw.get(e);if(s)throw s;let o=WQ(r.location,n);if(zQ&&!Yw.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const A=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Yw.set(e,A),A}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function WV({routeContext:t,match:e,children:n}){let r=_.useContext(ru);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement($s.Provider,{value:t},n)}function qV(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,A=n==null?void 0:n.errors;if(A!=null){let f=o.findIndex(p=>p.route.id&&(A==null?void 0:A[p.route.id])!==void 0);Mt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(A).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:b}=n,B=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||B){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}let d=n&&r?(f,p)=>{var g,b;r(f,{location:n.location,params:((b=(g=n.matches)==null?void 0:g[0])==null?void 0:b.params)??{},unstable_pattern:FV(n.matches),errorInfo:p})}:void 0;return o.reduceRight((f,p,g)=>{let b,B=!1,C=null,E=null;n&&(b=A&&p.route.id?A[p.route.id]:void 0,C=p.route.errorElement||GV,l&&(c<0&&g===0?(tD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,E=null):c===g&&(B=!0,E=p.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,g+1)),F=()=>{let Q;return b?Q=C:B?Q=E:p.route.Component?Q=_.createElement(p.route.Component,null):p.route.element?Q=p.route.element:Q=f,_.createElement(WV,{match:p,routeContext:{outlet:f,matches:I,isDataRoute:n!=null},children:Q})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?_.createElement(eD,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:F(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:d}):F()},null)}function Bx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $V(t){let e=_.useContext(ru);return Mt(e,Bx(t)),e}function YV(t){let e=_.useContext(V0);return Mt(e,Bx(t)),e}function XV(t){let e=_.useContext($s);return Mt(e,Bx(t)),e}function Cx(t){let e=XV(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function JV(){return Cx("useRouteId")}function ZV(){var r;let t=_.useContext(bx),e=YV("useRouteError"),n=Cx("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function e6(){let{router:t}=$V("useNavigate"),e=Cx("useNavigate"),n=_.useRef(!1);return JQ(()=>{n.current=!0}),_.useCallback(async(s,o={})=>{Ur(n.current,XQ),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var nU={};function tD(t,e,n){!e&&!nU[t]&&(nU[t]=!0,Ur(!1,n))}_.memo(t6);function t6({routes:t,future:e,state:n,onError:r}){return ZQ(t,void 0,n,r,e)}function xB({to:t,replace:e,state:n,relative:r}){Mt(su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=_.useContext(Wr);Ur(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=_.useContext($s),{pathname:A}=Ui(),l=Ys(),c=wx(t,vx(o),A,r==="path"),d=JSON.stringify(c);return _.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function Xn(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:A}){Mt(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:s,static:o,unstable_useTransitions:A,future:{}}),[l,s,o,A]);typeof n=="string"&&(n=gl(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:b="default"}=n,B=_.useMemo(()=>{let C=mo(d,l);return C==null?null:{location:{pathname:C,search:f,hash:p,state:g,key:b},navigationType:r}},[l,d,f,p,g,b,r]);return Ur(B!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:_.createElement(Wr.Provider,{value:c},_.createElement(af.Provider,{children:e,value:B}))}function r6({children:t,location:e}){return VV(EB(t),e)}function EB(t,e=[]){let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let o=[...e,s];if(r.type===_.Fragment){n.push.apply(n,EB(r.props.children,o));return}Mt(r.type===Xn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let A={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(A.children=EB(r.props.children,o)),n.push(A)}),n}var im="get",om="application/x-www-form-urlencoded";function K0(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function s6(t){return K0(t)&&t.tagName.toLowerCase()==="button"}function i6(t){return K0(t)&&t.tagName.toLowerCase()==="form"}function o6(t){return K0(t)&&t.tagName.toLowerCase()==="input"}function a6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A6(t,e){return t.button===0&&(!e||e==="_self")&&!a6(t)}function _B(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function l6(t,e){let n=_B(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var dg=null;function c6(){if(dg===null)try{new FormData(document.createElement("form"),0),dg=!1}catch{dg=!0}return dg}var u6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xw(t){return t!=null&&!u6.has(t)?(Ur(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${om}"`),null):t}function d6(t,e){let n,r,s,o,A;if(i6(t)){let l=t.getAttribute("action");r=l?mo(l,e):null,n=t.getAttribute("method")||im,s=Xw(t.getAttribute("enctype"))||om,o=new FormData(t)}else if(s6(t)||o6(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?mo(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||im,s=Xw(t.getAttribute("formenctype"))||Xw(l.getAttribute("enctype"))||om,o=new FormData(l,t),!c6()){let{name:d,type:f,value:p}=t;if(f==="image"){let g=d?`${d}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else d&&o.append(d,p)}}else{if(K0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=im,r=null,s=om,A=t}return o&&s==="text/plain"&&(A=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:A}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function h6(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&mo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function f6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function g6(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let A=await f6(o,n);return A.links?A.links():[]}return[]}));return w6(r.flat(1).filter(p6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rU(t,e,n,r,s,o){let A=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var f;return n[d].pathname!==c.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,d)=>A(c,d)||l(c,d)):o==="data"?e.filter((c,d)=>{var p;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(A(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function m6(t,e,{includeHydrateFallback:n}={}){return y6(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function y6(t){return[...new Set(t)]}function v6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function w6(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(v6(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function nD(){let t=_.useContext(ru);return xx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function b6(){let t=_.useContext(V0);return xx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ex=_.createContext(void 0);Ex.displayName="FrameworkContext";function rD(){let t=_.useContext(Ex);return xx(t,"You must render this element inside a <HydratedRouter> element"),t}function B6(t,e){let n=_.useContext(Ex),[r,s]=_.useState(!1),[o,A]=_.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,g=_.useRef(null);_.useEffect(()=>{if(t==="render"&&A(!0),t==="viewport"){let C=I=>{I.forEach(F=>{A(F.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[t]),_.useEffect(()=>{if(r){let C=setTimeout(()=>{A(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{s(!0)},B=()=>{s(!1),A(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:Ud(l,b),onBlur:Ud(c,B),onMouseEnter:Ud(d,b),onMouseLeave:Ud(f,B),onTouchStart:Ud(p,b)}]:[!1,g,{}]}function Ud(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function C6({page:t,...e}){let{router:n}=nD(),r=_.useMemo(()=>jQ(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(E6,{page:t,matches:r,...e}):null}function x6(t){let{manifest:e,routeModules:n}=rD(),[r,s]=_.useState([]);return _.useEffect(()=>{let o=!1;return g6(t,e,n).then(A=>{o||s(A)}),()=>{o=!0}},[t,e,n]),r}function E6({page:t,matches:e,...n}){let r=Ui(),{manifest:s,routeModules:o}=rD(),{basename:A}=nD(),{loaderData:l,matches:c}=b6(),d=_.useMemo(()=>rU(t,e,c,s,r,"data"),[t,e,c,s,r]),f=_.useMemo(()=>rU(t,e,c,s,r,"assets"),[t,e,c,s,r]),p=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let B=new Set,C=!1;if(e.forEach(I=>{var Q;let F=s.routes[I.route.id];!F||!F.hasLoader||(!d.some(j=>j.route.id===I.route.id)&&I.route.id in l&&((Q=o[I.route.id])!=null&&Q.shouldRevalidate)||F.hasClientLoader?C=!0:B.add(I.route.id))}),B.size===0)return[];let E=h6(t,A,"data");return C&&B.size>0&&E.searchParams.set("_routes",e.filter(I=>B.has(I.route.id)).map(I=>I.route.id).join(",")),[E.pathname+E.search]},[A,l,r,s,d,e,t,o]),g=_.useMemo(()=>m6(f,s),[f,s]),b=x6(f);return _.createElement(_.Fragment,null,p.map(B=>_.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),g.map(B=>_.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),b.map(({key:B,link:C})=>_.createElement("link",{key:B,nonce:n.nonce,...C})))}function _6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var S6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S6&&(window.__reactRouterVersion="7.11.0")}catch{}function T6({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=_.useRef();s.current==null&&(s.current=oV({window:r,v5Compat:!0}));let o=s.current,[A,l]=_.useState({action:o.action,location:o.location}),c=_.useCallback(d=>{n===!1?l(d):_.startTransition(()=>l(d))},[n]);return _.useLayoutEffect(()=>o.listen(c),[o,c]),_.createElement(n6,{basename:t,children:e,location:A.location,navigationType:A.action,navigator:o,unstable_useTransitions:n})}var sD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iu=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:A,state:l,target:c,to:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},B){let{basename:C,unstable_useTransitions:E}=_.useContext(Wr),I=typeof d=="string"&&sD.test(d),F=WQ(d,C);d=F.to;let Q=PV(d,{relative:s}),[j,P,V]=B6(r,b),R=N6(d,{replace:A,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:E});function U(L){e&&e(L),L.defaultPrevented||R(L)}let D=_.createElement("a",{...b,...V,href:F.absoluteURL||Q,onClick:F.isExternal||o?e:U,ref:_6(B,P),target:c,"data-discover":!I&&n==="render"?"true":void 0});return j&&!I?_.createElement(_.Fragment,null,D,_.createElement(C6,{page:Q})):D});iu.displayName="Link";var I6=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:A,viewTransition:l,children:c,...d},f){let p=Af(A,{relative:d.relative}),g=Ui(),b=_.useContext(V0),{navigator:B,basename:C}=_.useContext(Wr),E=b!=null&&L6(p)&&l===!0,I=B.encodeLocation?B.encodeLocation(p).pathname:p.pathname,F=g.pathname,Q=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(F=F.toLowerCase(),Q=Q?Q.toLowerCase():null,I=I.toLowerCase()),Q&&C&&(Q=mo(Q,C)||Q);const j=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let P=F===I||!s&&F.startsWith(I)&&F.charAt(j)==="/",V=Q!=null&&(Q===I||!s&&Q.startsWith(I)&&Q.charAt(I.length)==="/"),R={isActive:P,isPending:V,isTransitioning:E},U=P?e:void 0,D;typeof r=="function"?D=r(R):D=[r,P?"active":null,V?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(R):o;return _.createElement(iu,{...d,"aria-current":U,className:D,ref:f,style:L,to:A,viewTransition:l},typeof c=="function"?c(R):c)});I6.displayName="NavLink";var U6=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:A=im,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},B)=>{let{unstable_useTransitions:C}=_.useContext(Wr),E=O6(),I=M6(l,{relative:d}),F=A.toLowerCase()==="get"?"get":"post",Q=typeof l=="string"&&sD.test(l),j=P=>{if(c&&c(P),P.defaultPrevented)return;P.preventDefault();let V=P.nativeEvent.submitter,R=(V==null?void 0:V.getAttribute("formmethod"))||A,U=()=>E(V||P.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:s,state:o,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});C&&n!==!1?_.startTransition(()=>U()):U()};return _.createElement("form",{ref:B,method:F,action:I,onSubmit:r?c:j,...b,"data-discover":!Q&&t==="render"?"true":void 0})});U6.displayName="Form";function F6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iD(t){let e=_.useContext(ru);return Mt(e,F6(t)),e}function N6(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let d=Ys(),f=Ui(),p=Af(t,{relative:o});return _.useCallback(g=>{if(A6(g,e)){g.preventDefault();let b=n!==void 0?n:_h(f)===_h(p),B=()=>d(t,{replace:b,state:r,preventScrollReset:s,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:l});c?_.startTransition(()=>B()):B()}},[f,d,p,n,r,e,t,s,o,A,l,c])}function R6(t){Ur(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=_.useRef(_B(t)),n=_.useRef(!1),r=Ui(),s=_.useMemo(()=>l6(r.search,n.current?null:e.current),[r.search]),o=Ys(),A=_.useCallback((l,c)=>{const d=_B(typeof l=="function"?l(new URLSearchParams(s)):l);n.current=!0,o("?"+d,c)},[o,s]);return[s,A]}var Q6=0,D6=()=>`__${String(++Q6)}__`;function O6(){let{router:t}=iD("useSubmit"),{basename:e}=_.useContext(Wr),n=JV(),r=t.fetch,s=t.navigate;return _.useCallback(async(o,A={})=>{let{action:l,method:c,encType:d,formData:f,body:p}=d6(o,e);if(A.navigate===!1){let g=A.fetcherKey||D6();await r(g,n,A.action||l,{unstable_defaultShouldRevalidate:A.unstable_defaultShouldRevalidate,preventScrollReset:A.preventScrollReset,formData:f,body:p,formMethod:A.method||c,formEncType:A.encType||d,flushSync:A.flushSync})}else await s(A.action||l,{unstable_defaultShouldRevalidate:A.unstable_defaultShouldRevalidate,preventScrollReset:A.preventScrollReset,formData:f,body:p,formMethod:A.method||c,formEncType:A.encType||d,replace:A.replace,state:A.state,fromRouteId:n,flushSync:A.flushSync,viewTransition:A.viewTransition})},[r,s,e,n])}function M6(t,{relative:e}={}){let{basename:n}=_.useContext(Wr),r=_.useContext($s);Mt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Af(t||".",{relative:e})},A=Ui();if(t==null){o.search=A.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();o.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:oo([n,o.pathname])),_h(o)}function L6(t,{relative:e}={}){let n=_.useContext($Q);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iD("useViewTransitionState"),s=Af(t,{relative:e});if(!n.isTransitioning)return!1;let o=mo(n.currentLocation.pathname,r)||n.currentLocation.pathname,A=mo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tm(s.pathname,A)!=null||Tm(s.pathname,o)!=null}var _x=HQ();const k6=PQ(_x);var MQ;const oD=((MQ=window.pwaThemeVariables)==null?void 0:MQ.apiUrl)||"https://buildyourwolfpack-1.onrender.com";var LQ;console.log(" API Initialized (v3.5-RESURRECTION):",{window:(LQ=window.pwaThemeVariables)==null?void 0:LQ.apiUrl,env:"https://buildyourwolfpack-1.onrender.com",final:oD});async function je(t,e="GET",n,r){const s={"Content-Type":"application/json"};r&&(s.Authorization=`Bearer ${r}`);const o={method:e,headers:s,body:n?JSON.stringify(n):void 0},A=await fetch(`${oD}${t}`,o);if(!A.ok){const l=await A.json().catch(()=>({})),c=typeof l.detail=="object"?JSON.stringify(l.detail):l.detail||`API error: ${A.status}`;throw new Error(c)}return A.json()}const lc={register:t=>je("/api/auth/register","POST",t),getCurrentUser:t=>je("/api/auth/me","GET",void 0,t),updateUser:(t,e)=>je("/api/auth/me","PUT",e,t),selectCard:(t,e)=>je("/api/cards/select","POST",{card_id:e},t),initializeChat:t=>je("/api/initialize-chat","POST",{userId:t})},SB={getAllCards:()=>je("/api/cards/"),getUserCard:t=>je("/api/cards/user","GET",void 0,t)},CA={createProject:(t,e)=>je("/api/projects","POST",e,t),getUserProjects:t=>je("/api/projects","GET",void 0,t),getProject:(t,e)=>je(`/api/projects/${e}`,"GET",void 0,t),updateProject:(t,e,n)=>je(`/api/projects/${e}`,"PUT",n,t),addMember:(t,e,n)=>je(`/api/projects/${e}/members`,"POST",{user_id:n},t),removeMember:(t,e,n)=>je(`/api/projects/${e}/members/${n}`,"DELETE",void 0,t)},cc={createTask:(t,e)=>je("/api/tasks","POST",e,t),getProjectTasks:(t,e)=>je(`/api/tasks/project/${e}`,"GET",void 0,t),getTask:(t,e)=>je(`/api/tasks/${e}`,"GET",void 0,t),updateTask:(t,e,n)=>je(`/api/tasks/${e}`,"PUT",n,t),updateTaskStatus:(t,e,n)=>je(`/api/tasks/${e}/status`,"PUT",{status:n},t),completeTask:(t,e)=>je(`/api/tasks/${e}/complete`,"POST",void 0,t)},aD={getProjectGameboard:(t,e)=>je(`/api/gameboard/project/${e}`,"GET",void 0,t),getGlobalGameboard:t=>je("/api/gameboard/global","GET",void 0,t)},sU={getLeaderboardByIVP:t=>je("/api/leaderboard/by-ivp","GET",void 0,t),getLeaderboardByTiles:t=>je("/api/leaderboard/by-tiles","GET",void 0,t)},ao={createProfile:(t,e)=>je("/api/connections/profile","POST",e,t),getProfile:t=>je("/api/connections/profile","GET",void 0,t),updateProfile:(t,e)=>je("/api/connections/profile","PUT",e,t),getAvailableProfiles:t=>je("/api/connections/profiles","GET",void 0,t),matchWithUser:(t,e)=>je(`/api/connections/${e}/match`,"POST",void 0,t),getMatches:t=>je("/api/connections/matches","GET",void 0,t),createBoardForMatch:(t,e,n)=>je(`/api/connections/matches/${e}/create-board`,"POST",n,t)},AD={updateLocation:(t,e)=>je("/api/matchmaker/update-location","POST",e,t),getNearbyWolves:(t,e,n,r=50)=>je(`/api/matchmaker/nearby?lat=${e}&long=${n}&radius=${r}`,"GET",void 0,t)},P6={getNearbyPlaces:(t,e,n)=>je(`/api/places/nearby?lat=${e}&long=${n}`,"GET",void 0,t)},H6={startChat:(t,e,n)=>je("/api/chat/start-chat","POST",{recipientId:e,recipientName:n},t)},TB={createPack:(t,e,n)=>je("/api/packs","POST",{name:e,mission:n},t),getMyPacks:t=>je("/api/packs/me","GET",void 0,t),getPack:(t,e)=>je(`/api/packs/${e}`,"GET",void 0,t),joinPack:(t,e)=>je(`/api/packs/${e}/join`,"POST",{},t),leavePack:(t,e)=>je(`/api/packs/${e}/leave`,"POST",{},t)},hg={getStoredUser:()=>{const t=localStorage.getItem("local_user");return t?JSON.parse(t):null},signIn:async(t,e)=>{const r=JSON.parse(localStorage.getItem("local_users")||"[]").find(s=>s.email===t);if(r&&r.password===e)return localStorage.setItem("local_user",JSON.stringify(r)),r;throw new Error("Invalid credentials")},signUp:async(t,e,n)=>{const r=JSON.parse(localStorage.getItem("local_users")||"[]");if(r.some(o=>o.email===t))throw new Error("User already exists");const s={id:Date.now().toString(),firebase_uid:Date.now().toString(),email:t,name:n,password:e};return r.push(s),localStorage.setItem("local_users",JSON.stringify(r)),localStorage.setItem("local_user",JSON.stringify(s)),s},signOut:async()=>{localStorage.removeItem("local_user"),localStorage.removeItem("auth_token")},onAuthStateChanged:t=>{const e=localStorage.getItem("local_user");return t(e?JSON.parse(e):null),()=>{}}},lD=_.createContext(void 0);function wn(){const t=_.useContext(lD);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function j6({children:t}){const[e,n]=_.useState(null),[r,s]=_.useState(null),[o,A]=_.useState(!0),[l,c]=_.useState(localStorage.getItem("auth_token"));_.useEffect(()=>{console.log(" OAuthProvider: Initializing...");let B;return B=setTimeout(()=>{o&&(console.warn(" Auth Initialization timed out! Forcing load complete."),A(!1))},5e3),hg.onAuthStateChanged(async C=>{if(console.log(" Auth State Changed:",C?"User Found":"No User"),C)try{const E=localStorage.getItem("auth_token")||C.id;c(E),console.log(" Registering/Syncing User...");const I=await lc.register({firebase_uid:C.firebase_uid||C.id,email:C.email||"",name:C.name||""});console.log(" User Synced:",I.id),n(I);try{console.log(" Fetching User Card...");const F=await SB.getUserCard(E);s(F),console.log(" Card Loaded")}catch(F){console.warn(" Failed to load card:",F),s(null)}}catch(E){console.error(" Error setting up user:",E)}else n(null),s(null),c(null);console.log(" Auth Initialization Complete. Setting loading=false"),clearTimeout(B),A(!1)}),()=>{clearTimeout(B)}},[]);const b={currentUser:e,userCard:r,loading:o,token:l,signIn:async(B,C)=>{A(!0);try{const E=await hg.signIn(B,C);localStorage.setItem("auth_token",E.id),c(E.id);try{await lc.getCurrentUser(E.id)}catch{try{await lc.register({firebase_uid:E.firebase_uid||E.id,email:E.email,name:E.name})}catch(F){console.error("Error syncing user with backend:",F)}}}catch(E){throw console.error("Error signing in:",E),E}finally{A(!1)}},signUp:async(B,C,E,I)=>{A(!0);try{const F=await hg.signUp(B,C,E);localStorage.setItem("auth_token",F.id),c(F.id),await lc.register({firebase_uid:F.firebase_uid||F.id,email:F.email,name:F.name,referred_by:I});try{await lc.initializeChat(F.firebase_uid||F.id),console.log(" Chat initialized with Dom")}catch(Q){console.error("Error initializing chat:",Q)}}catch(F){throw console.error("Error signing up:",F),F}finally{A(!1)}},signOut:async()=>{try{await hg.signOut(),localStorage.removeItem("auth_token"),c(null),n(null),s(null)}catch(B){throw console.error("Error signing out:",B),B}},selectCard:async B=>{if(!l)throw new Error("Not authenticated");try{const C=await lc.selectCard(l,B);n(C);const E=await SB.getUserCard(l);s(E)}catch(C){throw console.error("Error selecting card:",C),C}}};return m.jsx(lD.Provider,{value:b,children:t})}var kQ;const V6=(((kQ=window.pwaThemeVariables)==null?void 0:kQ.apiUrl)||"https://buildyourwolfpack-1.onrender.com").replace(/^http/,"ws"),K6=`${V6}/ws`,cD=_.createContext(void 0);function lf(){const t=_.useContext(cD);if(t===void 0)throw new Error("useWebSocket must be used within a WebSocketProvider");return t}function G6({children:t}){const{token:e,currentUser:n}=wn(),[r,s]=_.useState(null),[o,A]=_.useState(!1),[l,c]=_.useState([]),[d,f]=_.useState(null);_.useEffect(()=>{if(!e||!n){r&&(r.close(),s(null),A(!1));return}r&&r.close();let b=`${K6}?user_id=${n.id}`;d&&(b+=`&project_id=${d}`);const B=new WebSocket(b);return B.onopen=()=>{console.log("WebSocket connected"),A(!0)},B.onmessage=C=>{try{const E=JSON.parse(C.data);c(I=>[...I,E])}catch(E){console.error("Error parsing WebSocket message:",E)}},B.onclose=()=>{console.log("WebSocket disconnected"),A(!1)},B.onerror=C=>{console.error("WebSocket error:",C)},s(B),()=>{B.close()}},[e,n,d]);const g={connected:o,messages:l,sendMessage:b=>{r&&o?r.send(JSON.stringify(b)):console.error("Cannot send message: WebSocket not connected")},setCurrentProjectId:f};return m.jsx(cD.Provider,{value:g,children:t})}var Jw,iU;function z6(){if(iU)return Jw;iU=1;var t={linear:function(e,n,r,s){var o=r-n;return o*e/s+n},easeInQuad:function(e,n,r,s){var o=r-n;return o*(e/=s)*e+n},easeOutQuad:function(e,n,r,s){var o=r-n;return-o*(e/=s)*(e-2)+n},easeInOutQuad:function(e,n,r,s){var o=r-n;return(e/=s/2)<1?o/2*e*e+n:-o/2*(--e*(e-2)-1)+n},easeInCubic:function(e,n,r,s){var o=r-n;return o*(e/=s)*e*e+n},easeOutCubic:function(e,n,r,s){var o=r-n;return o*((e=e/s-1)*e*e+1)+n},easeInOutCubic:function(e,n,r,s){var o=r-n;return(e/=s/2)<1?o/2*e*e*e+n:o/2*((e-=2)*e*e+2)+n},easeInQuart:function(e,n,r,s){var o=r-n;return o*(e/=s)*e*e*e+n},easeOutQuart:function(e,n,r,s){var o=r-n;return-o*((e=e/s-1)*e*e*e-1)+n},easeInOutQuart:function(e,n,r,s){var o=r-n;return(e/=s/2)<1?o/2*e*e*e*e+n:-o/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(e,n,r,s){var o=r-n;return o*(e/=s)*e*e*e*e+n},easeOutQuint:function(e,n,r,s){var o=r-n;return o*((e=e/s-1)*e*e*e*e+1)+n},easeInOutQuint:function(e,n,r,s){var o=r-n;return(e/=s/2)<1?o/2*e*e*e*e*e+n:o/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(e,n,r,s){var o=r-n;return-o*Math.cos(e/s*(Math.PI/2))+o+n},easeOutSine:function(e,n,r,s){var o=r-n;return o*Math.sin(e/s*(Math.PI/2))+n},easeInOutSine:function(e,n,r,s){var o=r-n;return-o/2*(Math.cos(Math.PI*e/s)-1)+n},easeInExpo:function(e,n,r,s){var o=r-n;return e==0?n:o*Math.pow(2,10*(e/s-1))+n},easeOutExpo:function(e,n,r,s){var o=r-n;return e==s?n+o:o*(-Math.pow(2,-10*e/s)+1)+n},easeInOutExpo:function(e,n,r,s){var o=r-n;return e===0?n:e===s?n+o:(e/=s/2)<1?o/2*Math.pow(2,10*(e-1))+n:o/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(e,n,r,s){var o=r-n;return-o*(Math.sqrt(1-(e/=s)*e)-1)+n},easeOutCirc:function(e,n,r,s){var o=r-n;return o*Math.sqrt(1-(e=e/s-1)*e)+n},easeInOutCirc:function(e,n,r,s){var o=r-n;return(e/=s/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+n:o/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(e,n,r,s){var o=r-n,A,l,c;return c=1.70158,l=0,A=o,e===0?n:(e/=s)===1?n+o:(l||(l=s*.3),A<Math.abs(o)?(A=o,c=l/4):c=l/(2*Math.PI)*Math.asin(o/A),-(A*Math.pow(2,10*(e-=1))*Math.sin((e*s-c)*(2*Math.PI)/l))+n)},easeOutElastic:function(e,n,r,s){var o=r-n,A,l,c;return c=1.70158,l=0,A=o,e===0?n:(e/=s)===1?n+o:(l||(l=s*.3),A<Math.abs(o)?(A=o,c=l/4):c=l/(2*Math.PI)*Math.asin(o/A),A*Math.pow(2,-10*e)*Math.sin((e*s-c)*(2*Math.PI)/l)+o+n)},easeInOutElastic:function(e,n,r,s){var o=r-n,A,l,c;return c=1.70158,l=0,A=o,e===0?n:(e/=s/2)===2?n+o:(l||(l=s*(.3*1.5)),A<Math.abs(o)?(A=o,c=l/4):c=l/(2*Math.PI)*Math.asin(o/A),e<1?-.5*(A*Math.pow(2,10*(e-=1))*Math.sin((e*s-c)*(2*Math.PI)/l))+n:A*Math.pow(2,-10*(e-=1))*Math.sin((e*s-c)*(2*Math.PI)/l)*.5+o+n)},easeInBack:function(e,n,r,s,o){var A=r-n;return o===void 0&&(o=1.70158),A*(e/=s)*e*((o+1)*e-o)+n},easeOutBack:function(e,n,r,s,o){var A=r-n;return o===void 0&&(o=1.70158),A*((e=e/s-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(e,n,r,s,o){var A=r-n;return o===void 0&&(o=1.70158),(e/=s/2)<1?A/2*(e*e*(((o*=1.525)+1)*e-o))+n:A/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+n},easeInBounce:function(e,n,r,s){var o=r-n,A;return A=t.easeOutBounce(s-e,0,o,s),o-A+n},easeOutBounce:function(e,n,r,s){var o=r-n;return(e/=s)<1/2.75?o*(7.5625*e*e)+n:e<2/2.75?o*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?o*(7.5625*(e-=2.25/2.75)*e+.9375)+n:o*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(e,n,r,s){var o=r-n,A;return e<s/2?(A=t.easeInBounce(e*2,0,o,s),A*.5+n):(A=t.easeOutBounce(e*2-s,0,o,s),A*.5+o*.5+n)}};return Jw=t,Jw}var W6=z6();function q6(t){return t*Math.PI/180}function jr(t,e){return t+Math.random()*(e-t)}function $6(t,e){return Math.floor(t+Math.random()*(e-t+1))}var th;(function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"})(th||(th={}));var pa;(function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"})(pa||(pa={}));const Y6=1e3/60;class X6{constructor(e,n,r,s){this.getOptions=n;const{colors:o,initialVelocityX:A,initialVelocityY:l}=this.getOptions();this.context=e,this.x=r,this.y=s,this.w=jr(5,20),this.h=jr(5,20),this.radius=jr(5,10),this.vx=typeof A=="number"?jr(-A,A):jr(A.min,A.max),this.vy=typeof l=="number"?jr(-l,0):jr(l.min,l.max),this.shape=$6(0,2),this.angle=q6(jr(0,360)),this.angularSpin=jr(-.2,.2),this.color=o[Math.floor(Math.random()*o.length)],this.rotateY=jr(0,1),this.rotationDirection=jr(0,1)?pa.Positive:pa.Negative}update(e){const{gravity:n,wind:r,friction:s,opacity:o,drawShape:A}=this.getOptions(),l=e/Y6;this.x+=this.vx*l,this.y+=this.vy*l,this.vy+=n*l,this.vx+=r*l,this.vx*=s**l,this.vy*=s**l,this.rotateY>=1&&this.rotationDirection===pa.Positive?this.rotationDirection=pa.Negative:this.rotateY<=-1&&this.rotationDirection===pa.Negative&&(this.rotationDirection=pa.Positive);const c=.1*this.rotationDirection*l;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,A&&typeof A=="function")A.call(this,this.context);else switch(this.shape){case th.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case th.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case th.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class J6{constructor(e,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=jr(this.x,this.w+this.x),o=jr(this.y,this.h+this.y);return new X6(this.context,this.getOptions,s,o)},this.animate=s=>{const{canvas:o,context:A,particlesGenerated:l,lastNumberOfPieces:c}=this,{run:d,recycle:f,numberOfPieces:p,debug:g,tweenFunction:b,tweenDuration:B}=this.getOptions();if(!d)return!1;const C=this.particles.length,E=f?C:l;if(E<p){c!==p&&(this.tweenProgress=0,this.tweenFrom=E,this.lastNumberOfPieces=p),this.tweenProgress=Math.min(B,Math.max(0,this.tweenProgress+s));const I=b(this.tweenProgress,this.tweenFrom,p,B),F=Math.round(I-E);for(let Q=0;Q<F;Q++)this.particles.push(this.getParticle());this.particlesGenerated+=F}g&&(A.font="12px sans-serif",A.fillStyle="#333",A.textAlign="right",A.fillText(`Particles: ${C}`,o.width-10,o.height-20));for(let I=this.particles.length-1;I>=0;I--){const F=this.particles[I];F.update(s),(F.y>o.height||F.y<-100||F.x>o.width+100||F.x<-100)&&(f&&E<=p?this.particles[I]=this.getParticle():this.removeParticleAt(I))}return C>0||E<p},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const Sx={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:W6.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class Z6{constructor(e,n){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const o={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...o,...Sx,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:o,onConfettiComplete:A,frameRate:l},canvas:c,context:d}=this,f=Math.min(s-this.lastFrameTime,50);if(l&&f<1e3/l){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(l?f%l:0),o&&(d.fillStyle="white",d.clearRect(0,0,c.width,c.height)),this.generator.animate(f)?this.rafId=requestAnimationFrame(this.update):(A&&typeof A=="function"&&this.generator.particlesGenerated>0&&A.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new J6(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(e){var s,o;const n=(s=this._options)==null?void 0:s.run,r=(o=this._options)==null?void 0:o.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&n===!1&&this.update()}}const e8=xe.createRef();class Tx extends xe.Component{constructor(e){super(e),this.canvas=xe.createRef(),this.canvas=e.canvasRef||e8}componentDidMount(){if(this.canvas.current){const e=Zw(this.props)[0];this.confetti=new Z6(this.canvas.current,e)}}componentDidUpdate(){const e=Zw(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,n]=Zw(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return m.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...n,style:r})}}Tx.defaultProps={...Sx};Tx.displayName="ReactConfetti";function Zw(t){const e={},n={},r={},s=[...Object.keys(Sx),"confettiSource","drawShape","onConfettiComplete","frameRate"],o=["canvasRef"];for(const A in t){const l=t[A];s.includes(A)?e[A]=l:o.includes(A)?o[A]=l:r[A]=l}return[e,r,n]}const oU=xe.forwardRef((t,e)=>m.jsx(Tx,{canvasRef:e,...t})),uD=_.createContext(void 0);function Ix(){const t=_.useContext(uD);if(t===void 0)throw new Error("useCelebration must be used within a CelebrationProvider");return t}function t8({children:t}){const[e,n]=_.useState(null),[r,s]=_.useState({width:window.innerWidth,height:window.innerHeight});_.useEffect(()=>{function l(){s({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const o=(l,c=3e3)=>{n(l),setTimeout(()=>{n(null)},c)},A=()=>{switch(e){case"confetti":return m.jsx(oU,{width:r.width,height:r.height,recycle:!1,numberOfPieces:200,gravity:.3});case"fireworks":return m.jsx(oU,{width:r.width,height:r.height,recycle:!1,numberOfPieces:300,gravity:.2,colors:["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#4B0082","#9400D3"],confettiSource:{x:r.width/2,y:r.height/2,w:0,h:0},initialVelocityY:20,tweenDuration:100});case"claps":return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center pointer-events-none z-50",children:m.jsx("div",{className:"animate-bounce text-6xl",children:""})});default:return null}};return m.jsxs(uD.Provider,{value:{celebrationType:e,triggerCelebration:o},children:[A(),t]})}const dD=_.createContext(void 0);function Ux(){const t=_.useContext(dD);if(t===void 0)throw new Error("useProject must be used within a ProjectProvider");return t}function n8({children:t}){const{token:e}=wn(),{messages:n}=lf(),{triggerCelebration:r}=Ix(),[s,o]=_.useState([]),[A,l]=_.useState(null),[c,d]=_.useState(null),[f,p]=_.useState([]),[g,b]=_.useState(null),[B,C]=_.useState(!1),[E,I]=_.useState(null);_.useEffect(()=>{if(!e)return;(async()=>{C(!0),console.log(" ProjectContext: Loading projects...");try{const N=await CA.getUserProjects(e);console.log(" ProjectContext: Projects loaded:",N),o(N),N.length>0&&!c?(console.log(" ProjectContext: Auto-selecting first project:",N[0].id),d(N[0].id)):N.length===0&&console.log(" ProjectContext: No projects found for user."),I(null)}catch(N){console.error(" ProjectContext: Error loading projects:",N),I(N.message||"Failed to load projects")}finally{C(!1)}})()},[e]),_.useEffect(()=>{if(!e||!c){l(null),p([]),b(null);return}(async()=>{C(!0);try{const N=await CA.getProject(e,c);l(N);const Y=await cc.getProjectTasks(e,c);p(Y);const ce=await aD.getProjectGameboard(e,c);b(ce),I(null)}catch(N){console.error("Error loading project details:",N),I(N.message||"Failed to load project details")}finally{C(!1)}})()},[e,c]),_.useEffect(()=>{if(n.length===0)return;const M=n[n.length-1];switch(M.type){case"project_created":o(N=>[...N,M.data]);break;case"project_updated":M.data.id===c&&l(N=>N?{...N,...M.data}:null),o(N=>N.map(Y=>Y.id===M.data.id?M.data:Y));break;case"member_added":case"member_removed":M.data.project_id===c&&e&&c&&CA.getProject(e,c).then(N=>l(N)).catch(N=>console.error("Error refreshing project:",N));break;case"task_created":M.data.project_id===c&&p(N=>[...N,M.data]);break;case"task_updated":case"task_status_updated":M.data.project_id===c&&p(N=>N.map(Y=>Y.id===M.data.id?M.data:Y));break;case"task_completed":M.data.task.project_id===c&&(p(N=>N.map(Y=>Y.id===M.data.task.id?M.data.task:Y)),l(M.data.project),b(M.data.gameboard));break}},[n,c,e]);const H={projects:s,currentProject:A,projectTasks:f,projectGameboard:g,loading:B,error:E,setCurrentProjectId:d,createProject:async(M,N)=>{if(!e)throw new Error("Not authenticated");C(!0);try{const Y=await CA.createProject(e,{name:M,description:N});return o(ce=>[...ce,Y]),Y}catch(Y){throw console.error("Error creating project:",Y),I("Failed to create project"),Y}finally{C(!1)}},updateProject:async(M,N)=>{if(!e)throw new Error("Not authenticated");C(!0);try{const Y=await CA.updateProject(e,M,N);return M===c&&l(ce=>ce?{...ce,...Y}:null),o(ce=>ce.map(W=>W.id===M?Y:W)),Y}catch(Y){throw console.error("Error updating project:",Y),I("Failed to update project"),Y}finally{C(!1)}},addMember:async(M,N)=>{if(!e)throw new Error("Not authenticated");C(!0);try{const Y=await CA.addMember(e,M,N);return M===c&&l(ce=>ce?{...ce,...Y}:null),o(ce=>ce.map(W=>W.id===M?Y:W)),r("claps"),Y}catch(Y){throw console.error("Error adding member:",Y),I("Failed to add member"),Y}finally{C(!1)}},removeMember:async(M,N)=>{if(!e)throw new Error("Not authenticated");C(!0);try{const Y=await CA.removeMember(e,M,N);return M===c&&l(ce=>ce?{...ce,...Y}:null),o(ce=>ce.map(W=>W.id===M?Y:W)),Y}catch(Y){throw console.error("Error removing member:",Y),I("Failed to remove member"),Y}finally{C(!1)}},createTask:async M=>{if(!e||!c)throw new Error("Project not selected");C(!0);try{const N=await cc.createTask(e,{...M,project_id:c});return p(Y=>[...Y,N]),N}catch(N){throw console.error("Error creating task:",N),I("Failed to create task"),N}finally{C(!1)}},updateTaskStatus:async(M,N)=>{if(!e)throw new Error("Not authenticated");C(!0);try{const Y=await cc.updateTaskStatus(e,M,N);return p(ce=>ce.map(W=>W.id===M?Y:W)),Y}catch(Y){throw console.error("Error updating task status:",Y),I("Failed to update task status"),Y}finally{C(!1)}},updateTaskPace:async(M,N)=>{if(!e)throw new Error("Not authenticated");C(!0);try{const Y=await cc.updateTask(e,M,{pace:N});return p(ce=>ce.map(W=>W.id===M?Y:W)),Y}catch(Y){throw console.error("Error updating task pace:",Y),I("Failed to update task pace"),Y}finally{C(!1)}},updateTask:async(M,N)=>{if(!e)throw new Error("Not authenticated");C(!0);try{const Y=await cc.updateTask(e,M,N);return p(ce=>ce.map(W=>W.id===M?Y:W)),Y}catch(Y){throw console.error("Error updating task:",Y),I("Failed to update task"),Y}finally{C(!1)}},completeTask:async M=>{if(!e)throw new Error("Not authenticated");C(!0);try{const N=await cc.completeTask(e,M);return p(Y=>Y.map(ce=>ce.id===M?N:ce)),N}catch(N){throw console.error("Error completing task:",N),I("Failed to complete task"),N}finally{C(!1)}}};return m.jsx(dD.Provider,{value:H,children:t})}const hD=_.createContext(void 0);function Fx(){const t=_.useContext(hD);if(t===void 0)throw new Error("useLocation must be used within a LocationProvider");return t}function r8({children:t}){const[e,n]=_.useState(null),[r,s]=_.useState(null),[o,A]=_.useState("unknown"),{currentUser:l}=wn();_.useEffect(()=>{if(!navigator.geolocation){s("Geolocation is not supported by your browser");return}navigator.permissions.query({name:"geolocation"}).then(p=>{A(p.state),p.onchange=()=>{A(p.state)}});const f=navigator.geolocation.watchPosition(p=>{n(p.coords),s(null),l&&l.firebase_uid&&c(l.firebase_uid,p.coords)},p=>{s(`Location error: ${p.message}`)},{enableHighAccuracy:!0,timeout:2e4,maximumAge:1e3});return()=>navigator.geolocation.clearWatch(f)},[l]);const c=async(f,p)=>{try{const g=localStorage.getItem("auth_token");g&&await AD.updateLocation(g,{lat:p.latitude,long:p.longitude})}catch(g){console.error("Error updating location in Backend:",g)}},d={location:e,error:r,permissionStatus:o};return m.jsx(hD.Provider,{value:d,children:t})}const s8=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,o]=_.useState(""),[A,l]=_.useState(!1),{signIn:c}=wn(),d=Ys(),f=async p=>{p.preventDefault(),o(""),l(!0);try{await c(t,n),d("/dashboard")}catch(g){o("Invalid credentials. Access denied."),console.error(g)}finally{l(!1)}};return m.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-[#0B0F19] font-sans relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-yellow-900/5 via-[#0B0F19] to-[#0B0F19]"}),m.jsx("button",{onClick:()=>d("/"),className:"absolute top-6 left-6 z-50 flex items-center gap-2 text-[#FBBF24] font-bold text-sm tracking-wide hover:text-yellow-400 transition-colors",children:" BACK TO COMMAND CENTER"}),m.jsxs("div",{className:"w-full max-w-md relative z-10",children:[m.jsx("div",{className:"flex justify-center mb-8",children:m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded flex items-center justify-center shadow-lg shadow-yellow-500/20",children:m.jsx("span",{className:"font-black italic text-black text-2xl",children:"WP"})})}),m.jsxs("div",{className:"bg-[#111827] border border-[#1F2937] rounded-xl shadow-[0_10px_15px_-3px_rgba(0,0,0,0.5)] p-10 backdrop-blur-sm",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-extrabold text-white tracking-tight mb-2",children:"WELCOME BACK"}),m.jsx("h2",{className:"text-[#9CA3AF] text-sm font-bold uppercase tracking-widest",children:"Access Terminal"})]}),s&&m.jsxs("div",{className:"p-4 mb-6 rounded bg-[#7F1D1D]/20 border border-[#B91C1C] flex items-start gap-3",children:[m.jsx("span",{className:"text-[#FCA5A5]",children:""}),m.jsx("p",{className:"text-[#FCA5A5] text-sm font-medium",children:s})]}),m.jsxs("form",{className:"space-y-6",onSubmit:f,children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-xs font-bold text-[#9CA3AF] uppercase tracking-wider mb-2",children:"COMM LINK (EMAIL)"}),m.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:p=>e(p.target.value),className:"block w-full px-4 py-3 bg-[#1F2937] border border-[#374151] rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#D97706] focus:border-transparent transition-all",placeholder:"EMAIL@DOMAIN.COM"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-xs font-bold text-[#9CA3AF] uppercase tracking-wider mb-2",children:"ACCESS KEY (PASSWORD)"}),m.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:p=>r(p.target.value),className:"block w-full px-4 py-3 bg-[#1F2937] border border-[#374151] rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#D97706] focus:border-transparent transition-all",placeholder:""})]}),m.jsx("button",{type:"submit",disabled:A,className:"w-full flex justify-center py-4 px-4 border border-transparent rounded bg-gradient-to-r from-[#D97706] to-[#B45309] text-black font-extrabold uppercase tracking-widest hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#D97706] transition-all shadow-lg shadow-orange-500/20 disabled:opacity-50 disabled:cursor-not-allowed",children:A?"AUTHENTICATING...":"ACCESS SYSTEM"}),m.jsx("button",{type:"button",onClick:()=>{confirm("This will purge all local credentials. Continue?")&&(localStorage.clear(),window.location.reload())},className:"w-full text-[10px] text-[#4B5563] hover:text-[#9CA3AF] uppercase tracking-widest transition-colors mt-4",children:"// DEBUG: PURGE LOCAL CREDENTIALS"})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsxs("p",{className:"text-sm text-[#9CA3AF]",children:["Need credentials?"," ",m.jsx(iu,{to:"/register",className:"font-bold text-[#D97706] hover:text-[#FBBF24] transition-colors",children:"JOIN THE PACK"})]})})]}),m.jsx("div",{className:"mt-8 text-center font-mono text-[10px] text-[#4B5563] tracking-widest",children:"PROJECT ANTIGRAVITY // SECTOR 7 // HQ: HTTPS://BUILDYOURWOLFPACK.ONRENDER.COM"})]})]})},i8=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,o]=_.useState(""),[A,l]=_.useState(""),[c,d]=_.useState(!1),{signUp:f}=wn(),p=Ys(),[g]=R6(),b=g.get("ref"),B=async C=>{C.preventDefault(),l(""),d(!0);try{await f(t,n,s,b||null),p("/select-card")}catch(E){const I=E.message||"Failed to create an account.";l(I.includes("value_error")?"Invalid data provided.":I),console.error("Registration Error:",E)}finally{d(!1)}};return m.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-[#0B0F19] font-sans relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-900/10 via-[#0B0F19] to-[#0B0F19]"}),m.jsx("button",{onClick:()=>p("/"),className:"absolute top-6 left-6 z-50 flex items-center gap-2 text-[#FBBF24] font-bold text-sm tracking-wide hover:text-yellow-400 transition-colors",children:" BACK TO COMMAND CENTER"}),m.jsxs("div",{className:"w-full max-w-md relative z-10",children:[m.jsx("div",{className:"flex justify-center mb-8",children:m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded flex items-center justify-center shadow-lg shadow-yellow-500/20",children:m.jsx("span",{className:"font-black italic text-black text-2xl",children:"WP"})})}),m.jsxs("div",{className:"bg-[#111827] border border-[#1F2937] rounded-xl shadow-[0_10px_15px_-3px_rgba(0,0,0,0.5)] p-10 backdrop-blur-sm",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-extrabold text-white tracking-tight mb-2",children:"JOIN THE PACK"}),m.jsx("h2",{className:"text-[#9CA3AF] text-sm font-bold uppercase tracking-widest",children:"Initialize Protocol"})]}),A&&m.jsxs("div",{className:"p-4 mb-6 rounded bg-[#7F1D1D]/20 border border-[#B91C1C] flex items-start gap-3",children:[m.jsx("span",{className:"text-[#FCA5A5]",children:""}),m.jsx("p",{className:"text-[#FCA5A5] text-sm font-medium",children:A})]}),m.jsxs("form",{className:"space-y-6",onSubmit:B,children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-xs font-bold text-[#9CA3AF] uppercase tracking-wider mb-2",children:"FULL ID / NAME"}),m.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:s,onChange:C=>o(C.target.value),className:"block w-full px-4 py-3 bg-[#1F2937] border border-[#374151] rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#D97706] focus:border-transparent transition-all",placeholder:"OPERATIVE NAME"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-xs font-bold text-[#9CA3AF] uppercase tracking-wider mb-2",children:"COMM LINK (EMAIL)"}),m.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:C=>e(C.target.value),className:"block w-full px-4 py-3 bg-[#1F2937] border border-[#374151] rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#D97706] focus:border-transparent transition-all",placeholder:"EMAIL@DOMAIN.COM"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-xs font-bold text-[#9CA3AF] uppercase tracking-wider mb-2",children:"ACCESS KEY (PASSWORD)"}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:C=>r(C.target.value),className:"block w-full px-4 py-3 bg-[#1F2937] border border-[#374151] rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#D97706] focus:border-transparent transition-all",placeholder:""})]}),m.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-4 px-4 border border-transparent rounded bg-gradient-to-r from-[#D97706] to-[#B45309] text-black font-extrabold uppercase tracking-widest hover:brightness-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#D97706] transition-all shadow-lg shadow-orange-500/20 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"INITIALIZING...":"REGISTER"})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsxs("p",{className:"text-sm text-[#9CA3AF]",children:["Already initialized?"," ",m.jsx(iu,{to:"/login",className:"font-bold text-[#D97706] hover:text-[#FBBF24] transition-colors",children:"ACCESS TERMINAL"})]})})]}),m.jsx("div",{className:"mt-8 text-center font-mono text-[10px] text-[#4B5563] tracking-widest",children:"PROJECT ANTIGRAVITY // SECTOR 7 // HQ: HTTPS://BUILDYOURWOLFPACK.ONRENDER.COM"})]})]})},Nx=_.createContext({});function cf(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rx=typeof window<"u",Qx=Rx?_.useLayoutEffect:_.useEffect,G0=_.createContext(null);function Dx(t,e){t.indexOf(e)===-1&&t.push(e)}function Ox(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const yo=(t,e,n)=>n>e?e:n<t?t:n;let Mx=()=>{};const vo={},fD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function pD(t){return typeof t=="object"&&t!==null}const gD=t=>/^0[^.\s]+$/u.test(t);function Lx(t){let e;return()=>(e===void 0&&(e=t()),e)}const ms=t=>t,o8=(t,e)=>n=>e(t(n)),uf=(...t)=>t.reduce(o8),Sh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class kx{constructor(){this.subscriptions=[]}add(e){return Dx(this.subscriptions,e),()=>Ox(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const A=this.subscriptions[o];A&&A(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xi=t=>t*1e3,ds=t=>t/1e3;function mD(t,e){return e?t*(1e3/e):0}const yD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,a8=1e-7,A8=12;function l8(t,e,n,r,s){let o,A,l=0;do A=e+(n-e)/2,o=yD(A,r,s)-t,o>0?n=A:e=A;while(Math.abs(o)>a8&&++l<A8);return A}function df(t,e,n,r){if(t===e&&n===r)return ms;const s=o=>l8(o,0,1,t,n);return o=>o===0||o===1?o:yD(s(o),e,r)}const vD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wD=t=>e=>1-t(1-e),bD=df(.33,1.53,.69,.99),Px=wD(bD),BD=vD(Px),CD=t=>(t*=2)<1?.5*Px(t):.5*(2-Math.pow(2,-10*(t-1))),Hx=t=>1-Math.sin(Math.acos(t)),xD=wD(Hx),ED=vD(Hx),c8=df(.42,0,1,1),u8=df(0,0,.58,1),_D=df(.42,0,.58,1),d8=t=>Array.isArray(t)&&typeof t[0]!="number",SD=t=>Array.isArray(t)&&typeof t[0]=="number",h8={linear:ms,easeIn:c8,easeInOut:_D,easeOut:u8,circIn:Hx,circInOut:ED,circOut:xD,backIn:Px,backInOut:BD,backOut:bD,anticipate:CD},f8=t=>typeof t=="string",aU=t=>{if(SD(t)){Mx(t.length===4);const[e,n,r,s]=t;return df(e,n,r,s)}else if(f8(t))return h8[t];return t},fg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function p8(t,e){let n=new Set,r=new Set,s=!1,o=!1;const A=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){A.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,p=!1,g=!1)=>{const B=g&&s?n:r;return p&&A.add(f),B.has(f)||B.add(f),f},cancel:f=>{r.delete(f),A.delete(f)},process:f=>{if(l=f,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,o&&(o=!1,d.process(f))}};return d}const g8=40;function TD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,A=fg.reduce((Q,j)=>(Q[j]=p8(o),Q),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:p,preRender:g,render:b,postRender:B}=A,C=()=>{const Q=vo.useManualTiming?s.timestamp:performance.now();n=!1,vo.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(Q-s.timestamp,g8),1)),s.timestamp=Q,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),f.process(s),p.process(s),g.process(s),b.process(s),B.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(C))},E=()=>{n=!0,r=!0,s.isProcessing||t(C)};return{schedule:fg.reduce((Q,j)=>{const P=A[j];return Q[j]=(V,R=!1,U=!1)=>(n||E(),P.schedule(V,R,U)),Q},{}),cancel:Q=>{for(let j=0;j<fg.length;j++)A[fg[j]].cancel(Q)},state:s,steps:A}}const{schedule:Ut,cancel:wo,state:Ln,steps:eb}=TD(typeof requestAnimationFrame<"u"?requestAnimationFrame:ms,!0);let am;function m8(){am=void 0}const Er={now:()=>(am===void 0&&Er.set(Ln.isProcessing||vo.useManualTiming?Ln.timestamp:performance.now()),am),set:t=>{am=t,queueMicrotask(m8)}},ID=t=>e=>typeof e=="string"&&e.startsWith(t),UD=ID("--"),y8=ID("var(--"),jx=t=>y8(t)?v8.test(t.split("/*")[0].trim()):!1,v8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ou={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Th={...ou,transform:t=>yo(0,1,t)},pg={...ou,default:1},nh=t=>Math.round(t*1e5)/1e5,Vx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function w8(t){return t==null}const b8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kx=(t,e)=>n=>!!(typeof n=="string"&&b8.test(n)&&n.startsWith(t)||e&&!w8(n)&&Object.prototype.hasOwnProperty.call(n,e)),FD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,A,l]=r.match(Vx);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(A),alpha:l!==void 0?parseFloat(l):1}},B8=t=>yo(0,255,t),tb={...ou,transform:t=>Math.round(B8(t))},LA={test:Kx("rgb","red"),parse:FD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tb.transform(t)+", "+tb.transform(e)+", "+tb.transform(n)+", "+nh(Th.transform(r))+")"};function C8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const IB={test:Kx("#"),parse:C8,transform:LA.transform},hf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),da=hf("deg"),Ei=hf("%"),Re=hf("px"),x8=hf("vh"),E8=hf("vw"),AU={...Ei,parse:t=>Ei.parse(t)/100,transform:t=>Ei.transform(t*100)},Cc={test:Kx("hsl","hue"),parse:FD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ei.transform(nh(e))+", "+Ei.transform(nh(n))+", "+nh(Th.transform(r))+")"},ln={test:t=>LA.test(t)||IB.test(t)||Cc.test(t),parse:t=>LA.test(t)?LA.parse(t):Cc.test(t)?Cc.parse(t):IB.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?LA.transform(t):Cc.transform(t),getAnimatableNone:t=>{const e=ln.parse(t);return e.alpha=0,ln.transform(e)}},_8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function S8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Vx))==null?void 0:e.length)||0)+(((n=t.match(_8))==null?void 0:n.length)||0)>0}const ND="number",RD="color",T8="var",I8="var(",lU="${}",U8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ih(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const l=e.replace(U8,c=>(ln.test(c)?(r.color.push(o),s.push(RD),n.push(ln.parse(c))):c.startsWith(I8)?(r.var.push(o),s.push(T8),n.push(c)):(r.number.push(o),s.push(ND),n.push(parseFloat(c))),++o,lU)).split(lU);return{values:n,split:l,indexes:r,types:s}}function QD(t){return Ih(t).values}function DD(t){const{split:e,types:n}=Ih(t),r=e.length;return s=>{let o="";for(let A=0;A<r;A++)if(o+=e[A],s[A]!==void 0){const l=n[A];l===ND?o+=nh(s[A]):l===RD?o+=ln.transform(s[A]):o+=s[A]}return o}}const F8=t=>typeof t=="number"?0:ln.test(t)?ln.getAnimatableNone(t):t;function N8(t){const e=QD(t);return DD(t)(e.map(F8))}const Ra={test:S8,parse:QD,createTransformer:DD,getAnimatableNone:N8};function nb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function R8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,A=0;if(!e)s=o=A=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=nb(c,l,t+1/3),o=nb(c,l,t),A=nb(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(A*255),alpha:r}}function Im(t,e){return n=>n>0?e:t}const Lt=(t,e,n)=>t+(e-t)*n,rb=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Q8=[IB,LA,Cc],D8=t=>Q8.find(e=>e.test(t));function cU(t){const e=D8(t);if(!e)return!1;let n=e.parse(t);return e===Cc&&(n=R8(n)),n}const uU=(t,e)=>{const n=cU(t),r=cU(e);if(!n||!r)return Im(t,e);const s={...n};return o=>(s.red=rb(n.red,r.red,o),s.green=rb(n.green,r.green,o),s.blue=rb(n.blue,r.blue,o),s.alpha=Lt(n.alpha,r.alpha,o),LA.transform(s))},UB=new Set(["none","hidden"]);function O8(t,e){return UB.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function M8(t,e){return n=>Lt(t,e,n)}function Gx(t){return typeof t=="number"?M8:typeof t=="string"?jx(t)?Im:ln.test(t)?uU:P8:Array.isArray(t)?OD:typeof t=="object"?ln.test(t)?uU:L8:Im}function OD(t,e){const n=[...t],r=n.length,s=t.map((o,A)=>Gx(o)(o,e[A]));return o=>{for(let A=0;A<r;A++)n[A]=s[A](o);return n}}function L8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Gx(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function k8(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],A=t.indexes[o][r[o]],l=t.values[A]??0;n[s]=l,r[o]++}return n}const P8=(t,e)=>{const n=Ra.createTransformer(e),r=Ih(t),s=Ih(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?UB.has(t)&&!s.values.length||UB.has(e)&&!r.values.length?O8(t,e):uf(OD(k8(r,s),s.values),n):Im(t,e)};function MD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Lt(t,e,n):Gx(t)(t,e)}const H8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ut.update(e,n),stop:()=>wo(e),now:()=>Ln.isProcessing?Ln.timestamp:Er.now()}},LD=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Um=2e4;function zx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Um;)e+=n,r=t.next(e);return e>=Um?1/0:e}function j8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(zx(r),Um);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:ds(s)}}const V8=5;function kD(t,e,n){const r=Math.max(e-V8,0);return mD(n-t(r),e-r)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sb=.001;function K8({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:r=Vt.mass}){let s,o,A=1-e;A=yo(Vt.minDamping,Vt.maxDamping,A),t=yo(Vt.minDuration,Vt.maxDuration,ds(t)),A<1?(s=d=>{const f=d*A,p=f*t,g=f-n,b=FB(d,A),B=Math.exp(-p);return sb-g/b*B},o=d=>{const p=d*A*t,g=p*n+n,b=Math.pow(A,2)*Math.pow(d,2)*t,B=Math.exp(-p),C=FB(Math.pow(d,2),A);return(-s(d)+sb>0?-1:1)*((g-b)*B)/C}):(s=d=>{const f=Math.exp(-d*t),p=(d-n)*t+1;return-sb+f*p},o=d=>{const f=Math.exp(-d*t),p=(n-d)*(t*t);return f*p});const l=5/t,c=z8(s,o,l);if(t=xi(t),isNaN(c))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:A*2*Math.sqrt(r*d),duration:t}}}const G8=12;function z8(t,e,n){let r=n;for(let s=1;s<G8;s++)r=r-t(r)/e(r);return r}function FB(t,e){return t*Math.sqrt(1-e*e)}const W8=["duration","bounce"],q8=["stiffness","damping","mass"];function dU(t,e){return e.some(n=>t[n]!==void 0)}function $8(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!dU(t,q8)&&dU(t,W8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*yo(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Vt.mass,stiffness:s,damping:o}}else{const n=K8(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function Fm(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],A=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:b}=$8({...n,velocity:-ds(n.velocity||0)}),B=g||0,C=d/(2*Math.sqrt(c*f)),E=A-o,I=ds(Math.sqrt(c/f)),F=Math.abs(E)<5;r||(r=F?Vt.restSpeed.granular:Vt.restSpeed.default),s||(s=F?Vt.restDelta.granular:Vt.restDelta.default);let Q;if(C<1){const P=FB(I,C);Q=V=>{const R=Math.exp(-C*I*V);return A-R*((B+C*I*E)/P*Math.sin(P*V)+E*Math.cos(P*V))}}else if(C===1)Q=P=>A-Math.exp(-I*P)*(E+(B+I*E)*P);else{const P=I*Math.sqrt(C*C-1);Q=V=>{const R=Math.exp(-C*I*V),U=Math.min(P*V,300);return A-R*((B+C*I*E)*Math.sinh(U)+P*E*Math.cosh(U))/P}}const j={calculatedDuration:b&&p||null,next:P=>{const V=Q(P);if(b)l.done=P>=p;else{let R=P===0?B:0;C<1&&(R=P===0?xi(B):kD(Q,P,V));const U=Math.abs(R)<=r,D=Math.abs(A-V)<=s;l.done=U&&D}return l.value=l.done?A:V,l},toString:()=>{const P=Math.min(zx(j),Um),V=LD(R=>j.next(P*R).value,P,30);return P+"ms "+V},toTransition:()=>{}};return j}Fm.applyToOptions=t=>{const e=j8(t,100,Fm);return t.ease=e.ease,t.duration=xi(e.duration),t.type="keyframes",t};function NB({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:A,min:l,max:c,restDelta:d=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},b=U=>l!==void 0&&U<l||c!==void 0&&U>c,B=U=>l===void 0?c:c===void 0||Math.abs(l-U)<Math.abs(c-U)?l:c;let C=n*e;const E=p+C,I=A===void 0?E:A(E);I!==E&&(C=I-p);const F=U=>-C*Math.exp(-U/r),Q=U=>I+F(U),j=U=>{const D=F(U),L=Q(U);g.done=Math.abs(D)<=d,g.value=g.done?I:L};let P,V;const R=U=>{b(g.value)&&(P=U,V=Fm({keyframes:[g.value,B(g.value)],velocity:kD(Q,U,g.value),damping:s,stiffness:o,restDelta:d,restSpeed:f}))};return R(0),{calculatedDuration:null,next:U=>{let D=!1;return!V&&P===void 0&&(D=!0,j(U),R(U)),P!==void 0&&U>=P?V.next(U-P):(!D&&j(U),g)}}}function Y8(t,e,n){const r=[],s=n||vo.mix||MD,o=t.length-1;for(let A=0;A<o;A++){let l=s(t[A],t[A+1]);if(e){const c=Array.isArray(e)?e[A]||ms:e;l=uf(c,l)}r.push(l)}return r}function PD(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Mx(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const A=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Y8(e,r,s),c=l.length,d=f=>{if(A&&f<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=Sh(t[p],t[p+1],f);return l[p](g)};return n?f=>d(yo(t[0],t[o-1],f)):d}function X8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sh(0,e,r);t.push(Lt(n,1,s))}}function J8(t){const e=[0];return X8(e,t.length-1),e}function Z8(t,e){return t.map(n=>n*e)}function e9(t,e){return t.map(()=>e||_D).splice(0,t.length-1)}function rh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=d8(r)?r.map(aU):aU(r),o={done:!1,value:e[0]},A=Z8(n&&n.length===e.length?n:J8(e),t),l=PD(A,e,{ease:Array.isArray(s)?s:e9(e,s)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}const t9=t=>t!==null;function Wx(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(t9),l=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const n9={decay:NB,inertia:NB,tween:rh,keyframes:rh,spring:Fm};function HD(t){typeof t.type=="string"&&(t.type=n9[t.type])}class qx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const r9=t=>t/100;class $x extends qx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Er.now()&&this.tick(Er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;HD(e);const{type:n=rh,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:A=0}=e;let{keyframes:l}=e;const c=n||rh;c!==rh&&typeof l[0]!="number"&&(this.mixKeyframes=uf(r9,MD(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-A})),d.calculatedDuration===null&&(d.calculatedDuration=zx(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:A,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:b,type:B,onUpdate:C,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const I=this.currentTime-d*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?I<0:I>s;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let Q=this.currentTime,j=r;if(p){const U=Math.min(this.currentTime,s)/l;let D=Math.floor(U),L=U%1;!L&&U>=1&&(L=1),L===1&&D--,D=Math.min(D,p+1),!!(D%2)&&(g==="reverse"?(L=1-L,b&&(L-=b/l)):g==="mirror"&&(j=A)),Q=yo(0,1,L)*l}const P=F?{done:!1,value:f[0]}:j.next(Q);o&&(P.value=o(P.value));let{done:V}=P;!F&&c!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return R&&B!==NB&&(P.value=Wx(f,this.options,E,this.speed)),C&&C(P.value),R&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return ds(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ds(e)}get time(){return ds(this.currentTime)}set time(e){var n;e=xi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ds(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=H8,startTime:n}=this.options;this.driver||(this.driver=e(A=>this.tick(A))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function s9(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const kA=t=>t*180/Math.PI,RB=t=>{const e=kA(Math.atan2(t[1],t[0]));return QB(e)},i9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:RB,rotateZ:RB,skewX:t=>kA(Math.atan(t[1])),skewY:t=>kA(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},QB=t=>(t=t%360,t<0&&(t+=360),t),hU=RB,fU=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pU=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),o9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fU,scaleY:pU,scale:t=>(fU(t)+pU(t))/2,rotateX:t=>QB(kA(Math.atan2(t[6],t[5]))),rotateY:t=>QB(kA(Math.atan2(-t[2],t[0]))),rotateZ:hU,rotate:hU,skewX:t=>kA(Math.atan(t[4])),skewY:t=>kA(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function DB(t){return t.includes("scale")?1:0}function OB(t,e){if(!t||t==="none")return DB(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=o9,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=i9,s=l}if(!s)return DB(e);const o=r[e],A=s[1].split(",").map(A9);return typeof o=="function"?o(A):A[o]}const a9=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return OB(n,e)};function A9(t){return parseFloat(t.trim())}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Au=new Set(au),gU=t=>t===ou||t===Re,l9=new Set(["x","y","z"]),c9=au.filter(t=>!l9.has(t));function u9(t){const e=[];return c9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const GA={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>OB(e,"x"),y:(t,{transform:e})=>OB(e,"y")};GA.translateX=GA.x;GA.translateY=GA.y;const zA=new Set;let MB=!1,LB=!1,kB=!1;function jD(){if(LB){const t=Array.from(zA).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=u9(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,A])=>{var l;(l=r.getValue(o))==null||l.set(A)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}LB=!1,MB=!1,zA.forEach(t=>t.complete(kB)),zA.clear()}function VD(){zA.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(LB=!0)})}function d9(){kB=!0,VD(),jD(),kB=!1}class Yx{constructor(e,n,r,s,o,A=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=A}scheduleResolve(){this.state="scheduled",this.isAsync?(zA.add(this),MB||(MB=!0,Ut.read(VD),Ut.resolveKeyframes(jD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),A=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,A);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=A),s&&o===void 0&&s.set(e[0])}s9(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zA.delete(this)}cancel(){this.state==="scheduled"&&(zA.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const h9=t=>t.startsWith("--");function f9(t,e,n){h9(e)?t.style.setProperty(e,n):t.style[e]=n}const p9=Lx(()=>window.ScrollTimeline!==void 0),g9={};function m9(t,e){const n=Lx(t);return()=>g9[e]??n()}const KD=m9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mU={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gd([0,.65,.55,1]),circOut:Gd([.55,0,1,.45]),backIn:Gd([.31,.01,.66,-.59]),backOut:Gd([.33,1.53,.69,.99])};function GD(t,e){if(t)return typeof t=="function"?KD()?LD(t,e):"ease-out":SD(t)?Gd(t):Array.isArray(t)?t.map(n=>GD(n,e)||mU.easeOut):mU[t]}function y9(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:A="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:n};c&&(f.offset=c);const p=GD(l,s);Array.isArray(p)&&(f.easing=p);const g={delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:A==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(f,g)}function zD(t){return typeof t=="function"&&"applyToOptions"in t}function v9({type:t,...e}){return zD(t)&&KD()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class w9 extends qx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:A=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=A,this.options=e,Mx(typeof e.type!="string");const d=v9(e);this.animation=y9(n,r,s,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=Wx(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):f9(n,r,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ds(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ds(e)}get time(){return ds(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&p9()?(this.animation.timeline=e,ms):n(this)}}const WD={anticipate:CD,backInOut:BD,circInOut:ED};function b9(t){return t in WD}function B9(t){typeof t.ease=="string"&&b9(t.ease)&&(t.ease=WD[t.ease])}const yU=10;class C9 extends w9{constructor(e){B9(e),HD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...A}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new $x({...A,autoplay:!1}),c=xi(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-yU).value,l.sample(c).value,yU),l.stop()}}const vU=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ra.test(t)||t==="0")&&!t.startsWith("url("));function x9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function E9(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],A=vU(s,e),l=vU(o,e);return!A||!l?!1:x9(t)||(n==="spring"||zD(n))&&r}function PB(t){t.duration=0,t.type="keyframes"}const _9=new Set(["opacity","clipPath","filter","transform"]),S9=Lx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function T9(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:A}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return S9()&&n&&_9.has(n)&&(n!=="transform"||!d)&&!c&&!r&&s!=="mirror"&&o!==0&&A!=="inertia"}const I9=40;class U9 extends qx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:A="loop",keyframes:l,name:c,motionValue:d,element:f,...p}){var B;super(),this.stop=()=>{var C,E;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Er.now();const g={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:A,name:c,motionValue:d,element:f,...p},b=(f==null?void 0:f.KeyframeResolver)||Yx;this.keyframeResolver=new b(l,(C,E,I)=>this.onKeyframesResolved(C,E,g,!I),c,d,f),(B=this.keyframeResolver)==null||B.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:A,velocity:l,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Er.now(),E9(e,o,A,l)||((vo.instantAnimations||!c)&&(f==null||f(Wx(e,r,n))),e[0]=e[e.length-1],PB(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>I9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!d&&T9(g)?new C9({...g,element:g.motionValue.owner.current}):new $x(g);b.finished.then(()=>this.notifyFinished()).catch(ms),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),d9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const F9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N9(t){const e=F9.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function qD(t,e,n=1){const[r,s]=N9(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const A=o.trim();return fD(A)?parseFloat(A):A}return jx(s)?qD(s,e,n+1):s}function Xx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const $D=new Set(["width","height","top","left","right","bottom",...au]),R9={test:t=>t==="auto",parse:t=>t},YD=t=>e=>e.test(t),XD=[ou,Re,Ei,da,E8,x8,R9],wU=t=>XD.find(YD(t));function Q9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gD(t):!0}const D9=new Set(["brightness","contrast","saturate","opacity"]);function O9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Vx)||[];if(!r)return t;const s=n.replace(r,"");let o=D9.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const M9=/\b([a-z-]*)\(.*?\)/gu,HB={...Ra,getAnimatableNone:t=>{const e=t.match(M9);return e?e.map(O9).join(" "):t}},bU={...ou,transform:Math.round},L9={rotate:da,rotateX:da,rotateY:da,rotateZ:da,scale:pg,scaleX:pg,scaleY:pg,scaleZ:pg,skew:da,skewX:da,skewY:da,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Th,originX:AU,originY:AU,originZ:Re},Jx={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...L9,zIndex:bU,fillOpacity:Th,strokeOpacity:Th,numOctaves:bU},k9={...Jx,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:HB,WebkitFilter:HB},JD=t=>k9[t];function ZD(t,e){let n=JD(t);return n!==HB&&(n=Ra),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const P9=new Set(["auto","none","0"]);function H9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!P9.has(o)&&Ih(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=ZD(n,s)}class j9 extends Yx{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),jx(d))){const f=qD(d,n.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!$D.has(r)||e.length!==2)return;const[s,o]=e,A=wU(s),l=wU(o);if(A!==l)if(gU(A)&&gU(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else GA[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Q9(e[s]))&&r.push(s);r.length&&H9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=GA[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,A=r[o];r[o]=GA[n](e.measureViewportBox(),window.getComputedStyle(e.current)),A!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=A),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function V9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const e4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function t4(t){return pD(t)&&"offsetHeight"in t}const BU=30,K9=t=>!isNaN(parseFloat(t)),sh={current:void 0};class G9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const s=Er.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const A of this.dependents)A.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=K9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new kx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return sh.current&&sh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BU)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,BU);return mD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ZA(t,e){return new G9(t,e)}const{schedule:Zx}=TD(queueMicrotask,!1),Ds={x:!1,y:!1};function n4(){return Ds.x||Ds.y}function z9(t){return t==="x"||t==="y"?Ds[t]?null:(Ds[t]=!0,()=>{Ds[t]=!1}):Ds.x||Ds.y?null:(Ds.x=Ds.y=!0,()=>{Ds.x=Ds.y=!1})}function r4(t,e){const n=V9(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function CU(t){return!(t.pointerType==="touch"||n4())}function W9(t,e,n={}){const[r,s,o]=r4(t,n),A=l=>{if(!CU(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const f=p=>{CU(p)&&(d(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,s)};return r.forEach(l=>{l.addEventListener("pointerenter",A,s)}),o}const s4=(t,e)=>e?t===e?!0:s4(t,e.parentElement):!1,eE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,q9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $9(t){return q9.has(t.tagName)||t.tabIndex!==-1}const Am=new WeakSet;function xU(t){return e=>{e.key==="Enter"&&t(e)}}function ib(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Y9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=xU(()=>{if(Am.has(n))return;ib(n,"down");const s=xU(()=>{ib(n,"up")}),o=()=>ib(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function EU(t){return eE(t)&&!n4()}function X9(t,e,n={}){const[r,s,o]=r4(t,n),A=l=>{const c=l.currentTarget;if(!EU(l))return;Am.add(c);const d=e(c,l),f=(b,B)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),Am.has(c)&&Am.delete(c),EU(b)&&typeof d=="function"&&d(b,{success:B})},p=b=>{f(b,c===window||c===document||n.useGlobalTarget||s4(c,b.target))},g=b=>{f(b,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",g,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",A,s),t4(l)&&(l.addEventListener("focus",d=>Y9(d,s)),!$9(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function i4(t){return pD(t)&&"ownerSVGElement"in t}function J9(t){return i4(t)&&t.tagName==="svg"}function Z9(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],o=t[2+n],A=t[3+n],l=PD(s,o,A);return e?l(r):l}const rr=t=>!!(t&&t.getVelocity),eK=[...XD,ln,Ra],tK=t=>eK.find(YD(t)),z0=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _U(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nK(...t){return e=>{let n=!1;const r=t.map(s=>{const o=_U(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():_U(t[s],null)}}}}function rK(...t){return _.useCallback(nK(...t),t)}class sK extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=t4(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iK({children:t,isPresent:e,anchorX:n,root:r}){const s=_.useId(),o=_.useRef(null),A=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(z0),c=rK(o,t==null?void 0:t.ref);return _.useInsertionEffect(()=>{const{width:d,height:f,top:p,left:g,right:b}=A.current;if(e||!o.current||!d||!f)return;const B=n==="left"?`left: ${g}`:`right: ${b}`;o.current.dataset.motionPopId=s;const C=document.createElement("style");l&&(C.nonce=l);const E=r??document.head;return E.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${B}px !important;
            top: ${p}px !important;
          }
        `),()=>{E.contains(C)&&E.removeChild(C)}},[e]),m.jsx(sK,{isPresent:e,childRef:o,sizeRef:A,children:_.cloneElement(t,{ref:c})})}const oK=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:A,anchorX:l,root:c})=>{const d=cf(aK),f=_.useId();let p=!0,g=_.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:n,custom:s,onExitComplete:b=>{d.set(b,!0);for(const B of d.values())if(!B)return;r&&r()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[n,d,r]);return o&&p&&(g={...g}),_.useMemo(()=>{d.forEach((b,B)=>d.set(B,!1))},[n]),_.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),A==="popLayout"&&(t=m.jsx(iK,{isPresent:n,anchorX:l,root:c,children:t})),m.jsx(G0.Provider,{value:g,children:t})};function aK(){return new Map}function o4(t=!0){const e=_.useContext(G0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=_.useId();_.useEffect(()=>{if(t)return s(o)},[t]);const A=_.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,A]:[!0]}const gg=t=>t.key||"";function SU(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const AK=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:A=!1,anchorX:l="left",root:c})=>{const[d,f]=o4(A),p=_.useMemo(()=>SU(t),[t]),g=A&&!d?[]:p.map(gg),b=_.useRef(!0),B=_.useRef(p),C=cf(()=>new Map),[E,I]=_.useState(p),[F,Q]=_.useState(p);Qx(()=>{b.current=!1,B.current=p;for(let V=0;V<F.length;V++){const R=gg(F[V]);g.includes(R)?C.delete(R):C.get(R)!==!0&&C.set(R,!1)}},[F,g.length,g.join("-")]);const j=[];if(p!==E){let V=[...p];for(let R=0;R<F.length;R++){const U=F[R],D=gg(U);g.includes(D)||(V.splice(R,0,U),j.push(U))}return o==="wait"&&j.length&&(V=j),Q(SU(V)),I(p),null}const{forceRender:P}=_.useContext(Nx);return m.jsx(m.Fragment,{children:F.map(V=>{const R=gg(V),U=A&&!d?!1:p===F||g.includes(R),D=()=>{if(C.has(R))C.set(R,!0);else return;let L=!0;C.forEach(H=>{H||(L=!1)}),L&&(P==null||P(),Q(B.current),A&&(f==null||f()),r&&r())};return m.jsx(oK,{isPresent:U,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:c,onExitComplete:U?void 0:D,anchorX:l,children:V},R)})})},a4=_.createContext({strict:!1}),TU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vc={};for(const t in TU)Vc[t]={isEnabled:e=>TU[t].some(n=>!!e[n])};function lK(t){for(const e in t)Vc[e]={...Vc[e],...t[e]}}const cK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cK.has(t)}let A4=t=>!Nm(t);function uK(t){typeof t=="function"&&(A4=e=>e.startsWith("on")?!Nm(e):t(e))}try{uK(require("@emotion/is-prop-valid").default)}catch{}function dK(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(A4(s)||n===!0&&Nm(s)||!e&&!Nm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const W0=_.createContext({});function q0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Uh(t){return typeof t=="string"||Array.isArray(t)}const tE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nE=["initial",...tE];function $0(t){return q0(t.animate)||nE.some(e=>Uh(t[e]))}function l4(t){return!!($0(t)||t.variants)}function hK(t,e){if($0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Uh(n)?n:void 0,animate:Uh(r)?r:void 0}}return t.inherit!==!1?e:{}}function fK(t){const{initial:e,animate:n}=hK(t,_.useContext(W0));return _.useMemo(()=>({initial:e,animate:n}),[IU(e),IU(n)])}function IU(t){return Array.isArray(t)?t.join(" "):t}function UU(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=UU(t,e.target.x),r=UU(t,e.target.y);return`${n}% ${r}%`}},pK={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ra.parse(t);if(s.length>5)return r;const o=Ra.createTransformer(t),A=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+A]/=l,s[1+A]/=c;const d=Lt(l,c,.5);return typeof s[2+A]=="number"&&(s[2+A]/=d),typeof s[3+A]=="number"&&(s[3+A]/=d),o(s)}},jB={borderRadius:{...Fd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fd,borderTopRightRadius:Fd,borderBottomLeftRadius:Fd,borderBottomRightRadius:Fd,boxShadow:pK};function c4(t,{layout:e,layoutId:n}){return Au.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!jB[t]||t==="opacity")}const gK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mK=au.length;function yK(t,e,n){let r="",s=!0;for(let o=0;o<mK;o++){const A=au[o],l=t[A];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(A.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=e4(l,Jx[A]);if(!c){s=!1;const f=gK[A]||A;r+=`${f}(${d}) `}n&&(e[A]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function rE(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let A=!1,l=!1;for(const c in e){const d=e[c];if(Au.has(c)){A=!0;continue}else if(UD(c)){s[c]=d;continue}else{const f=e4(d,Jx[c]);c.startsWith("origin")?(l=!0,o[c]=f):r[c]=f}}if(e.transform||(A||n?r.transform=yK(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=o;r.transformOrigin=`${c} ${d} ${f}`}}const sE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function u4(t,e,n){for(const r in e)!rr(e[r])&&!c4(r,n)&&(t[r]=e[r])}function vK({transformTemplate:t},e){return _.useMemo(()=>{const n=sE();return rE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wK(t,e){const n=t.style||{},r={};return u4(r,n,t),Object.assign(r,vK(t,e)),r}function bK(t,e){const n={},r=wK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const BK={offset:"stroke-dashoffset",array:"stroke-dasharray"},CK={offset:"strokeDashoffset",array:"strokeDasharray"};function xK(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?BK:CK;t[o.offset]=Re.transform(-r);const A=Re.transform(e),l=Re.transform(n);t[o.array]=`${A} ${l}`}function d4(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:A=0,...l},c,d,f){if(rE(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&xK(p,s,o,A,!1)}const h4=()=>({...sE(),attrs:{}}),f4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EK(t,e,n,r){const s=_.useMemo(()=>{const o=h4();return d4(o,e,f4(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};u4(o,t.style,t),s.style={...o,...s.style}}return s}const _K=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iE(t){return typeof t!="string"||t.includes("-")?!1:!!(_K.indexOf(t)>-1||/[A-Z]/u.test(t))}function SK(t,e,n,{latestValues:r},s,o=!1){const l=(iE(t)?EK:bK)(e,r,s,t),c=dK(e,typeof t=="string",o),d=t!==_.Fragment?{...c,...l,ref:n}:{},{children:f}=e,p=_.useMemo(()=>rr(f)?f.get():f,[f]);return _.createElement(t,{...d,children:p})}function FU(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function oE(t,e,n,r){if(typeof e=="function"){const[s,o]=FU(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=FU(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function lm(t){return rr(t)?t.get():t}function TK({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:IK(n,r,s,t),renderState:e()}}function IK(t,e,n,r){const s={},o=r(t,{});for(const g in o)s[g]=lm(o[g]);let{initial:A,animate:l}=t;const c=$0(t),d=l4(t);e&&d&&!c&&t.inherit!==!1&&(A===void 0&&(A=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||A===!1;const p=f?l:A;if(p&&typeof p!="boolean"&&!q0(p)){const g=Array.isArray(p)?p:[p];for(let b=0;b<g.length;b++){const B=oE(t,g[b]);if(B){const{transitionEnd:C,transition:E,...I}=B;for(const F in I){let Q=I[F];if(Array.isArray(Q)){const j=f?Q.length-1:0;Q=Q[j]}Q!==null&&(s[F]=Q)}for(const F in C)s[F]=C[F]}}}return s}const p4=t=>(e,n)=>{const r=_.useContext(W0),s=_.useContext(G0),o=()=>TK(t,e,r,s);return n?o():cf(o)};function aE(t,e,n){var o;const{style:r}=t,s={};for(const A in r)(rr(r[A])||e.style&&rr(e.style[A])||c4(A,t)||((o=n==null?void 0:n.getValue(A))==null?void 0:o.liveStyle)!==void 0)&&(s[A]=r[A]);return s}const UK=p4({scrapeMotionValuesFromProps:aE,createRenderState:sE});function g4(t,e,n){const r=aE(t,e,n);for(const s in t)if(rr(t[s])||rr(e[s])){const o=au.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const FK=p4({scrapeMotionValuesFromProps:g4,createRenderState:h4}),NK=Symbol.for("motionComponentSymbol");function xc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RK(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):xc(n)&&(n.current=r))},[e])}const AE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QK="framerAppearId",m4="data-"+AE(QK),y4=_.createContext({});function DK(t,e,n,r,s){var C,E;const{visualElement:o}=_.useContext(W0),A=_.useContext(a4),l=_.useContext(G0),c=_.useContext(z0).reducedMotion,d=_.useRef(null);r=r||A.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=_.useContext(y4);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&OK(d.current,n,s,p);const g=_.useRef(!1);_.useInsertionEffect(()=>{f&&g.current&&f.update(n,l)});const b=n[m4],B=_.useRef(!!b&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,b))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,b)));return Qx(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),B.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!B.current&&f.animationState&&f.animationState.animateChanges(),B.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,b)}),B.current=!1),f.enteringChildren=void 0)}),f}function OK(t,e,n,r){const{layoutId:s,layout:o,drag:A,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:v4(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!A||l&&xc(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function v4(t){if(t)return t.options.allowProjection!==!1?t.projection:v4(t.parent)}function ob(t,{forwardMotionProps:e=!1}={},n,r){n&&lK(n);const s=iE(t)?FK:UK;function o(l,c){let d;const f={..._.useContext(z0),...l,layoutId:MK(l)},{isStatic:p}=f,g=fK(l),b=s(l,p);if(!p&&Rx){LK();const B=kK(f);d=B.MeasureLayout,g.visualElement=DK(t,b,f,r,B.ProjectionNode)}return m.jsxs(W0.Provider,{value:g,children:[d&&g.visualElement?m.jsx(d,{visualElement:g.visualElement,...f}):null,SK(t,l,RK(b,g.visualElement,c),b,p,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const A=_.forwardRef(o);return A[NK]=t,A}function MK({layoutId:t}){const e=_.useContext(Nx).id;return e&&t!==void 0?e+"-"+t:t}function LK(t,e){_.useContext(a4).strict}function kK(t){const{drag:e,layout:n}=Vc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function PK(t,e){if(typeof Proxy>"u")return ob;const n=new Map,r=(o,A)=>ob(o,A,t,e),s=(o,A)=>r(o,A);return new Proxy(s,{get:(o,A)=>A==="create"?r:(n.has(A)||n.set(A,ob(A,void 0,t,e)),n.get(A))})}function w4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function HK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ab(t){return t===void 0||t===1}function VB({scale:t,scaleX:e,scaleY:n}){return!ab(t)||!ab(e)||!ab(n)}function UA(t){return VB(t)||b4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function b4(t){return NU(t.x)||NU(t.y)}function NU(t){return t&&t!=="0%"}function Rm(t,e,n){const r=t-n,s=e*r;return n+s}function RU(t,e,n,r,s){return s!==void 0&&(t=Rm(t,s,r)),Rm(t,n,r)+e}function KB(t,e=0,n=1,r,s){t.min=RU(t.min,e,n,r,s),t.max=RU(t.max,e,n,r,s)}function B4(t,{x:e,y:n}){KB(t.x,e.translate,e.scale,e.originPoint),KB(t.y,n.translate,n.scale,n.originPoint)}const QU=.999999999999,DU=1.0000000000001;function VK(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,A;for(let l=0;l<s;l++){o=n[l],A=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&_c(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),A&&(e.x*=A.x.scale,e.y*=A.y.scale,B4(t,A)),r&&UA(o.latestValues)&&_c(t,o.latestValues))}e.x<DU&&e.x>QU&&(e.x=1),e.y<DU&&e.y>QU&&(e.y=1)}function Ec(t,e){t.min=t.min+e,t.max=t.max+e}function OU(t,e,n,r,s=.5){const o=Lt(t.min,t.max,s);KB(t,e,n,o,r)}function _c(t,e){OU(t.x,e.x,e.scaleX,e.scale,e.originX),OU(t.y,e.y,e.scaleY,e.scale,e.originY)}function C4(t,e){return w4(jK(t.getBoundingClientRect(),e))}function KK(t,e,n){const r=C4(t,n),{scroll:s}=e;return s&&(Ec(r.x,s.offset.x),Ec(r.y,s.offset.y)),r}const MU=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sc=()=>({x:MU(),y:MU()}),LU=()=>({min:0,max:0}),mn=()=>({x:LU(),y:LU()}),GB={current:null},x4={current:!1};function GK(){if(x4.current=!0,!!Rx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>GB.current=t.matches;t.addEventListener("change",e),e()}else GB.current=!1}const zK=new WeakMap;function WK(t,e,n){for(const r in e){const s=e[r],o=n[r];if(rr(s))t.addValue(r,s);else if(rr(o))t.addValue(r,ZA(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const A=t.getValue(r);A.liveStyle===!0?A.jump(s):A.hasAnimated||A.set(s)}else{const A=t.getStaticValue(r);t.addValue(r,ZA(A!==void 0?A:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const kU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qK{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:A},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Er.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Ut.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=A;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=$0(n),this.isVariantNode=l4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const b=p[g];c[g]!==void 0&&rr(b)&&b.set(c[g])}}mount(e){var n;this.current=e,zK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),x4.current||GK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:GB.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),wo(this.notifyUpdate),wo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Au.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",A=>{this.latestValues[e]=A,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vc){const n=Vc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<kU.length;r++){const s=kU[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,A=e[o];A&&(this.propEventSubscriptions[s]=this.on(s,A))}this.prevMotionValues=WK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ZA(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fD(r)||gD(r))?r=parseFloat(r):!tK(r)&&Ra.test(n)&&(r=ZD(e,n)),this.setBaseTarget(e,rr(r)?r.get():r)),rr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const A=oE(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);A&&(r=A[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!rr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new kx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Zx.render(this.render)}}class E4 extends qK{constructor(){super(...arguments),this.KeyframeResolver=j9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _4(t,{style:e,vars:n},r,s){const o=t.style;let A;for(A in e)o[A]=e[A];s==null||s.applyProjectionStyles(o,r);for(A in n)o.setProperty(A,n[A])}function $K(t){return window.getComputedStyle(t)}class YK extends E4{constructor(){super(...arguments),this.type="html",this.renderInstance=_4}readValueFromInstance(e,n){var r;if(Au.has(n))return(r=this.projection)!=null&&r.isProjecting?DB(n):a9(e,n);{const s=$K(e),o=(UD(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return C4(e,n)}build(e,n,r){rE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return aE(e,n,r)}}const S4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XK(t,e,n,r){_4(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(S4.has(s)?s:AE(s),e.attrs[s])}class JK extends E4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Au.has(n)){const r=JD(n);return r&&r.default||0}return n=S4.has(n)?n:AE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return g4(e,n,r)}build(e,n,r){d4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){XK(e,n,r,s)}mount(e){this.isSVGTag=f4(e.tagName),super.mount(e)}}const ZK=(t,e)=>iE(t)?new JK(e):new YK(e,{allowProjection:t!==_.Fragment});function Rc(t,e,n){const r=t.getProps();return oE(r,e,n!==void 0?n:r.custom,t)}const zB=t=>Array.isArray(t);function eG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ZA(n))}function tG(t){return zB(t)?t[t.length-1]||0:t}function nG(t,e){const n=Rc(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const A in o){const l=tG(o[A]);eG(t,A,l)}}function rG(t){return!!(rr(t)&&t.add)}function WB(t,e){const n=t.getValue("willChange");if(rG(n))return n.add(e);if(!n&&vo.WillChange){const r=new vo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function T4(t){return t.props[m4]}const sG=t=>t!==null;function iG(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(sG),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const oG={type:"spring",stiffness:500,damping:25,restSpeed:10},aG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),AG={type:"keyframes",duration:.8},lG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cG=(t,{keyframes:e})=>e.length>2?AG:Au.has(t)?t.startsWith("scale")?aG(e[1]):oG:lG;function uG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:A,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const lE=(t,e,n,r={},s,o)=>A=>{const l=Xx(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-xi(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{A(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:o?void 0:s};uG(l)||Object.assign(f,cG(t,f)),f.duration&&(f.duration=xi(f.duration)),f.repeatDelay&&(f.repeatDelay=xi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(PB(f),f.delay===0&&(p=!0)),(vo.instantAnimations||vo.skipAnimations)&&(p=!0,PB(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!o&&e.get()!==void 0){const g=iG(f.keyframes,l);if(g!==void 0){Ut.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new $x(f):new U9(f)};function dG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function I4(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:A,...l}=e;r&&(o=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const p=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||d&&dG(d,f))continue;const b={delay:n,...Xx(o||{},f)},B=p.get();if(B!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===B&&!b.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const I=T4(t);if(I){const F=window.MotionHandoffAnimation(I,f,Ut);F!==null&&(b.startTime=F,C=!0)}}WB(t,f),p.start(lE(f,p,g,t.shouldReduceMotion&&$D.has(f)?{type:!1}:b,t,C));const E=p.animation;E&&c.push(E)}return A&&Promise.all(c).then(()=>{Ut.update(()=>{A&&nG(t,A)})}),c}function U4(t,e,n,r=0,s=1){const o=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),A=t.size,l=(A-1)*r;return typeof n=="function"?n(o,A):s===1?o*r:l-o*r}function qB(t,e,n={}){var c;const r=Rc(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(I4(t,r,n)):()=>Promise.resolve(),A=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=s;return hG(t,e,d,f,p,g,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,f]=l==="beforeChildren"?[o,A]:[A,o];return d().then(()=>f())}else return Promise.all([o(),A(n.delay)])}function hG(t,e,n=0,r=0,s=0,o=1,A){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(qB(c,e,{...A,delay:n+(typeof r=="function"?0:r)+U4(t.variantChildren,c,r,s,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function fG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>qB(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=qB(t,e,n);else{const s=typeof e=="function"?Rc(t,e,n.custom):e;r=Promise.all(I4(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function F4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const pG=nE.length;function N4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?N4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<pG;n++){const r=nE[n],s=t.props[r];(Uh(s)||s===!1)&&(e[r]=s)}return e}const gG=[...tE].reverse(),mG=tE.length;function yG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>fG(t,n,r)))}function vG(t){let e=yG(t),n=PU(),r=!0;const s=c=>(d,f)=>{var g;const p=Rc(t,f,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:b,transitionEnd:B,...C}=p;d={...d,...C,...B}}return d};function o(c){e=c(t)}function A(c){const{props:d}=t,f=N4(t.parent)||{},p=[],g=new Set;let b={},B=1/0;for(let E=0;E<mG;E++){const I=gG[E],F=n[I],Q=d[I]!==void 0?d[I]:f[I],j=Uh(Q),P=I===c?F.isActive:null;P===!1&&(B=E);let V=Q===f[I]&&Q!==d[I]&&j;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),F.protectedKeys={...b},!F.isActive&&P===null||!Q&&!F.prevProp||q0(Q)||typeof Q=="boolean")continue;const R=wG(F.prevProp,Q);let U=R||I===c&&F.isActive&&!V&&j||E>B&&j,D=!1;const L=Array.isArray(Q)?Q:[Q];let H=L.reduce(s(I),{});P===!1&&(H={});const{prevResolvedValues:M={}}=F,N={...M,...H},Y=se=>{U=!0,g.has(se)&&(D=!0,g.delete(se)),F.needsAnimating[se]=!0;const ne=t.getValue(se);ne&&(ne.liveStyle=!1)};for(const se in N){const ne=H[se],ve=M[se];if(b.hasOwnProperty(se))continue;let Se=!1;zB(ne)&&zB(ve)?Se=!F4(ne,ve):Se=ne!==ve,Se?ne!=null?Y(se):g.add(se):ne!==void 0&&g.has(se)?Y(se):F.protectedKeys[se]=!0}F.prevProp=Q,F.prevResolvedValues=H,F.isActive&&(b={...b,...H}),r&&t.blockInitialAnimation&&(U=!1);const ce=V&&R;U&&(!ce||D)&&p.push(...L.map(se=>{const ne={type:I};if(typeof se=="string"&&r&&!ce&&t.manuallyAnimateOnMount&&t.parent){const{parent:ve}=t,Se=Rc(ve,se);if(ve.enteringChildren&&Se){const{delayChildren:G}=Se.transition||{};ne.delay=U4(ve.enteringChildren,t,G)}}return{animation:se,options:ne}}))}if(g.size){const E={};if(typeof d.initial!="boolean"){const I=Rc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);I&&I.transition&&(E.transition=I.transition)}g.forEach(I=>{const F=t.getBaseTarget(I),Q=t.getValue(I);Q&&(Q.liveStyle=!0),E[I]=F??null}),p.push({animation:E})}let C=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(p):Promise.resolve()}function l(c,d){var p;if(n[c].isActive===d)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var b;return(b=g.animationState)==null?void 0:b.setActive(c,d)}),n[c].isActive=d;const f=A(c);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:A,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=PU()}}}function wG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F4(e,t):!1}function xA(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PU(){return{animate:xA(!0),whileInView:xA(),whileHover:xA(),whileTap:xA(),whileDrag:xA(),whileFocus:xA(),exit:xA()}}class Va{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bG extends Va{constructor(e){super(e),e.animationState||(e.animationState=vG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();q0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let BG=0;class CG extends Va{constructor(){super(...arguments),this.id=BG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const xG={animation:{Feature:bG},exit:{Feature:CG}};function Fh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ff(t){return{point:{x:t.pageX,y:t.pageY}}}const EG=t=>e=>eE(e)&&t(e,ff(e));function ih(t,e,n,r){return Fh(t,e,EG(n),r)}const R4=1e-4,_G=1-R4,SG=1+R4,Q4=.01,TG=0-Q4,IG=0+Q4;function dr(t){return t.max-t.min}function UG(t,e,n){return Math.abs(t-e)<=n}function HU(t,e,n,r=.5){t.origin=r,t.originPoint=Lt(e.min,e.max,t.origin),t.scale=dr(n)/dr(e),t.translate=Lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_G&&t.scale<=SG||isNaN(t.scale))&&(t.scale=1),(t.translate>=TG&&t.translate<=IG||isNaN(t.translate))&&(t.translate=0)}function oh(t,e,n,r){HU(t.x,e.x,n.x,r?r.originX:void 0),HU(t.y,e.y,n.y,r?r.originY:void 0)}function jU(t,e,n){t.min=n.min+e.min,t.max=t.min+dr(e)}function FG(t,e,n){jU(t.x,e.x,n.x),jU(t.y,e.y,n.y)}function VU(t,e,n){t.min=e.min-n.min,t.max=t.min+dr(e)}function Qm(t,e,n){VU(t.x,e.x,n.x),VU(t.y,e.y,n.y)}function ls(t){return[t("x"),t("y")]}const D4=({current:t})=>t?t.ownerDocument.defaultView:null,KU=(t,e)=>Math.abs(t-e);function NG(t,e){const n=KU(t.x,e.x),r=KU(t.y,e.y);return Math.sqrt(n**2+r**2)}class O4{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:A=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=lb(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,B=NG(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!B)return;const{point:C}=g,{timestamp:E}=Ln;this.history.push({...C,timestamp:E});const{onStart:I,onMove:F}=this.handlers;b||(I&&I(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Ab(b,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:B,onSessionEnd:C,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=lb(g.type==="pointercancel"?this.lastMoveEventInfo:Ab(b,this.transformPagePoint),this.history);this.startEvent&&B&&B(g,I),C&&C(g,I)},!eE(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=A,this.contextWindow=s||window;const l=ff(e),c=Ab(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=Ln;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,lb(c,this.history)),this.removeListeners=uf(ih(this.contextWindow,"pointermove",this.handlePointerMove),ih(this.contextWindow,"pointerup",this.handlePointerUp),ih(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wo(this.updatePoint)}}function Ab(t,e){return e?{point:e(t.point)}:t}function GU(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lb({point:t},e){return{point:t,delta:GU(t,M4(e)),offset:GU(t,RG(e)),velocity:QG(e,.1)}}function RG(t){return t[0]}function M4(t){return t[t.length-1]}function QG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=M4(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>xi(e)));)n--;if(!r)return{x:0,y:0};const o=ds(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const A={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return A.x===1/0&&(A.x=0),A.y===1/0&&(A.y=0),A}function DG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Lt(n,t,r.max):Math.min(t,n)),t}function zU(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function OG(t,{top:e,left:n,bottom:r,right:s}){return{x:zU(t.x,n,s),y:zU(t.y,e,r)}}function WU(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function MG(t,e){return{x:WU(t.x,e.x),y:WU(t.y,e.y)}}function LG(t,e){let n=.5;const r=dr(t),s=dr(e);return s>r?n=Sh(e.min,e.max-r,t.min):r>s&&(n=Sh(t.min,t.max-s,e.min)),yo(0,1,n)}function kG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $B=.35;function PG(t=$B){return t===!1?t=0:t===!0&&(t=$B),{x:qU(t,"left","right"),y:qU(t,"top","bottom")}}function qU(t,e,n){return{min:$U(t,e),max:$U(t,n)}}function $U(t,e){return typeof t=="number"?t:t[e]||0}const HG=new WeakMap;class jG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ff(p).point)},A=(p,g)=>{const{drag:b,dragPropagation:B,onDragStart:C}=this.getProps();if(b&&!B&&(this.openDragLock&&this.openDragLock(),this.openDragLock=z9(b),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ls(I=>{let F=this.getAxisMotionValue(I).get()||0;if(Ei.test(F)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const j=Q.layout.layoutBox[I];j&&(F=dr(j)*(parseFloat(F)/100))}}this.originPoint[I]=F}),C&&Ut.postRender(()=>C(p,g)),WB(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:B,onDirectionLock:C,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:I}=g;if(B&&this.currentDirection===null){this.currentDirection=VG(I),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",g.point,I),this.updateAxis("y",g.point,I),this.visualElement.render(),E&&E(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ls(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new O4(e,{onSessionStart:o,onStart:A,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:D4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:A}=s;this.startAnimation(A);const{onDragEnd:l}=this.getProps();l&&Ut.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!mg(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let A=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(A=DG(A,this.constraints[e],this.elastic[e])),o.set(A)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&xc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=OG(r.layoutBox,e):this.constraints=!1,this.elastic=PG(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ls(A=>{this.constraints!==!1&&this.getAxisMotionValue(A)&&(this.constraints[A]=kG(r.layoutBox[A],this.constraints[A]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=KK(r,s.root,this.visualElement.getTransformPagePoint());let A=MG(s.layout.layoutBox,o);if(n){const l=n(HK(A));this.hasMutatedConstraints=!!l,l&&(A=w4(l))}return A}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:A,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ls(f=>{if(!mg(f,n,this.currentDirection))return;let p=c&&c[f]||{};A&&(p={min:0,max:0});const g=s?200:1e6,b=s?40:1e7,B={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(f,B)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return WB(this.visualElement,e),r.start(lE(e,r,0,n,this.visualElement,!1))}stopAnimation(){ls(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ls(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ls(n=>{const{drag:r}=this.getProps();if(!mg(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:A,max:l}=s.layout.layoutBox[n];o.set(e[n]-Lt(A,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ls(A=>{const l=this.getAxisMotionValue(A);if(l&&this.constraints!==!1){const c=l.get();s[A]=LG({min:c,max:c},this.constraints[A])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ls(A=>{if(!mg(A,e,null))return;const l=this.getAxisMotionValue(A),{min:c,max:d}=this.constraints[A];l.set(Lt(c,d,s[A]))})}addListeners(){if(!this.visualElement.current)return;HG.set(this.visualElement,this);const e=this.visualElement.current,n=ih(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();xc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ut.read(r);const A=Fh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ls(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())}));return()=>{A(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:A=$B,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:A,dragMomentum:l}}}function mg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function VG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KG extends Va{constructor(e){super(e),this.removeGroupControls=ms,this.removeListeners=ms,this.controls=new jG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ms}unmount(){this.removeGroupControls(),this.removeListeners()}}const YU=t=>(e,n)=>{t&&Ut.postRender(()=>t(e,n))};class GG extends Va{constructor(){super(...arguments),this.removePointerDownListener=ms}onPointerDown(e){this.session=new O4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:YU(e),onStart:YU(n),onMove:r,onEnd:(o,A)=>{delete this.session,s&&Ut.postRender(()=>s(o,A))}}}mount(){this.removePointerDownListener=ih(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let cb=!1;class zG extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),cb&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),cm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:A}=r;return A&&(A.isPresent=o,cb=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?A.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?A.promote():A.relegate()||Ut.postRender(()=>{const l=A.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;cb=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L4(t){const[e,n]=o4(),r=_.useContext(Nx);return m.jsx(zG,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(y4),isPresent:e,safeToRemove:n})}function WG(t,e,n){const r=rr(t)?t:ZA(t);return r.start(lE("",r,e,n)),r.animation}const qG=(t,e)=>t.depth-e.depth;class $G{constructor(){this.children=[],this.isDirty=!1}add(e){Dx(this.children,e),this.isDirty=!0}remove(e){Ox(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qG),this.isDirty=!1,this.children.forEach(e)}}function YG(t,e){const n=Er.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(wo(r),t(o-e))};return Ut.setup(r,!0),()=>wo(r)}const k4=["TopLeft","TopRight","BottomLeft","BottomRight"],XG=k4.length,XU=t=>typeof t=="string"?parseFloat(t):t,JU=t=>typeof t=="number"||Re.test(t);function JG(t,e,n,r,s,o){s?(t.opacity=Lt(0,n.opacity??1,ZG(r)),t.opacityExit=Lt(e.opacity??1,0,e7(r))):o&&(t.opacity=Lt(e.opacity??1,n.opacity??1,r));for(let A=0;A<XG;A++){const l=`border${k4[A]}Radius`;let c=ZU(e,l),d=ZU(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||JU(c)===JU(d)?(t[l]=Math.max(Lt(XU(c),XU(d),r),0),(Ei.test(d)||Ei.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Lt(e.rotate||0,n.rotate||0,r))}function ZU(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ZG=P4(0,.5,xD),e7=P4(.5,.95,ms);function P4(t,e,n){return r=>r<t?0:r>e?1:n(Sh(t,e,r))}function eF(t,e){t.min=e.min,t.max=e.max}function Rs(t,e){eF(t.x,e.x),eF(t.y,e.y)}function tF(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nF(t,e,n,r,s){return t-=e,t=Rm(t,1/n,r),s!==void 0&&(t=Rm(t,1/s,r)),t}function t7(t,e=0,n=1,r=.5,s,o=t,A=t){if(Ei.test(e)&&(e=parseFloat(e),e=Lt(A.min,A.max,e/100)-A.min),typeof e!="number")return;let l=Lt(o.min,o.max,r);t===o&&(l-=e),t.min=nF(t.min,e,n,l,s),t.max=nF(t.max,e,n,l,s)}function rF(t,e,[n,r,s],o,A){t7(t,e[n],e[r],e[s],e.scale,o,A)}const n7=["x","scaleX","originX"],r7=["y","scaleY","originY"];function sF(t,e,n,r){rF(t.x,e,n7,n?n.x:void 0,r?r.x:void 0),rF(t.y,e,r7,n?n.y:void 0,r?r.y:void 0)}function iF(t){return t.translate===0&&t.scale===1}function H4(t){return iF(t.x)&&iF(t.y)}function oF(t,e){return t.min===e.min&&t.max===e.max}function s7(t,e){return oF(t.x,e.x)&&oF(t.y,e.y)}function aF(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function j4(t,e){return aF(t.x,e.x)&&aF(t.y,e.y)}function AF(t){return dr(t.x)/dr(t.y)}function lF(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class i7{constructor(){this.members=[]}add(e){Dx(this.members,e),e.scheduleRender()}remove(e){if(Ox(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o7(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,A=(n==null?void 0:n.z)||0;if((s||o||A)&&(r=`translate3d(${s}px, ${o}px, ${A}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:b,skewY:B}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),b&&(r+=`skewX(${b}deg) `),B&&(r+=`skewY(${B}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const ub=["","X","Y","Z"],a7=1e3;let A7=0;function db(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function V4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=T4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ut,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&V4(r)}function K4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(A={},l=e==null?void 0:e()){this.id=A7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u7),this.nodes.forEach(p7),this.nodes.forEach(g7),this.nodes.forEach(d7)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=A,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $G)}addEventListener(A,l){return this.eventHandlers.has(A)||this.eventHandlers.set(A,new kx),this.eventHandlers.get(A).add(l)}notifyListeners(A,...l){const c=this.eventHandlers.get(A);c&&c.notify(...l)}hasListeners(A){return this.eventHandlers.has(A)}mount(A){if(this.instance)return;this.isSVG=i4(A)&&!J9(A),this.instance=A;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(A),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{p=window.innerWidth}),t(A,()=>{const b=window.innerWidth;b!==p&&(p=b,this.root.updateBlockedByResize=!0,f&&f(),f=YG(g,250),cm.hasAnimatedSinceResize&&(cm.hasAnimatedSinceResize=!1,this.nodes.forEach(dF)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||d.getDefaultTransition()||b7,{onLayoutAnimationStart:C,onLayoutAnimationComplete:E}=d.getProps(),I=!this.targetLayout||!j4(this.targetLayout,b),F=!p&&g;if(this.options.layoutRoot||this.resumeFrom||F||p&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...Xx(B,"layout"),onPlay:C,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(f,F)}else p||dF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const A=this.getStack();A&&A.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m7),this.animationId++)}getTransformTemplate(){const{visualElement:A}=this.options;return A&&A.getProps().transformTemplate}willUpdate(A=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&V4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),A&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cF);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uF);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(f7),this.nodes.forEach(l7),this.nodes.forEach(c7)):this.nodes.forEach(uF),this.clearAllSnapshots();const l=Er.now();Ln.delta=yo(0,1e3/60,l-Ln.timestamp),Ln.timestamp=l,Ln.isProcessing=!0,eb.update.process(Ln),eb.preRender.process(Ln),eb.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h7),this.sharedNodes.forEach(y7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dr(this.snapshot.measuredBox.x)&&!dr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const A=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,A?A.layoutBox:void 0)}updateScroll(A="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===A&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:A,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const A=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!H4(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;A&&this.instance&&(l||UA(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(A=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return A&&(c=this.removeTransform(c)),B7(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:A}=this.options;if(!A)return mn();const l=A.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(C7))){const{scroll:f}=this.root;f&&(Ec(l.x,f.offset.x),Ec(l.y,f.offset.y))}return l}removeElementScroll(A){var c;const l=mn();if(Rs(l,A),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Rs(l,A),Ec(l.x,p.offset.x),Ec(l.y,p.offset.y))}return l}applyTransform(A,l=!1){const c=mn();Rs(c,A);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&_c(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),UA(f.latestValues)&&_c(c,f.latestValues)}return UA(this.latestValues)&&_c(c,this.latestValues),c}removeTransform(A){const l=mn();Rs(l,A);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!UA(d.latestValues))continue;VB(d.latestValues)&&d.updateSnapshot();const f=mn(),p=d.measurePageBox();Rs(f,p),sF(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return UA(this.latestValues)&&sF(l,this.latestValues),l}setTargetDelta(A){this.targetDelta=A,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(A){this.options={...this.options,...A,crossfade:A.crossfade!==void 0?A.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(A=!1){var b;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(A||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=Ln.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mn(),this.targetWithTransforms=mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rs(this.target,this.layout.layoutBox),B4(this.target,this.targetDelta)):Rs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||VB(this.parent.latestValues)||b4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(A,l,c){this.relativeParent=A,this.linkedParentVersion=A.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),Qm(this.relativeTargetOrigin,l,c),Rs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var B;const A=this.getLead(),l=!!this.resumingFrom||this!==A;let c=!0;if((this.isProjectionDirty||(B=this.parent)!=null&&B.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Rs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;VK(this.layoutCorrected,this.treeScale,this.path,l),A.layout&&!A.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(A.target=A.layout.layoutBox,A.targetWithTransforms=mn());const{target:b}=A;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tF(this.prevProjectionDelta.x,this.projectionDelta.x),tF(this.prevProjectionDelta.y,this.projectionDelta.y)),oh(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!lF(this.projectionDelta.x,this.prevProjectionDelta.x)||!lF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(A=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),A){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sc(),this.projectionDelta=Sc(),this.projectionDeltaWithTransform=Sc()}setAnimationOrigin(A,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=Sc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=mn(),b=c?c.source:void 0,B=this.layout?this.layout.source:void 0,C=b!==B,E=this.getStack(),I=!E||E.members.length<=1,F=!!(C&&!I&&this.options.crossfade===!0&&!this.path.some(w7));this.animationProgress=0;let Q;this.mixTargetDelta=j=>{const P=j/1e3;hF(p.x,A.x,P),hF(p.y,A.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v7(this.relativeTarget,this.relativeTargetOrigin,g,P),Q&&s7(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=mn()),Rs(Q,this.relativeTarget)),C&&(this.animationValues=f,JG(f,d,this.latestValues,P,F,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(A){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(wo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{cm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ZA(0)),this.currentAnimation=WG(this.motionValue,[0,1e3],{...A,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),A.onUpdate&&A.onUpdate(f)},onStop:()=>{},onComplete:()=>{A.onComplete&&A.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const A=this.getStack();A&&A.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(a7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const A=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=A;if(!(!l||!c||!d)){if(this!==A&&this.layout&&d&&G4(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||mn();const p=dr(this.layout.layoutBox.x);c.x.min=A.target.x.min,c.x.max=c.x.min+p;const g=dr(this.layout.layoutBox.y);c.y.min=A.target.y.min,c.y.max=c.y.min+g}Rs(l,c),_c(l,f),oh(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(A,l){this.sharedNodes.has(A)||this.sharedNodes.set(A,new i7),this.sharedNodes.get(A).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const A=this.getStack();return A?A.lead===this:!0}getLead(){var l;const{layoutId:A}=this.options;return A?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:A}=this.options;return A?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:A}=this.options;if(A)return this.root.sharedNodes.get(A)}promote({needsReset:A,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),A&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const A=this.getStack();return A?A.relegate(this):!1}resetSkewAndRotation(){const{visualElement:A}=this.options;if(!A)return;let l=!1;const{latestValues:c}=A;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&db("z",A,d,this.animationValues);for(let f=0;f<ub.length;f++)db(`rotate${ub[f]}`,A,d,this.animationValues),db(`skew${ub[f]}`,A,d,this.animationValues);A.render();for(const f in d)A.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);A.scheduleRender()}applyProjectionStyles(A,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){A.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,A.visibility="",A.opacity="",A.pointerEvents=lm(l==null?void 0:l.pointerEvents)||"",A.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=lm(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!UA(this.latestValues)&&(A.transform=c?c({},""):"none",this.hasProjected=!1);return}A.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=o7(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),A.transform=p;const{x:g,y:b}=this.projectionDelta;A.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,d.animationValues?A.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:A.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const B in jB){if(f[B]===void 0)continue;const{correct:C,applyTo:E,isCSSVariable:I}=jB[B],F=p==="none"?f[B]:C(f[B],d);if(E){const Q=E.length;for(let j=0;j<Q;j++)A[E[j]]=F}else I?this.options.visualElement.renderState.vars[B]=F:A[B]=F}this.options.layoutId&&(A.pointerEvents=d===this?lm(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(A=>{var l;return(l=A.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(cF),this.root.sharedNodes.clear()}}}function l7(t){t.updateLayout()}function c7(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,A=e.source!==t.layout.source;o==="size"?ls(p=>{const g=A?e.measuredBox[p]:e.layoutBox[p],b=dr(g);g.min=r[p].min,g.max=g.min+b}):G4(o,e.layoutBox,r)&&ls(p=>{const g=A?e.measuredBox[p]:e.layoutBox[p],b=dr(r[p]);g.max=g.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+b)});const l=Sc();oh(l,r,e.layoutBox);const c=Sc();A?oh(c,t.applyTransform(s,!0),e.measuredBox):oh(c,r,e.layoutBox);const d=!H4(l);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:b}=p;if(g&&b){const B=mn();Qm(B,e.layoutBox,g.layoutBox);const C=mn();Qm(C,r,b.layoutBox),j4(B,C)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=B,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function u7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function d7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function h7(t){t.clearSnapshot()}function cF(t){t.clearMeasurements()}function uF(t){t.isLayoutDirty=!1}function f7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dF(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function p7(t){t.resolveTargetDelta()}function g7(t){t.calcProjection()}function m7(t){t.resetSkewAndRotation()}function y7(t){t.removeLeadSnapshot()}function hF(t,e,n){t.translate=Lt(e.translate,0,n),t.scale=Lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fF(t,e,n,r){t.min=Lt(e.min,n.min,r),t.max=Lt(e.max,n.max,r)}function v7(t,e,n,r){fF(t.x,e.x,n.x,r),fF(t.y,e.y,n.y,r)}function w7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const b7={duration:.45,ease:[.4,0,.1,1]},pF=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gF=pF("applewebkit/")&&!pF("chrome/")?Math.round:ms;function mF(t){t.min=gF(t.min),t.max=gF(t.max)}function B7(t){mF(t.x),mF(t.y)}function G4(t,e,n){return t==="position"||t==="preserve-aspect"&&!UG(AF(e),AF(n),.2)}function C7(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const x7=K4({attachResizeListener:(t,e)=>Fh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hb={current:void 0},z4=K4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hb.current){const t=new x7({});t.mount(window),t.setOptions({layoutScroll:!0}),hb.current=t}return hb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E7={pan:{Feature:GG},drag:{Feature:KG,ProjectionNode:z4,MeasureLayout:L4}};function yF(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Ut.postRender(()=>o(e,ff(e)))}class _7 extends Va{mount(){const{current:e}=this.node;e&&(this.unmount=W9(e,(n,r)=>(yF(this.node,r,"Start"),s=>yF(this.node,s,"End"))))}unmount(){}}class S7 extends Va{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uf(Fh(this.node.current,"focus",()=>this.onFocus()),Fh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vF(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Ut.postRender(()=>o(e,ff(e)))}class T7 extends Va{mount(){const{current:e}=this.node;e&&(this.unmount=X9(e,(n,r)=>(vF(this.node,r,"Start"),(s,{success:o})=>vF(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const YB=new WeakMap,fb=new WeakMap,I7=t=>{const e=YB.get(t.target);e&&e(t)},U7=t=>{t.forEach(I7)};function F7({root:t,...e}){const n=t||document;fb.has(n)||fb.set(n,{});const r=fb.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(U7,{root:t,...e})),r[s]}function N7(t,e,n){const r=F7(e);return YB.set(t,n),r.observe(t),()=>{YB.delete(t),r.unobserve(t)}}const R7={some:0,all:1};class Q7 extends Va{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,A={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:R7[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(c)};return N7(this.node.current,A,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(D7(e,n))&&this.startObserver()}unmount(){}}function D7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const O7={inView:{Feature:Q7},tap:{Feature:T7},focus:{Feature:S7},hover:{Feature:_7}},M7={layout:{ProjectionNode:z4,MeasureLayout:L4}},L7={...xG,...O7,...E7,...M7},hs=PK(L7,ZK);function W4(t){const e=cf(()=>ZA(t)),{isStatic:n}=_.useContext(z0);if(n){const[,r]=_.useState(t);_.useEffect(()=>e.on("change",r),[])}return e}function q4(t,e){const n=W4(e()),r=()=>n.set(e());return r(),Qx(()=>{const s=()=>Ut.preRender(r,!1,!0),o=t.map(A=>A.on("change",s));return()=>{o.forEach(A=>A()),wo(r)}}),n}function k7(t){sh.current=[],t();const e=q4(sh.current,t);return sh.current=void 0,e}function yg(t,e,n,r){if(typeof t=="function")return k7(t);const s=typeof e=="function"?e:Z9(e,n,r);return Array.isArray(t)?wF(t,s):wF([t],([o])=>s(o))}function wF(t,e){const n=cf(()=>[]);return q4(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}const P7=({tasks:t=[]})=>{const e=_.useMemo(()=>Array.from({length:40},(s,o)=>{const A=o+1;let l="locked";return A<5?l="completed":A===5?l="active":A===12&&(l="overtasked"),{id:A,title:`Phase ${A}: ${n(A)}`,description:r(),status:l,assignees:A===5?["Goose","Maverick"]:[],taskCount:A===5?3:A===12?8:0}}),[]);function n(s){const o=["Ideation","Validation","Prototype","User Testing","MVP Launch","Seed Funding","Team Expansion","Market Fit","Scaling","Series A"];return o[(s-1)%o.length]}function r(s){return"Execute strategic initiatives to secure market dominance."}return m.jsxs("div",{className:"h-full flex flex-col bg-black relative overflow-hidden font-mono",children:[m.jsxs("div",{className:"absolute top-4 right-6 bg-black/90 border border-gray-800 p-4 rounded-none z-20 backdrop-blur-md shadow-[0_0_20px_rgba(0,0,0,0.8)]",children:[m.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-yellow-600"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-yellow-600"}),m.jsx("h4",{className:"text-[10px] text-yellow-600 font-bold uppercase tracking-[0.2em] mb-3 border-b border-gray-800 pb-2",children:"Mission Status"}),m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("div",{className:"w-2 h-2 bg-[var(--color-tactical-green)] shadow-[0_0_8px_#00FF41] animate-pulse"}),m.jsx("span",{className:"text-[10px] text-[var(--color-tactical-green)] tracking-widest",children:"OPTIMAL LOAD"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-2 h-2 bg-red-500 shadow-[0_0_8px_red]"}),m.jsx("span",{className:"text-[10px] text-red-500 tracking-widest",children:"OVER-TASKED"})]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 relative",children:[m.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-gray-900 transform -translate-x-1/2 pointer-events-none",children:m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[var(--color-tactical-amber)]/20 via-transparent to-[var(--color-tactical-amber)]/20"})}),m.jsx("div",{className:"max-w-5xl mx-auto space-y-0 py-12 relative",children:e.map((s,o)=>{const A=s.id%2!==0;return m.jsxs(hs.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:o%5*.1},className:`relative flex items-center ${A?"justify-end md:pr-16":"justify-start md:pl-16"} md:flex-row flex-col py-8 group`,children:[m.jsx("div",{className:`absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-black border border-gray-700 rotate-45 z-10 transition-all duration-300 group-hover:border-[var(--color-tactical-amber)] group-hover:shadow-[0_0_10px_#FFB000]
                  ${s.status==="active"?"bg-[var(--color-tactical-amber)] border-[var(--color-tactical-amber)] shadow-[0_0_15px_#FFB000] scale-150":s.status==="completed"?"bg-[var(--color-tactical-green)] border-[var(--color-tactical-green)] shadow-[0_0_10px_#00FF41]":s.status==="overtasked"?"bg-red-600 border-red-500 shadow-[0_0_10px_red]":""}`}),m.jsx("div",{className:`hidden md:block absolute top-1/2 h-px bg-gray-800 w-16 transition-all duration-500
                  ${A?"right-1/2 mr-0 origin-right":"left-1/2 ml-0 origin-left"}
                  ${s.status==="active"?"bg-[var(--color-tactical-amber)] w-16 shadow-[0_0_5px_#FFB000]":"group-hover:bg-gray-600"}
                `}),m.jsxs("div",{className:`
                  relative w-full md:w-[45%] p-5 transition-all duration-300
                  ${A?"md:text-right":"md:text-left"}
                `,children:[m.jsxs("div",{className:`absolute inset-0 bg-[#0a0a0a] border transition-all duration-300
                    ${s.status==="active"?"border-[var(--color-tactical-amber)] shadow-[0_0_15px_rgba(255,176,0,0.15)]":s.status==="overtasked"?"border-red-900 bg-red-950/10":"border-gray-800 hover:border-gray-600"}
                  `,children:[m.jsx("div",{className:`absolute top-0 w-2 h-2 border-t border-l transition-colors duration-300 ${A?"right-0 border-r border-l-0":"left-0"} 
                      ${s.status==="active"?"border-[var(--color-tactical-amber)]":"border-gray-600"}`}),m.jsx("div",{className:`absolute bottom-0 w-2 h-2 border-b border-l transition-colors duration-300 ${A?"left-0":"right-0 border-r border-l-0"}
                      ${s.status==="active"?"border-[var(--color-tactical-amber)]":"border-gray-600"}`})]}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:`flex items-center gap-3 mb-2 ${A?"md:justify-end":"md:justify-start"}`,children:[s.status==="overtasked"&&m.jsx("span",{className:"text-red-500 animate-pulse",children:""}),m.jsx("h3",{className:`text-sm font-bold uppercase tracking-widest
                        ${s.status==="active"?"text-[var(--color-tactical-amber)] drop-shadow-[0_0_5px_rgba(255,176,0,0.8)]":s.status==="overtasked"?"text-red-500":s.status==="completed"?"text-[var(--color-tactical-green)]":"text-gray-500"}
                      `,children:s.title})]}),m.jsx("p",{className:`text-[10px] uppercase tracking-wider leading-relaxed max-w-sm
                      ${s.status==="active"?"text-gray-300":"text-gray-600"}
                      ${A?"ml-auto":"mr-auto"}
                    `,children:s.description}),(s.assignees.length>0||s.taskCount>0)&&m.jsxs("div",{className:`mt-4 flex items-center gap-4 ${A?"md:justify-end":"md:justify-start"}`,children:[s.assignees.length>0&&m.jsxs("div",{className:"flex -space-x-3",children:[m.jsx("div",{className:"w-6 h-6 rounded-none border border-gray-600 bg-gray-900 flex items-center justify-center text-[8px] text-gray-400",children:"G"}),m.jsx("div",{className:"w-6 h-6 rounded-none border border-gray-600 bg-gray-900 flex items-center justify-center text-[8px] text-gray-400",children:"M"})]}),m.jsxs("span",{className:`text-[9px] font-bold px-2 py-1 border 
                          ${s.status==="overtasked"?"bg-red-900/20 text-red-500 border-red-900":"bg-gray-900 text-gray-500 border-gray-800"}`,children:[s.taskCount," OP-TASKS"]})]})]})]})]},s.id)})})]})]})},H7=[{id:"wolf1",name:"Sarah Jenkins",role:"labor",tagline:"Full Stack Wizard available for weekends.",avatar:"https://ui-avatars.com/api/?name=Sarah+J&background=3b82f6&color=fff",distance:"0.8km",location:"Sector 7",skills:["React","Node","Postgres"],stats:{build:95,fund:20,connect:40},hunting:"A visionary to lead the product.",linkedin:"#"},{id:"wolf2",name:"Marcus Thorne",role:"finance",tagline:"Seed capital ready for the right pitch.",avatar:"https://ui-avatars.com/api/?name=Marcus+T&background=22c55e&color=fff",distance:"1.2km",location:"Financial District",skills:["VC","Modeling","Exit Strategy"],stats:{build:10,fund:99,connect:80},hunting:"High growth SaaS platforms.",linkedin:"#"},{id:"wolf3",name:"Elena Rodriguez",role:"sales",tagline:"I can sell sand to a desert.",avatar:"https://ui-avatars.com/api/?name=Elena+R&background=a855f7&color=fff",distance:"2.5km",location:"Downtown Hub",skills:["B2B Sales","Network","Closing"],stats:{build:30,fund:50,connect:95},hunting:"Products that actually work.",linkedin:"#"}],j7=({user:t,onSelectWolf:e,onMessageWolf:n})=>{const[r,s]=_.useState(!0),[o,A]=_.useState([]);_.useEffect(()=>{const d=setTimeout(()=>{A(H7),s(!1)},2e3);return()=>clearTimeout(d)},[]);const l=d=>{const f=d.split("").reduce((b,B)=>b+B.charCodeAt(0),0),p=20+f%60,g=20+f*13%60;return{top:`${p}%`,left:`${g}%`}},c=d=>{switch(d){case"labor":return"bg-labor shadow-[0_0_15px_rgba(239,68,68,0.5)]";case"finance":return"bg-finance shadow-[0_0_15px_rgba(34,197,94,0.5)]";case"sales":return"bg-sales shadow-[0_0_15px_rgba(59,130,246,0.5)]";default:return"bg-gray-500"}};return m.jsxs("div",{className:"flex flex-col items-center w-full max-w-4xl mx-auto space-y-8",children:[m.jsxs("div",{className:"relative w-72 h-72 md:w-96 md:h-96 shrink-0 bg-bunker rounded-full border border-wolf/20 shadow-[0_0_50px_rgba(202,138,4,0.1)] overflow-hidden group",children:[m.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[m.jsx("div",{className:"absolute top-1/2 w-full h-px bg-wolf -translate-y-1/2"}),m.jsx("div",{className:"absolute left-1/2 h-full w-px bg-wolf -translate-x-1/2"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 w-3/4 h-3/4 border border-wolf rounded-full -translate-x-1/2 -translate-y-1/2"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 w-1/2 h-1/2 border border-wolf rounded-full -translate-x-1/2 -translate-y-1/2"})]}),m.jsx("div",{className:"absolute inset-0 rounded-full border-t-2 border-wolf/50 opacity-50 animate-spin-slow origin-center pointer-events-none",style:{animationDuration:"4s"},children:m.jsx("div",{className:"absolute top-0 left-1/2 w-1/2 h-1/2 bg-gradient-to-br from-wolf/20 to-transparent transform -translate-x-full origin-bottom-right rotate-45"})}),m.jsx("div",{className:"absolute top-1/2 left-1/2 w-3 h-3 bg-white rounded-full -translate-x-1/2 -translate-y-1/2 shadow-[0_0_10px_white] z-20"}),o.map(d=>m.jsx("button",{onClick:()=>e(d),className:`absolute w-3 h-3 rounded-full cursor-pointer transition-all hover:scale-150 hover:z-30 z-10 ${c(d.role)} animate-pulse`,style:l(d.id),children:m.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-[9px] font-bold text-wolf bg-black/80 px-2 py-0.5 rounded border border-wolf/30 opacity-0 group-hover:opacity-100 whitespace-nowrap pointer-events-none backdrop-blur-sm z-50",children:d.name})},d.id))]}),m.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[r&&m.jsx("div",{className:"col-span-full text-center text-wolf font-mono animate-pulse tracking-widest text-xs",children:"RADAR SCANNING SECTOR 7..."}),!r&&o.map(d=>m.jsxs("div",{onClick:()=>e(d),className:"bg-bunker border border-armor p-4 rounded-xl flex items-center gap-4 hover:border-wolf transition-all cursor-pointer group shadow-lg hover:shadow-wolf/10 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-wolf/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),m.jsx("img",{src:d.avatar,alt:d.name,className:"w-12 h-12 rounded-full border border-gray-700 group-hover:border-wolf transition-colors object-cover z-10"}),m.jsxs("div",{className:"flex-1 z-10",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h3",{className:"font-bold text-white group-hover:text-wolf transition-colors",children:d.name}),m.jsx("span",{className:`text-[9px] uppercase font-bold px-2 py-0.5 rounded bg-black border border-gray-800 tracking-wider ${d.role==="labor"?"text-labor":d.role==="finance"?"text-finance":"text-sales"}`,children:d.role})]}),m.jsxs("p",{className:"text-gray-400 text-xs italic line-clamp-1 mt-1 font-light",children:['"',d.tagline,'"']}),m.jsxs("div",{className:"mt-2 flex gap-3 text-[10px] text-gray-500 font-mono",children:[m.jsxs("span",{className:"flex items-center gap-1 text-wolf/70",children:[" ",d.distance]}),m.jsxs("span",{className:"flex items-center gap-1",children:[" ",d.stats.build+d.stats.fund+d.stats.connect," PWR"]})]})]})]},d.id))]})]})};function Aa(t){return function(){return t}}const bF=Math.abs,$n=Math.atan2,EA=Math.cos,V7=Math.max,pb=Math.min,bi=Math.sin,Tc=Math.sqrt,Br=1e-12,Nh=Math.PI,Dm=Nh/2,K7=2*Nh;function G7(t){return t>1?0:t<-1?Nh:Math.acos(t)}function BF(t){return t>=1?Dm:t<=-1?-Dm:Math.asin(t)}const XB=Math.PI,JB=2*XB,FA=1e-6,z7=JB-FA;function $4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function W7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $4;const n=10**e;return function(r){this._+=r[0];for(let s=1,o=r.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}let q7=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$4:W7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,o,A){this._append`C${+e},${+n},${+r},${+s},${this._x1=+o},${this._y1=+A}`}arcTo(e,n,r,s,o){if(e=+e,n=+n,r=+r,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let A=this._x1,l=this._y1,c=r-e,d=s-n,f=A-e,p=l-n,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>FA)if(!(Math.abs(p*c-d*f)>FA)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-A,B=s-l,C=c*c+d*d,E=b*b+B*B,I=Math.sqrt(C),F=Math.sqrt(g),Q=o*Math.tan((XB-Math.acos((C+g-E)/(2*I*F)))/2),j=Q/F,P=Q/I;Math.abs(j-1)>FA&&this._append`L${e+j*f},${n+j*p}`,this._append`A${o},${o},0,0,${+(p*b>f*B)},${this._x1=e+P*c},${this._y1=n+P*d}`}}arc(e,n,r,s,o,A){if(e=+e,n=+n,r=+r,A=!!A,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),d=e+l,f=n+c,p=1^A,g=A?s-o:o-s;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>FA||Math.abs(this._y1-f)>FA)&&this._append`L${d},${f}`,r&&(g<0&&(g=g%JB+JB),g>z7?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:g>FA&&this._append`A${r},${r},0,${+(g>=XB)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}};function $7(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new q7(e)}function Y7(t){return t.innerRadius}function X7(t){return t.outerRadius}function J7(t){return t.startAngle}function Z7(t){return t.endAngle}function ez(t){return t&&t.padAngle}function tz(t,e,n,r,s,o,A,l){var c=n-t,d=r-e,f=A-s,p=l-o,g=p*c-f*d;if(!(g*g<Br))return g=(f*(e-o)-p*(t-s))/g,[t+g*c,e+g*d]}function vg(t,e,n,r,s,o,A){var l=t-n,c=e-r,d=(A?o:-o)/Tc(l*l+c*c),f=d*c,p=-d*l,g=t+f,b=e+p,B=n+f,C=r+p,E=(g+B)/2,I=(b+C)/2,F=B-g,Q=C-b,j=F*F+Q*Q,P=s-o,V=g*C-B*b,R=(Q<0?-1:1)*Tc(V7(0,P*P*j-V*V)),U=(V*Q-F*R)/j,D=(-V*F-Q*R)/j,L=(V*Q+F*R)/j,H=(-V*F+Q*R)/j,M=U-E,N=D-I,Y=L-E,ce=H-I;return M*M+N*N>Y*Y+ce*ce&&(U=L,D=H),{cx:U,cy:D,x01:-f,y01:-p,x11:U*(s/P-1),y11:D*(s/P-1)}}function nz(){var t=Y7,e=X7,n=Aa(0),r=null,s=J7,o=Z7,A=ez,l=null,c=$7(d);function d(){var f,p,g=+t.apply(this,arguments),b=+e.apply(this,arguments),B=s.apply(this,arguments)-Dm,C=o.apply(this,arguments)-Dm,E=bF(C-B),I=C>B;if(l||(l=f=c()),b<g&&(p=b,b=g,g=p),!(b>Br))l.moveTo(0,0);else if(E>K7-Br)l.moveTo(b*EA(B),b*bi(B)),l.arc(0,0,b,B,C,!I),g>Br&&(l.moveTo(g*EA(C),g*bi(C)),l.arc(0,0,g,C,B,I));else{var F=B,Q=C,j=B,P=C,V=E,R=E,U=A.apply(this,arguments)/2,D=U>Br&&(r?+r.apply(this,arguments):Tc(g*g+b*b)),L=pb(bF(b-g)/2,+n.apply(this,arguments)),H=L,M=L,N,Y;if(D>Br){var ce=BF(D/g*bi(U)),W=BF(D/b*bi(U));(V-=ce*2)>Br?(ce*=I?1:-1,j+=ce,P-=ce):(V=0,j=P=(B+C)/2),(R-=W*2)>Br?(W*=I?1:-1,F+=W,Q-=W):(R=0,F=Q=(B+C)/2)}var se=b*EA(F),ne=b*bi(F),ve=g*EA(P),Se=g*bi(P);if(L>Br){var G=b*EA(Q),re=b*bi(Q),Ae=g*EA(j),ue=g*bi(j),ge;if(E<Nh)if(ge=tz(se,ne,Ae,ue,G,re,ve,Se)){var Te=se-ge[0],we=ne-ge[1],pt=G-ge[0],Ke=re-ge[1],hn=1/bi(G7((Te*pt+we*Ke)/(Tc(Te*Te+we*we)*Tc(pt*pt+Ke*Ke)))/2),fr=Tc(ge[0]*ge[0]+ge[1]*ge[1]);H=pb(L,(g-fr)/(hn-1)),M=pb(L,(b-fr)/(hn+1))}else H=M=0}R>Br?M>Br?(N=vg(Ae,ue,se,ne,b,M,I),Y=vg(G,re,ve,Se,b,M,I),l.moveTo(N.cx+N.x01,N.cy+N.y01),M<L?l.arc(N.cx,N.cy,M,$n(N.y01,N.x01),$n(Y.y01,Y.x01),!I):(l.arc(N.cx,N.cy,M,$n(N.y01,N.x01),$n(N.y11,N.x11),!I),l.arc(0,0,b,$n(N.cy+N.y11,N.cx+N.x11),$n(Y.cy+Y.y11,Y.cx+Y.x11),!I),l.arc(Y.cx,Y.cy,M,$n(Y.y11,Y.x11),$n(Y.y01,Y.x01),!I))):(l.moveTo(se,ne),l.arc(0,0,b,F,Q,!I)):l.moveTo(se,ne),!(g>Br)||!(V>Br)?l.lineTo(ve,Se):H>Br?(N=vg(ve,Se,G,re,g,-H,I),Y=vg(se,ne,Ae,ue,g,-H,I),l.lineTo(N.cx+N.x01,N.cy+N.y01),H<L?l.arc(N.cx,N.cy,H,$n(N.y01,N.x01),$n(Y.y01,Y.x01),!I):(l.arc(N.cx,N.cy,H,$n(N.y01,N.x01),$n(N.y11,N.x11),!I),l.arc(0,0,g,$n(N.cy+N.y11,N.cx+N.x11),$n(Y.cy+Y.y11,Y.cx+Y.x11),I),l.arc(Y.cx,Y.cy,H,$n(Y.y11,Y.x11),$n(Y.y01,Y.x01),!I))):l.arc(0,0,g,P,j,I)}if(l.closePath(),f)return l=null,f+""||null}return d.centroid=function(){var f=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,p=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-Nh/2;return[EA(p)*f,bi(p)*f]},d.innerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:Aa(+f),d):t},d.outerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:Aa(+f),d):e},d.cornerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:Aa(+f),d):n},d.padRadius=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Aa(+f),d):r},d.startAngle=function(f){return arguments.length?(s=typeof f=="function"?f:Aa(+f),d):s},d.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Aa(+f),d):o},d.padAngle=function(f){return arguments.length?(A=typeof f=="function"?f:Aa(+f),d):A},d.context=function(f){return arguments.length?(l=f??null,d):l},d}var Ct=(t=>(t.BACKLOG="backlog",t.TODO="todo",t.IN_PROGRESS="in_progress",t.DONE="done",t))(Ct||{});const Y4=({tasks:t,onTaskClick:e,onDistressSignal:n})=>{const[o,A]=_.useState(null),l=_.useMemo(()=>{const p=nz().innerRadius(80).outerRadius(160).padAngle(.02).cornerRadius(2);return Array.from({length:40},(g,b)=>{const B=b+1,C=b/40*2*Math.PI,E=(b+1)/40*2*Math.PI,I=t.find(D=>D.step_number===B),F=(I==null?void 0:I.status)===Ct.DONE,Q=(I==null?void 0:I.status)===Ct.IN_PROGRESS,j=(I==null?void 0:I.pace)||"walk";let P="#0f172a",V="",R="rgba(255,255,255,0.05)";F?(P="#EAB308",V="url(#glow-gold)",R="#FCD34D"):Q?j==="run"?(P="#DC2626",V="url(#glow-red)",R="#EF4444"):j==="walk"?(P="#F97316",V="url(#glow-orange)",R="#FB923C"):(P="#3B82F6",V="url(#glow-blue)",R="#60A5FA"):I&&(P="#1e293b",R="rgba(255,255,255,0.1)");const U=(C+E)/2;return{path:p({startAngle:C,endAngle:E}),color:P,filterId:V,stroke:R,step:B,task:I,isDoing:Q,pace:j,midAngle:U}})},[t]),c=_.useMemo(()=>o===null?null:l.find(p=>p.step===o),[o,l]),d=_.useMemo(()=>t.filter(g=>g.status===Ct.IN_PROGRESS).reduce((g,b)=>{const B=b.pace==="run"?3:b.pace==="walk"?2:1;return g+B},0),[t]),f=_.useMemo(()=>d>=9?{label:"OVERLOAD",colorClass:"text-red-500 border-red-500 shadow-red-500/50",barColor:"bg-red-500",pulse:!0}:d>=6?{label:"STRAIN",colorClass:"text-yellow-500 border-yellow-500 shadow-yellow-500/50",barColor:"bg-yellow-500",pulse:!1}:{label:"OPTIMAL",colorClass:"text-blue-500 border-blue-500 shadow-blue-500/50",barColor:"bg-blue-500",pulse:!1},[d]);return m.jsxs("div",{className:"flex flex-col items-center justify-center py-8 w-full max-w-md mx-auto",children:[m.jsxs("div",{className:"relative w-full aspect-square",children:[m.jsxs("svg",{viewBox:"0 0 450 450",className:"w-full h-full rotate-0 overflow-visible",children:[m.jsxs("defs",{children:[m.jsxs("filter",{id:"glow-gold",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[m.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"coloredBlur"}),m.jsxs("feMerge",{children:[m.jsx("feMergeNode",{in:"coloredBlur"}),m.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),m.jsxs("filter",{id:"glow-red",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[m.jsx("feGaussianBlur",{stdDeviation:"4.5",result:"coloredBlur"}),m.jsxs("feMerge",{children:[m.jsx("feMergeNode",{in:"coloredBlur"}),m.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),m.jsxs("filter",{id:"glow-orange",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[m.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"coloredBlur"}),m.jsxs("feMerge",{children:[m.jsx("feMergeNode",{in:"coloredBlur"}),m.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),m.jsxs("filter",{id:"glow-blue",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[m.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),m.jsxs("feMerge",{children:[m.jsx("feMergeNode",{in:"coloredBlur"}),m.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),m.jsx("g",{transform:"translate(225, 225)",children:l.map((p,g)=>m.jsxs("g",{className:"transition-opacity duration-300",children:[m.jsx("path",{d:p.path,fill:p.color,stroke:p.stroke,strokeWidth:"1",filter:p.isDoing?p.filterId:void 0,className:`cursor-pointer transition-all duration-300 hover:opacity-100 opacity-90 ${p.isDoing&&p.pace==="run"?"animate-pulse":""}`,onClick:()=>p.task&&(e==null?void 0:e(p.task)),onMouseEnter:()=>A(p.step),onMouseLeave:()=>A(null)}),m.jsx("text",{transform:`translate(${Math.cos(p.midAngle-Math.PI/2)*175}, ${Math.sin(p.midAngle-Math.PI/2)*175})`,textAnchor:"middle",alignmentBaseline:"middle",className:"fill-gray-600 text-[8px] font-mono pointer-events-none select-none",children:p.step}),p.isDoing&&m.jsx("circle",{cx:Math.cos(p.midAngle-Math.PI/2)*(240/2),cy:Math.sin(p.midAngle-Math.PI/2)*(240/2),r:3,fill:"#FFF",className:"animate-ping opacity-75"}),p.isDoing&&m.jsx("circle",{cx:Math.cos(p.midAngle-Math.PI/2)*(240/2),cy:Math.sin(p.midAngle-Math.PI/2)*(240/2),r:2,fill:"#FFF"})]},g))})]}),m.jsxs("div",{onClick:n,className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 rounded-full bg-gray-950 border-2 flex flex-col items-center justify-center cursor-pointer hover:scale-105 transition-transform z-10 ${f.pulse?"animate-pulse":""} ${f.colorClass.split(" ").filter(p=>p.startsWith("border")||p.startsWith("shadow")).join(" ")}`,style:{boxShadow:f.pulse?"0 0 20px":"0 0 10px"},children:[m.jsx("div",{className:"text-[9px] text-gray-500 font-mono tracking-widest uppercase mb-1",children:"BIO-MONITOR"}),m.jsx("div",{className:"text-4xl font-black text-white leading-none",children:d}),m.jsx("div",{className:"text-[9px] text-gray-400 font-mono mb-2",children:"STRAIN"}),m.jsx("div",{className:"w-16 h-1 bg-gray-800 rounded-full overflow-hidden",children:m.jsx("div",{className:`h-full transition-all duration-500 ${f.barColor}`,style:{width:`${Math.min(d/12*100,100)}%`}})}),m.jsx("div",{className:`text-[10px] font-bold tracking-widest mt-2 ${f.colorClass.split(" ").find(p=>p.startsWith("text"))}`,children:f.label})]}),c&&c.task&&m.jsxs("div",{className:"absolute top-0 right-0 z-50 w-48 bg-gray-950 border border-yellow-600/50 p-3 rounded shadow-2xl pointer-events-none backdrop-blur-md bg-opacity-90",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsxs("div",{className:"text-xs text-yellow-500 font-mono",children:["STEP ",c.step]}),m.jsx("div",{className:`w-2 h-2 rounded-full ${c.isDoing?"bg-green-500 animate-pulse":"bg-gray-700"}`})]}),m.jsx("div",{className:"text-sm font-bold text-white mb-2 leading-tight",children:c.task.title}),m.jsxs("div",{className:"flex gap-2 text-[10px] font-mono uppercase",children:[m.jsx("span",{className:"text-gray-400",children:c.task.status.replace("_"," ")}),c.pace&&m.jsx("span",{className:c.pace==="run"?"text-red-500":c.pace==="walk"?"text-orange-500":"text-blue-500",children:c.pace})]})]})]}),m.jsxs("div",{className:"flex justify-between w-full px-4 mt-4 border-t border-gray-800 pt-4",children:[m.jsxs("div",{className:"text-center group cursor-help",children:[m.jsx("div",{className:"text-[10px] font-bold text-yellow-500 tracking-[0.2em] mb-1 group-hover:text-yellow-400 transition-colors",children:"BUILD"}),m.jsx("div",{className:"text-[8px] text-gray-600 font-mono",children:"SEC 01-14"})]}),m.jsxs("div",{className:"text-center group cursor-help",children:[m.jsx("div",{className:"text-[10px] font-bold text-blue-500 tracking-[0.2em] mb-1 group-hover:text-blue-400 transition-colors",children:"MEASURE"}),m.jsx("div",{className:"text-[8px] text-gray-600 font-mono",children:"SEC 15-28"})]}),m.jsxs("div",{className:"text-center group cursor-help",children:[m.jsx("div",{className:"text-[10px] font-bold text-red-500 tracking-[0.2em] mb-1 group-hover:text-red-400 transition-colors",children:"LEARN"}),m.jsx("div",{className:"text-[8px] text-gray-600 font-mono",children:"SEC 29-40"})]})]})]})},rz=({tasks:t})=>m.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:m.jsx(Y4,{tasks:t,onTaskClick:e=>console.log("Task clicked",e),onDistressSignal:()=>console.log("Distress Signal!")})});function cr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sz=typeof Symbol=="function"&&Symbol.observable||"@@observable",CF=sz,xF=()=>Math.random().toString(36).substring(7).split("").join("."),iz={INIT:`@@redux/INIT${xF()}`,REPLACE:`@@redux/REPLACE${xF()}`},EF=iz;function oz(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function X4(t,e,n){if(typeof t!="function")throw new Error(cr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cr(1));return n(X4)(t,e)}let r=t,s=e,o=new Map,A=o,l=0,c=!1;function d(){A===o&&(A=new Map,o.forEach((E,I)=>{A.set(I,E)}))}function f(){if(c)throw new Error(cr(3));return s}function p(E){if(typeof E!="function")throw new Error(cr(4));if(c)throw new Error(cr(5));let I=!0;d();const F=l++;return A.set(F,E),function(){if(I){if(c)throw new Error(cr(6));I=!1,d(),A.delete(F),o=null}}}function g(E){if(!oz(E))throw new Error(cr(7));if(typeof E.type>"u")throw new Error(cr(8));if(typeof E.type!="string")throw new Error(cr(17));if(c)throw new Error(cr(9));try{c=!0,s=r(s,E)}finally{c=!1}return(o=A).forEach(F=>{F()}),E}function b(E){if(typeof E!="function")throw new Error(cr(10));r=E,g({type:EF.REPLACE})}function B(){const E=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(cr(11));function F(){const j=I;j.next&&j.next(f())}return F(),{unsubscribe:E(F)}},[CF](){return this}}}return g({type:EF.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:b,[CF]:B}}function _F(t,e){return function(...n){return e(t.apply(this,n))}}function SF(t,e){if(typeof t=="function")return _F(t,e);if(typeof t!="object"||t===null)throw new Error(cr(16));const n={};for(const r in t){const s=t[r];typeof s=="function"&&(n[r]=_F(s,e))}return n}function J4(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function az(...t){return e=>(n,r)=>{const s=e(n,r);let o=()=>{throw new Error(cr(15))};const A={getState:s.getState,dispatch:(c,...d)=>o(c,...d)},l=t.map(c=>c(A));return o=J4(...l)(s.dispatch),{...s,dispatch:o}}}var gb={exports:{}},mb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TF;function Az(){if(TF)return mb;TF=1;var t=of();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,o=t.useEffect,A=t.useMemo,l=t.useDebugValue;return mb.useSyncExternalStoreWithSelector=function(c,d,f,p,g){var b=s(null);if(b.current===null){var B={hasValue:!1,value:null};b.current=B}else B=b.current;b=A(function(){function E(P){if(!I){if(I=!0,F=P,P=p(P),g!==void 0&&B.hasValue){var V=B.value;if(g(V,P))return Q=V}return Q=P}if(V=Q,n(F,P))return V;var R=p(P);return g!==void 0&&g(V,R)?(F=P,V):(F=P,Q=R)}var I=!1,F,Q,j=f===void 0?null:f;return[function(){return E(d())},j===null?void 0:function(){return E(j())}]},[d,f,p,g]);var C=r(c,b[0],b[1]);return o(function(){B.hasValue=!0,B.value=C},[C]),l(C),C},mb}var IF;function lz(){return IF||(IF=1,gb.exports=Az()),gb.exports}lz();var cz=_.version.startsWith("19"),uz=Symbol.for(cz?"react.transitional.element":"react.element"),dz=Symbol.for("react.portal"),hz=Symbol.for("react.fragment"),fz=Symbol.for("react.strict_mode"),pz=Symbol.for("react.profiler"),gz=Symbol.for("react.consumer"),mz=Symbol.for("react.context"),Z4=Symbol.for("react.forward_ref"),yz=Symbol.for("react.suspense"),vz=Symbol.for("react.suspense_list"),cE=Symbol.for("react.memo"),wz=Symbol.for("react.lazy"),bz=Z4,Bz=cE;function Cz(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case uz:switch(t=t.type,t){case hz:case pz:case fz:case yz:case vz:return t;default:switch(t=t&&t.$$typeof,t){case mz:case Z4:case wz:case cE:return t;case gz:return t;default:return e}}case dz:return e}}}function xz(t){return Cz(t)===cE}function Ez(t,e,n,r,{areStatesEqual:s,areOwnPropsEqual:o,areStatePropsEqual:A}){let l=!1,c,d,f,p,g;function b(F,Q){return c=F,d=Q,f=t(c,d),p=e(r,d),g=n(f,p,d),l=!0,g}function B(){return f=t(c,d),e.dependsOnOwnProps&&(p=e(r,d)),g=n(f,p,d),g}function C(){return t.dependsOnOwnProps&&(f=t(c,d)),e.dependsOnOwnProps&&(p=e(r,d)),g=n(f,p,d),g}function E(){const F=t(c,d),Q=!A(F,f);return f=F,Q&&(g=n(f,p,d)),g}function I(F,Q){const j=!o(Q,d),P=!s(F,c,Q,d);return c=F,d=Q,j&&P?B():j?C():P?E():g}return function(Q,j){return l?I(Q,j):b(Q,j)}}function _z(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...s}){const o=e(t,s),A=n(t,s),l=r(t,s);return Ez(o,A,l,t,s)}function Sz(t,e){const n={};for(const r in t){const s=t[r];typeof s=="function"&&(n[r]=(...o)=>e(s(...o)))}return n}function ZB(t){return function(n){const r=t(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function UF(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function eO(t,e){return function(r,{displayName:s}){const o=function(l,c){return o.dependsOnOwnProps?o.mapToProps(l,c):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,c){o.mapToProps=t,o.dependsOnOwnProps=UF(t);let d=o(l,c);return typeof d=="function"&&(o.mapToProps=d,o.dependsOnOwnProps=UF(d),d=o(l,c)),d},o}}function uE(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function Tz(t){return t&&typeof t=="object"?ZB(e=>Sz(t,e)):t?typeof t=="function"?eO(t):uE(t,"mapDispatchToProps"):ZB(e=>({dispatch:e}))}function Iz(t){return t?typeof t=="function"?eO(t):uE(t,"mapStateToProps"):ZB(()=>({}))}function Uz(t,e,n){return{...n,...t,...e}}function Fz(t){return function(n,{displayName:r,areMergedPropsEqual:s}){let o=!1,A;return function(c,d,f){const p=t(c,d,f);return o?s(p,A)||(A=p):(o=!0,A=p),A}}}function Nz(t){return t?typeof t=="function"?Fz(t):uE(t,"mergeProps"):()=>Uz}function Rz(t){t()}function Qz(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Rz(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var FF={notify(){},get:()=>[]};function tO(t,e){let n,r=FF,s=0,o=!1;function A(C){f();const E=r.subscribe(C);let I=!1;return()=>{I||(I=!0,E(),p())}}function l(){r.notify()}function c(){B.onStateChange&&B.onStateChange()}function d(){return o}function f(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=Qz())}function p(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=FF)}function g(){o||(o=!0,f())}function b(){o&&(o=!1,p())}const B={addNestedSub:A,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>r};return B}var Dz=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oz=Dz(),Mz=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Lz=Mz(),kz=()=>Oz||Lz?_.useLayoutEffect:_.useEffect,Om=kz();function NF(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function yb(t,e){if(NF(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!NF(t[n[s]],e[n[s]]))return!1;return!0}var Pz={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Hz={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vz={[bz]:jz,[Bz]:nO};function RF(t){return xz(t)?nO:Vz[t.$$typeof]||Pz}var Kz=Object.defineProperty,Gz=Object.getOwnPropertyNames,QF=Object.getOwnPropertySymbols,zz=Object.getOwnPropertyDescriptor,Wz=Object.getPrototypeOf,DF=Object.prototype;function eC(t,e){if(typeof e!="string"){if(DF){const o=Wz(e);o&&o!==DF&&eC(t,o)}let n=Gz(e);QF&&(n=n.concat(QF(e)));const r=RF(t),s=RF(e);for(let o=0;o<n.length;++o){const A=n[o];if(!Hz[A]&&!(s&&s[A])&&!(r&&r[A])){const l=zz(e,A);try{Kz(t,A,l)}catch{}}}}return t}var vb=Symbol.for("react-redux-context"),wb=typeof globalThis<"u"?globalThis:{};function qz(){if(!_.createContext)return{};const t=wb[vb]??(wb[vb]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var rO=qz(),$z=[null,null];function Yz(t,e,n){Om(()=>t(...e),n)}function Xz(t,e,n,r,s,o){t.current=r,n.current=!1,s.current&&(s.current=null,o())}function Jz(t,e,n,r,s,o,A,l,c,d,f){if(!t)return()=>{};let p=!1,g=null;const b=()=>{if(p||!l.current)return;const C=e.getState();let E,I;try{E=r(C,s.current)}catch(F){I=F,g=F}I||(g=null),E===o.current?A.current||d():(o.current=E,c.current=E,A.current=!0,f())};return n.onStateChange=b,n.trySubscribe(),b(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function Zz(t,e){return t===e}function eW(t,e,n,{pure:r,areStatesEqual:s=Zz,areOwnPropsEqual:o=yb,areStatePropsEqual:A=yb,areMergedPropsEqual:l=yb,forwardRef:c=!1,context:d=rO}={}){const f=d,p=Iz(t),g=Tz(e),b=Nz(n),B=!!t;return E=>{const I=E.displayName||E.name||"Component",F=`Connect(${I})`,Q={shouldHandleStateChanges:B,displayName:F,wrappedComponentName:I,WrappedComponent:E,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:b,areStatesEqual:s,areStatePropsEqual:A,areOwnPropsEqual:o,areMergedPropsEqual:l};function j(R){const[U,D,L]=_.useMemo(()=>{const{reactReduxForwardedRef:Ft,...qr}=R;return[R.context,Ft,qr]},[R]),H=_.useMemo(()=>{let Ft=f;return U!=null&&U.Consumer,Ft},[U,f]),M=_.useContext(H),N=!!R.store&&!!R.store.getState&&!!R.store.dispatch,Y=!!M&&!!M.store,ce=N?R.store:M.store,W=Y?M.getServerState:ce.getState,se=_.useMemo(()=>_z(ce.dispatch,Q),[ce]),[ne,ve]=_.useMemo(()=>{if(!B)return $z;const Ft=tO(ce,N?void 0:M.subscription),qr=Ft.notifyNestedSubs.bind(Ft);return[Ft,qr]},[ce,N,M]),Se=_.useMemo(()=>N?M:{...M,subscription:ne},[N,M,ne]),G=_.useRef(void 0),re=_.useRef(L),Ae=_.useRef(void 0),ue=_.useRef(!1),ge=_.useRef(!1),Te=_.useRef(void 0);Om(()=>(ge.current=!0,()=>{ge.current=!1}),[]);const we=_.useMemo(()=>()=>Ae.current&&L===re.current?Ae.current:se(ce.getState(),L),[ce,L]),pt=_.useMemo(()=>qr=>ne?Jz(B,ce,ne,se,re,G,ue,ge,Ae,ve,qr):()=>{},[ne]);Yz(Xz,[re,G,ue,L,Ae,ve]);let Ke;try{Ke=_.useSyncExternalStore(pt,we,W?()=>se(W(),L):we)}catch(Ft){throw Te.current&&(Ft.message+=`
The error may be correlated with this previous error:
${Te.current.stack}

`),Ft}Om(()=>{Te.current=void 0,Ae.current=void 0,G.current=Ke});const hn=_.useMemo(()=>_.createElement(E,{...Ke,ref:D}),[D,E,Ke]);return _.useMemo(()=>B?_.createElement(H.Provider,{value:Se},hn):hn,[H,hn,Se])}const V=_.memo(j);if(V.WrappedComponent=E,V.displayName=j.displayName=F,c){const U=_.forwardRef(function(L,H){return _.createElement(V,{...L,reactReduxForwardedRef:H})});return U.displayName=F,U.WrappedComponent=E,eC(U,E)}return eC(V,E)}}var sO=eW;function tW(t){const{children:e,context:n,serverState:r,store:s}=t,o=_.useMemo(()=>{const c=tO(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),A=_.useMemo(()=>s.getState(),[s]);Om(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),A!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,A]);const l=n||rO;return _.createElement(l.Provider,{value:o},e)}var nW=tW,rW="Invariant failed";function sW(t,e){throw new Error(rW)}var Hs=function(e){var n=e.top,r=e.right,s=e.bottom,o=e.left,A=r-o,l=s-n,c={top:n,right:r,bottom:s,left:o,width:A,height:l,x:o,y:n,center:{x:(r+o)/2,y:(s+n)/2}};return c},dE=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},OF=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},iW=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},bb={top:0,right:0,bottom:0,left:0},hE=function(e){var n=e.borderBox,r=e.margin,s=r===void 0?bb:r,o=e.border,A=o===void 0?bb:o,l=e.padding,c=l===void 0?bb:l,d=Hs(dE(n,s)),f=Hs(OF(n,A)),p=Hs(OF(f,c));return{marginBox:d,borderBox:Hs(n),paddingBox:f,contentBox:p,margin:s,border:A,padding:c}},As=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&sW(),s},oW=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Mm=function(e,n){var r=e.borderBox,s=e.border,o=e.margin,A=e.padding,l=iW(r,n);return hE({borderBox:l,border:s,margin:o,padding:A})},Lm=function(e,n){return n===void 0&&(n=oW()),Mm(e,n)},iO=function(e,n){var r={top:As(n.marginTop),right:As(n.marginRight),bottom:As(n.marginBottom),left:As(n.marginLeft)},s={top:As(n.paddingTop),right:As(n.paddingRight),bottom:As(n.paddingBottom),left:As(n.paddingLeft)},o={top:As(n.borderTopWidth),right:As(n.borderRightWidth),bottom:As(n.borderBottomWidth),left:As(n.borderLeftWidth)};return hE({borderBox:e,margin:r,padding:s,border:o})},oO=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return iO(n,r)},Rh=function(e){var n=[],r=null,s=function(){for(var A=arguments.length,l=new Array(A),c=0;c<A;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},km.apply(null,arguments)}function aO(t,e){}aO.bind(null,"warn");aO.bind(null,"error");function xa(){}function aW(t,e){return{...t,...e}}function fs(t,e,n){const r=e.map(s=>{const o=aW(n,s.options);return t.addEventListener(s.eventName,s.fn,o),function(){t.removeEventListener(s.eventName,s.fn,o)}});return function(){r.forEach(o=>{o()})}}const AW="Invariant failed";class Pm extends Error{}Pm.prototype.toString=function(){return this.message};function fe(t,e){throw new Pm(AW)}let lW=class extends xe.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=xa,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Pm&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=fs(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Pm){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const cW=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Hm=t=>t+1,uW=t=>`
  You have lifted an item in position ${Hm(t.source.index)}
`,AO=(t,e)=>{const n=t.droppableId===e.droppableId,r=Hm(t.index),s=Hm(e.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${s}
  `},lO=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,dW=t=>{const e=t.destination;if(e)return AO(t.source,e);const n=t.combine;return n?lO(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},MF=t=>`
  The item has returned to its starting position
  of ${Hm(t.index)}
`,hW=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${MF(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${AO(t.source,e)}
    `:n?`
      You have dropped the item.
      ${lO(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${MF(t.source)}
  `},um={dragHandleUsageInstructions:cW,onDragStart:uW,onDragUpdate:dW,onDragEnd:hW};function fW(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function cO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!fW(t[n],e[n]))return!1;return!0}function rt(t,e){const n=_.useState(()=>({inputs:e,result:t()}))[0],r=_.useRef(!0),s=_.useRef(n),A=r.current||!!(e&&s.current.inputs&&cO(e,s.current.inputs))?s.current:{inputs:e,result:t()};return _.useEffect(()=>{r.current=!1,s.current=A},[A]),A.result}function Ie(t,e){return rt(()=>t,e)}const Fn={x:0,y:0},Vn=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Vr=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Ea=(t,e)=>t.x===e.x&&t.y===e.y,lu=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),el=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},Qh=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),LF=(t,e)=>Math.min(...e.map(n=>Qh(t,n))),uO=t=>e=>({x:t(e.x),y:t(e.y)});var pW=(t,e)=>{const n=Hs({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const pf=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),kF=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],gW={top:0,right:0,bottom:0,left:0},mW=(t,e)=>e?pf(t,e.scroll.diff.displacement):t,yW=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,vW=(t,e)=>e&&e.shouldClipSubject?pW(e.pageMarginBox,t):Hs(t);var Kc=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const s=mW(t.marginBox,r),o=yW(s,n,e),A=vW(o,r);return{page:t,withPlaceholder:e,active:A}},fE=(t,e)=>{t.frame||fe();const n=t.frame,r=Vr(e,n.scroll.initial),s=lu(r),o={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:s},max:n.scroll.max}},A=Kc({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o});return{...t,frame:o,subject:A}};function Un(t,e=cO){let n=null;function r(...s){if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;const o=t.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}const dO=Un(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),hO=Un(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Y0=Un(t=>Object.values(t)),wW=Un(t=>Object.values(t));var cu=Un((t,e)=>wW(e).filter(r=>t===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function pE(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function X0(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var J0=Un((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),bW=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!pE(s))return null;function A(b){const B={type:"COMBINE",combine:{draggableId:b,droppableId:n.descriptor.id}};return{...s,at:B}}const l=s.displaced.all,c=l.length?l[0]:null;if(t)return c?A(c):null;const d=J0(e,r);if(!c){if(!d.length)return null;const b=d[d.length-1];return A(b.descriptor.id)}const f=d.findIndex(b=>b.descriptor.id===c);f===-1&&fe();const p=f-1;if(p<0)return null;const g=d[p];return A(g.descriptor.id)},uu=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const fO={point:Fn,value:0},Dh={invisible:{},visible:{},all:[]},BW={displaced:Dh,displacedBy:fO,at:null};var ys=(t,e)=>n=>t<=n&&n<=e,pO=t=>{const e=ys(t.top,t.bottom),n=ys(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=e(r.top)||e(r.bottom),A=n(r.left)||n(r.right);if(o&&A)return!0;const c=r.top<t.top&&r.bottom>t.bottom,d=r.left<t.left&&r.right>t.right;return c&&d?!0:c&&A||d&&o}},CW=t=>{const e=ys(t.top,t.bottom),n=ys(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const gE={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},gO={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var xW=t=>e=>{const n=ys(e.top,e.bottom),r=ys(e.left,e.right);return s=>t===gE?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const EW=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:Fn;return pf(t,n)},_W=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,SW=(t,e,n)=>n(e)(t),mE=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const o=r?EW(t,e):t;return _W(o,e,s)&&SW(o,n,s)},TW=t=>mE({...t,isVisibleThroughFrameFn:pO}),mO=t=>mE({...t,isVisibleThroughFrameFn:CW}),IW=t=>mE({...t,isVisibleThroughFrameFn:xW(t.destination.axis)}),UW=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:s}=e;if(r[t])return!1;const o=s[t];return o?o.shouldAnimate:!0};function FW(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Hs(dE(n,r))}function Oh({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:s,last:o}){return t.reduce(function(l,c){const d=FW(c,n),f=c.descriptor.id;if(l.all.push(f),!TW({target:d,destination:e,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const g=UW(f,o,s),b={draggableId:f,shouldAnimate:g};return l.visible[f]=b,l},{all:[],visible:{},invisible:{}})}function NW(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function PF({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const s=NW(t,{inHomeList:e});return{displaced:Dh,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function jm({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:s,last:o,index:A,forceShouldAnimate:l}){const c=uu(t,n);if(A==null)return PF({insideDestination:e,inHomeList:c,displacedBy:s,destination:n});const d=e.find(B=>B.descriptor.index===A);if(!d)return PF({insideDestination:e,inHomeList:c,displacedBy:s,destination:n});const f=J0(t,e),p=e.indexOf(d),g=f.slice(p);return{displaced:Oh({afterDragging:g,destination:n,displacedBy:s,last:o,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:A}}}}function Qa(t,e){return!!e.effected[t]}var RW=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:s})=>{if(!e.isCombineEnabled)return null;const o=r.draggableId,l=n[o].descriptor.index;return Qa(o,s)?t?l:l-1:t?l+1:l},QW=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,o=t?s+1:s-1,A=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=e?l:l+1;return o<A||o>c?null:o},DW=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:s,insideDestination:o,previousImpact:A,viewport:l,afterCritical:c})=>{const d=A.at;if(d||fe(),d.type==="REORDER"){const p=QW({isMovingForward:t,isInHomeList:e,location:d.destination,insideDestination:o});return p==null?null:jm({draggable:n,insideDestination:o,destination:s,viewport:l,last:A.displaced,displacedBy:A.displacedBy,index:p})}const f=RW({isMovingForward:t,destination:s,displaced:A.displaced,draggables:r,combine:d.combine,afterCritical:c});return f==null?null:jm({draggable:n,insideDestination:o,destination:s,viewport:l,last:A.displaced,displacedBy:A.displacedBy,index:f})},OW=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const s=!!(t.visible[n]||t.invisible[n]);return Qa(n,e)?s?Fn:lu(r.point):s?r.point:Fn},MW=({afterCritical:t,impact:e,draggables:n})=>{const r=X0(e);r||fe();const s=r.draggableId,o=n[s].page.borderBox.center,A=OW({displaced:e.displaced,afterCritical:t,combineWith:s,displacedBy:e.displacedBy});return Vn(o,A)};const yO=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,LW=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,yE=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,HF=({axis:t,moveRelativeTo:e,isMoving:n})=>el(t.line,e.marginBox[t.end]+yO(t,n),yE(t,e.marginBox,n)),jF=({axis:t,moveRelativeTo:e,isMoving:n})=>el(t.line,e.marginBox[t.start]-LW(t,n),yE(t,e.marginBox,n)),kW=({axis:t,moveInto:e,isMoving:n})=>el(t.line,e.contentBox[t.start]+yO(t,n),yE(t,e.contentBox,n));var PW=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:s})=>{const o=cu(r.descriptor.id,n),A=e.page,l=r.axis;if(!o.length)return kW({axis:l,moveInto:r.page,isMoving:A});const{displaced:c,displacedBy:d}=t,f=c.all[0];if(f){const g=n[f];if(Qa(f,s))return jF({axis:l,moveRelativeTo:g.page,isMoving:A});const b=Mm(g.page,d.point);return jF({axis:l,moveRelativeTo:b,isMoving:A})}const p=o[o.length-1];if(p.descriptor.id===e.descriptor.id)return A.borderBox.center;if(Qa(p.descriptor.id,s)){const g=Mm(p.page,lu(s.displacedBy.point));return HF({axis:l,moveRelativeTo:g,isMoving:A})}return HF({axis:l,moveRelativeTo:p.page,isMoving:A})},tC=(t,e)=>{const n=t.frame;return n?Vn(e,n.scroll.diff.displacement):e};const HW=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:s})=>{const o=e.page.borderBox.center,A=t.at;return!n||!A?o:A.type==="REORDER"?PW({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s}):MW({impact:t,draggables:r,afterCritical:s})};var Z0=t=>{const e=HW(t),n=t.droppable;return n?tC(n,e):e},vO=(t,e)=>{const n=Vr(e,t.scroll.initial),r=lu(n);return{frame:Hs({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function VF(t,e){return t.map(n=>e[n])}function jW(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var VW=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:s})=>{const o=vO(e,Vn(e.scroll.current,s)),A=n.frame?fE(n,Vn(n.frame.scroll.current,s)):n,l=t.displaced,c=Oh({afterDragging:VF(l.all,r),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=Oh({afterDragging:VF(l.all,r),destination:A,displacedBy:t.displacedBy,viewport:e.frame,last:l,forceShouldAnimate:!1}),f={},p={},g=[l,c,d];return l.all.forEach(B=>{const C=jW(B,g);if(C){p[B]=C;return}f[B]=!0}),{...t,displaced:{all:l.all,invisible:f,visible:p}}},KW=(t,e)=>Vn(t.scroll.diff.displacement,e),vE=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=KW(n,t),s=Vr(r,e.page.borderBox.center);return Vn(e.client.borderBox.center,s)},wO=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:o=!1})=>{const A=Vr(n,t.page.borderBox.center),c={target:pf(t.page.borderBox,A),destination:e,withDroppableDisplacement:s,viewport:r};return o?IW(c):mO(c)},GW=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:s,viewport:o,previousPageBorderBoxCenter:A,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const d=cu(n.descriptor.id,r),f=uu(e,n),p=bW({isMovingForward:t,draggable:e,destination:n,insideDestination:d,previousImpact:s})||DW({isMovingForward:t,isInHomeList:f,draggable:e,draggables:r,destination:n,insideDestination:d,previousImpact:s,viewport:o,afterCritical:c});if(!p)return null;const g=Z0({impact:p,draggable:e,droppable:n,draggables:r,afterCritical:c});if(wO({draggable:e,destination:n,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:vE({pageBorderBoxCenter:g,draggable:e,viewport:o}),impact:p,scrollJumpRequest:null};const B=Vr(g,A),C=VW({impact:p,viewport:o,destination:n,draggables:r,maxScrollChange:B});return{clientSelection:l,impact:C,scrollJumpRequest:B}};const lr=t=>{const e=t.subject.active;return e||fe(),e};var zW=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:s})=>{const o=n.subject.active;if(!o)return null;const A=n.axis,l=ys(o[A.start],o[A.end]),c=Y0(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>pO(s.frame)(lr(f))).filter(f=>{const p=lr(f);return t?o[A.crossAxisEnd]<p[A.crossAxisEnd]:p[A.crossAxisStart]<o[A.crossAxisStart]}).filter(f=>{const p=lr(f),g=ys(p[A.start],p[A.end]);return l(p[A.start])||l(p[A.end])||g(o[A.start])||g(o[A.end])}).sort((f,p)=>{const g=lr(f)[A.crossAxisStart],b=lr(p)[A.crossAxisStart];return t?g-b:b-g}).filter((f,p,g)=>lr(f)[A.crossAxisStart]===lr(g[0])[A.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(f=>ys(lr(f)[A.start],lr(f)[A.end])(e[A.line]));return d.length===1?d[0]:d.length>1?d.sort((f,p)=>lr(f)[A.start]-lr(p)[A.start])[0]:c.sort((f,p)=>{const g=LF(e,kF(lr(f))),b=LF(e,kF(lr(p)));return g!==b?g-b:lr(f)[A.start]-lr(p)[A.start]})[0]};const KF=(t,e)=>{const n=t.page.borderBox.center;return Qa(t.descriptor.id,e)?Vr(n,e.displacedBy.point):n},WW=(t,e)=>{const n=t.page.borderBox;return Qa(t.descriptor.id,e)?pf(n,lu(e.displacedBy.point)):n};var qW=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:s})=>r.filter(A=>mO({target:WW(A,s),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((A,l)=>{const c=Qh(t,tC(n,KF(A,s))),d=Qh(t,tC(n,KF(l,s)));return c<d?-1:d<c?1:A.descriptor.index-l.descriptor.index})[0]||null,gf=Un(function(e,n){const r=n[e.line];return{value:r,point:el(e.line,r)}});const $W=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return el(r.line,e[r.line]);const s=t.subject.page.contentBox[r.size],c=cu(t.descriptor.id,n).reduce((d,f)=>d+f.client.marginBox[r.size],0)+e[r.line]-s;return c<=0?null:el(r.line,c)},bO=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),BO=(t,e,n)=>{const r=t.frame;uu(e,t)&&fe(),t.subject.withPlaceholder&&fe();const s=gf(t.axis,e.displaceBy).point,o=$W(t,s,n),A={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const f=Kc({page:t.subject.page,withPlaceholder:A,axis:t.axis,frame:t.frame});return{...t,subject:f}}const l=o?Vn(r.scroll.max,o):r.scroll.max,c=bO(r,l),d=Kc({page:t.subject.page,withPlaceholder:A,axis:t.axis,frame:c});return{...t,subject:d,frame:c}},YW=t=>{const e=t.subject.withPlaceholder;e||fe();const n=t.frame;if(!n){const A=Kc({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:A}}const r=e.oldFrameMaxScroll;r||fe();const s=bO(n,r),o=Kc({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return{...t,subject:o,frame:s}};var XW=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:s,destination:o,viewport:A,afterCritical:l})=>{if(!e){if(n.length)return null;const p={displaced:Dh,displacedBy:fO,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},g=Z0({impact:p,draggable:r,droppable:o,draggables:s,afterCritical:l}),b=uu(r,o)?o:BO(o,r,s);return wO({draggable:r,destination:b,newPageBorderBoxCenter:g,viewport:A.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const c=t[o.axis.line]<=e.page.borderBox.center[o.axis.line],d=(()=>{const p=e.descriptor.index;return e.descriptor.id===r.descriptor.id||c?p:p+1})(),f=gf(o.axis,r.displaceBy);return jm({draggable:r,insideDestination:n,destination:o,viewport:A,displacedBy:f,last:Dh,index:d})},JW=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:s,droppables:o,viewport:A,afterCritical:l})=>{const c=zW({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:o,viewport:A});if(!c)return null;const d=cu(c.descriptor.id,s),f=qW({pageBorderBoxCenter:e,viewport:A,destination:c,insideDestination:d,afterCritical:l}),p=XW({previousPageBorderBoxCenter:e,destination:c,draggable:n,draggables:s,moveRelativeTo:f,insideDestination:d,viewport:A,afterCritical:l});if(!p)return null;const g=Z0({impact:p,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:vE({pageBorderBoxCenter:g,draggable:n,viewport:A}),impact:p,scrollJumpRequest:null}},Kr=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const ZW=(t,e)=>{const n=Kr(t);return n?e[n]:null};var eq=({state:t,type:e})=>{const n=ZW(t.impact,t.dimensions.droppables),r=!!n,s=t.dimensions.droppables[t.critical.droppable.id],o=n||s,A=o.axis.direction,l=A==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||A==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(l&&!r)return null;const c=e==="MOVE_DOWN"||e==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,{draggables:p,droppables:g}=t.dimensions;return l?GW({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:d,destination:o,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):JW({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:d,isOver:o,draggables:p,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function NA(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function CO(t){const e=ys(t.top,t.bottom),n=ys(t.left,t.right);return function(s){return e(s.y)&&n(s.x)}}function tq(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function nq({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,s=n.map(o=>{const A=o.axis,l=el(o.axis.line,t.center[A.line],o.page.borderBox.center[A.crossAxisLine]);return{id:o.descriptor.id,distance:Qh(r,l)}}).sort((o,A)=>A.distance-o.distance);return s[0]?s[0].id:null}function rq({pageBorderBox:t,draggable:e,droppables:n}){const r=Y0(n).filter(s=>{if(!s.isEnabled)return!1;const o=s.subject.active;if(!o||!tq(t,o))return!1;if(CO(o)(t.center))return!0;const A=s.axis,l=o.center[A.crossAxisLine],c=t[A.crossAxisStart],d=t[A.crossAxisEnd],f=ys(o[A.crossAxisStart],o[A.crossAxisEnd]),p=f(c),g=f(d);return!p&&!g?!0:p?c<l:d>l});return r.length?r.length===1?r[0].descriptor.id:nq({pageBorderBox:t,draggable:e,candidates:r}):null}const xO=(t,e)=>Hs(pf(t,e));var sq=(t,e)=>{const n=t.frame;return n?xO(e,n.scroll.diff.value):e};function EO({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function iq({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var oq=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:s,viewport:o,afterCritical:A})=>{const l=n.axis,c=gf(n.axis,e.displaceBy),d=c.value,f=t[l.start],p=t[l.end],b=J0(e,r).find(C=>{const E=C.descriptor.id,I=C.page.borderBox.center[l.line],F=Qa(E,A),Q=EO({displaced:s,id:E});return F?Q?p<=I:f<I-d:Q?p<=I+d:f<I})||null,B=iq({draggable:e,closest:b,inHomeList:uu(e,n)});return jm({draggable:e,insideDestination:r,destination:n,viewport:o,last:s,displacedBy:c,index:B})};const aq=4;var Aq=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:s,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const A=r.axis,l=gf(r.axis,t.displaceBy),c=l.value,d=e[A.start],f=e[A.end],g=J0(t,s).find(B=>{const C=B.descriptor.id,E=B.page.borderBox,F=E[A.size]/aq,Q=Qa(C,o),j=EO({displaced:n.displaced,id:C});return Q?j?f>E[A.start]+F&&f<E[A.end]-F:d>E[A.start]-c+F&&d<E[A.end]-c-F:j?f>E[A.start]+c+F&&f<E[A.end]+c-F:d>E[A.start]+F&&d<E[A.end]-F});return g?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},_O=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:s,viewport:o,afterCritical:A})=>{const l=xO(e.page.borderBox,t),c=rq({pageBorderBox:l,draggable:e,droppables:r});if(!c)return BW;const d=r[c],f=cu(d.descriptor.id,n),p=sq(d,l);return Aq({pageBorderBoxWithDroppableScroll:p,draggable:e,previousImpact:s,destination:d,insideDestination:f,afterCritical:A})||oq({pageBorderBoxWithDroppableScroll:p,draggable:e,destination:d,insideDestination:f,last:s.displaced,viewport:o,afterCritical:A})},wE=(t,e)=>({...t,[e.descriptor.id]:e});const lq=({previousImpact:t,impact:e,droppables:n})=>{const r=Kr(t),s=Kr(e);if(!r||r===s)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const A=YW(o);return wE(n,A)};var cq=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:s})=>{const o=lq({previousImpact:r,impact:s,droppables:n}),A=Kr(s);if(!A)return o;const l=n[A];if(uu(t,l)||l.subject.withPlaceholder)return o;const c=BO(l,t,e);return wE(o,c)},ah=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:s,scrollJumpRequest:o})=>{const A=r||t.viewport,l=n||t.dimensions,c=e||t.current.client.selection,d=Vr(c,t.initial.client.selection),f={offset:d,selection:c,borderBoxCenter:Vn(t.initial.client.borderBoxCenter,d)},p={selection:Vn(f.selection,A.scroll.current),borderBoxCenter:Vn(f.borderBoxCenter,A.scroll.current),offset:Vn(f.offset,A.scroll.diff.value)},g={client:f,page:p};if(t.phase==="COLLECTING")return{...t,dimensions:l,viewport:A,current:g};const b=l.draggables[t.critical.draggable.id],B=s||_O({pageOffset:p.offset,draggable:b,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:A,afterCritical:t.afterCritical}),C=cq({draggable:b,impact:B,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:g,dimensions:{draggables:l.draggables,droppables:C},impact:B,viewport:A,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function uq(t,e){return t.map(n=>e[n])}var SO=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:s})=>{const o=t.displaced,A=uq(o.all,n),l=Oh({afterDragging:A,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:s,last:o});return{...t,displaced:l}},TO=({impact:t,draggable:e,droppable:n,draggables:r,viewport:s,afterCritical:o})=>{const A=Z0({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:o});return vE({pageBorderBoxCenter:A,draggable:e,viewport:s})},IO=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&fe();const r=t.impact,s=n||t.viewport,o=e||t.dimensions,{draggables:A,droppables:l}=o,c=A[t.critical.draggable.id],d=Kr(r);d||fe();const f=l[d],p=SO({impact:r,viewport:s,destination:f,draggables:A}),g=TO({impact:p,draggable:c,droppable:f,draggables:A,viewport:s,afterCritical:t.afterCritical});return ah({impact:p,clientSelection:g,state:t,dimensions:o,viewport:s})},dq=t=>({index:t.index,droppableId:t.droppableId}),UO=({draggable:t,home:e,draggables:n,viewport:r})=>{const s=gf(e.axis,t.displaceBy),o=cu(e.descriptor.id,n),A=o.indexOf(t);A===-1&&fe();const l=o.slice(A+1),c=l.reduce((g,b)=>(g[b.descriptor.id]=!0,g),{}),d={inVirtualList:e.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:Oh({afterDragging:l,destination:e,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:dq(t.descriptor)}},afterCritical:d}},hq=(t,e)=>({draggables:t.draggables,droppables:wE(t.droppables,e)}),fq=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=Mm(t.client,e),s=Lm(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:s}},pq=t=>{const e=t.frame;return e||fe(),e},gq=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(s=>{const o=s.descriptor.droppableId,A=e[o],c=pq(A).scroll.diff.value,d=Vn(r,c);return fq({draggable:s,offset:d,initialWindowScroll:n.scroll.initial})})},mq=({state:t,published:e})=>{const n=e.modified.map(I=>{const F=t.dimensions.droppables[I.droppableId];return fE(F,I.scroll)}),r={...t.dimensions.droppables,...dO(n)},s=hO(gq({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),o={...t.dimensions.draggables,...s};e.removals.forEach(I=>{delete o[I]});const A={droppables:r,draggables:o},l=Kr(t.impact),c=l?A.droppables[l]:null,d=A.draggables[t.critical.draggable.id],f=A.droppables[t.critical.droppable.id],{impact:p,afterCritical:g}=UO({draggable:d,home:f,draggables:o,viewport:t.viewport}),b=c&&c.isCombineEnabled?t.impact:p,B=_O({pageOffset:t.current.page.offset,draggable:A.draggables[t.critical.draggable.id],draggables:A.draggables,droppables:A.droppables,previousImpact:b,viewport:t.viewport,afterCritical:g}),C={...t,phase:"DRAGGING",impact:B,onLiftImpact:p,dimensions:A,afterCritical:g,forceShouldAnimate:!1};return t.phase==="COLLECTING"?C:{...C,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const nC=t=>t.movementMode==="SNAP",Bb=(t,e,n)=>{const r=hq(t.dimensions,e);return!nC(t)||n?ah({state:t,dimensions:r}):IO({state:t,dimensions:r})};function Cb(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const GF={phase:"IDLE",completed:null,shouldFlush:!1};var yq=(t=GF,e)=>{if(e.type==="FLUSH")return{...GF,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&fe();const{critical:n,clientSelection:r,viewport:s,dimensions:o,movementMode:A}=e.payload,l=o.draggables[n.draggable.id],c=o.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:Fn},f={client:d,page:{selection:Vn(d.selection,s.scroll.initial),borderBoxCenter:Vn(d.selection,s.scroll.initial),offset:Vn(d.selection,s.scroll.diff.value)}},p=Y0(o.droppables).every(C=>!C.isFixedOnPage),{impact:g,afterCritical:b}=UO({draggable:l,home:c,draggables:o.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:A,dimensions:o,initial:f,current:f,isWindowScrollAllowed:p,impact:g,afterCritical:b,onLiftImpact:g,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&fe(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||fe(),mq({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;NA(t)||fe();const{client:n}=e.payload;return Ea(n,t.current.client.selection)?t:ah({state:t,clientSelection:n,impact:nC(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Cb(t);NA(t)||fe();const{id:n,newScroll:r}=e.payload,s=t.dimensions.droppables[n];if(!s)return t;const o=fE(s,r);return Bb(t,o,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;NA(t)||fe();const{id:n,isEnabled:r}=e.payload,s=t.dimensions.droppables[n];s||fe(),s.isEnabled===r&&fe();const o={...s,isEnabled:r};return Bb(t,o,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;NA(t)||fe();const{id:n,isCombineEnabled:r}=e.payload,s=t.dimensions.droppables[n];s||fe(),s.isCombineEnabled===r&&fe();const o={...s,isCombineEnabled:r};return Bb(t,o,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;NA(t)||fe(),t.isWindowScrollAllowed||fe();const n=e.payload.newScroll;if(Ea(t.viewport.scroll.current,n))return Cb(t);const r=vO(t.viewport,n);return nC(t)?IO({state:t,viewport:r}):ah({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!NA(t))return t;const n=e.payload.maxScroll;if(Ea(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&fe();const n=eq({state:t,type:e.type});return n?ah({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&fe(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||fe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function ut(t,e){return t instanceof Object&&"type"in t&&t.type===e}const vq=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),wq=t=>({type:"LIFT",payload:t}),bq=t=>({type:"INITIAL_PUBLISH",payload:t}),Bq=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),Cq=()=>({type:"COLLECTION_STARTING",payload:null}),xq=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),Eq=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),_q=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),FO=t=>({type:"MOVE",payload:t}),Sq=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),Tq=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Iq=()=>({type:"MOVE_UP",payload:null}),Uq=()=>({type:"MOVE_DOWN",payload:null}),Fq=()=>({type:"MOVE_RIGHT",payload:null}),Nq=()=>({type:"MOVE_LEFT",payload:null}),bE=()=>({type:"FLUSH",payload:null}),Rq=t=>({type:"DROP_ANIMATE",payload:t}),BE=t=>({type:"DROP_COMPLETE",payload:t}),NO=t=>({type:"DROP",payload:t}),Qq=t=>({type:"DROP_PENDING",payload:t}),RO=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Dq=t=>({getState:e,dispatch:n})=>r=>s=>{if(!ut(s,"LIFT")){r(s);return}const{id:o,clientSelection:A,movementMode:l}=s.payload,c=e();c.phase==="DROP_ANIMATING"&&n(BE({completed:c.completed})),e().phase!=="IDLE"&&fe(),n(bE()),n(vq({draggableId:o,movementMode:l}));const f={draggableId:o,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:g,viewport:b}=t.startPublishing(f);n(bq({critical:p,dimensions:g,clientSelection:A,movementMode:l,viewport:b}))},Oq=t=>()=>e=>n=>{ut(n,"INITIAL_PUBLISH")&&t.dragging(),ut(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(ut(n,"FLUSH")||ut(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const CE={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Mh={opacity:{drop:0,combining:.7},scale:{drop:.75}},QO={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},_A=`${QO.outOfTheWay}s ${CE.outOfTheWay}`,Ah={fluid:`opacity ${_A}`,snap:`transform ${_A}, opacity ${_A}`,drop:t=>{const e=`${t}s ${CE.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${_A}`,placeholder:`height ${_A}, width ${_A}, margin ${_A}`},zF=t=>Ea(t,Fn)?void 0:`translate(${t.x}px, ${t.y}px)`,rC={moveTo:zF,drop:(t,e)=>{const n=zF(t);if(n)return e?`${n} scale(${Mh.scale.drop})`:n}},{minDropTime:sC,maxDropTime:DO}=QO,Mq=DO-sC,WF=1500,Lq=.6;var kq=({current:t,destination:e,reason:n})=>{const r=Qh(t,e);if(r<=0)return sC;if(r>=WF)return DO;const s=r/WF,o=sC+Mq*s,A=n==="CANCEL"?o*Lq:o;return Number(A.toFixed(2))},Pq=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:o,droppables:A}=n,l=Kr(t),c=l?A[l]:null,d=A[e.descriptor.droppableId],f=TO({impact:t,draggable:e,draggables:o,afterCritical:s,droppable:c||d,viewport:r});return Vr(f,e.client.borderBox.center)},Hq=({draggables:t,reason:e,lastImpact:n,home:r,viewport:s,onLiftImpact:o})=>!n.at||e!=="DROP"?{impact:SO({draggables:t,impact:o,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Dh},didDropInsideDroppable:!0};const jq=({getState:t,dispatch:e})=>n=>r=>{if(!ut(r,"DROP")){n(r);return}const s=t(),o=r.payload.reason;if(s.phase==="COLLECTING"){e(Qq({reason:o}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&fe(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||fe();const l=s.critical,c=s.dimensions,d=c.draggables[s.critical.draggable.id],{impact:f,didDropInsideDroppable:p}=Hq({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),g=p?pE(f):null,b=p?X0(f):null,B={index:l.draggable.index,droppableId:l.droppable.id},C={draggableId:d.descriptor.id,type:d.descriptor.type,source:B,reason:o,mode:s.movementMode,destination:g,combine:b},E=Pq({impact:f,draggable:d,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),I={critical:s.critical,afterCritical:s.afterCritical,result:C,impact:f};if(!(!Ea(s.current.client.offset,E)||!!C.combine)){e(BE({completed:I}));return}const Q=kq({current:s.current.client.offset,destination:E,reason:o});e(Rq({newHomeClientOffset:E,dropDuration:Q,completed:I}))};var OO=()=>({x:window.pageXOffset,y:window.pageYOffset});function Vq(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function Kq({onWindowScroll:t}){function e(){t(OO())}const n=Rh(e),r=Vq(n);let s=xa;function o(){return s!==xa}function A(){o()&&fe(),s=fs(window,[r])}function l(){o()||fe(),n.cancel(),s(),s=xa}return{start:A,stop:l,isActive:o}}const Gq=t=>ut(t,"DROP_COMPLETE")||ut(t,"DROP_ANIMATE")||ut(t,"FLUSH"),zq=t=>{const e=Kq({onWindowScroll:n=>{t.dispatch(Sq({newScroll:n}))}});return n=>r=>{!e.isActive()&&ut(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&Gq(r)&&e.stop(),n(r)}};var Wq=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o=>{e||n||(e=!0,t(o),clearTimeout(r))};return s.wasCalled=()=>e,s},qq=()=>{const t=[],e=s=>{const o=t.findIndex(l=>l.timerId===s);o===-1&&fe();const[A]=t.splice(o,1);A.callback()};return{add:s=>{const o=setTimeout(()=>e(o)),A={timerId:o,callback:s};t.push(A)},flush:()=>{if(!t.length)return;const s=[...t];t.length=0,s.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const $q=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,Yq=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,Xq=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},Nd=(t,e)=>{e()},wg=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function xb(t,e,n,r){if(!t){n(r(e));return}const s=Wq(n);t(e,{announce:s}),s.wasCalled()||n(r(e))}var Jq=(t,e)=>{const n=qq();let r=null;const s=(p,g)=>{r&&fe(),Nd("onBeforeCapture",()=>{const b=t().onBeforeCapture;b&&b({draggableId:p,mode:g})})},o=(p,g)=>{r&&fe(),Nd("onBeforeDragStart",()=>{const b=t().onBeforeDragStart;b&&b(wg(p,g))})},A=(p,g)=>{r&&fe();const b=wg(p,g);r={mode:g,lastCritical:p,lastLocation:b.source,lastCombine:null},n.add(()=>{Nd("onDragStart",()=>xb(t().onDragStart,b,e,um.onDragStart))})},l=(p,g)=>{const b=pE(g),B=X0(g);r||fe();const C=!Xq(p,r.lastCritical);C&&(r.lastCritical=p);const E=!$q(r.lastLocation,b);E&&(r.lastLocation=b);const I=!Yq(r.lastCombine,B);if(I&&(r.lastCombine=B),!C&&!E&&!I)return;const F={...wg(p,r.mode),combine:B,destination:b};n.add(()=>{Nd("onDragUpdate",()=>xb(t().onDragUpdate,F,e,um.onDragUpdate))})},c=()=>{r||fe(),n.flush()},d=p=>{r||fe(),r=null,Nd("onDragEnd",()=>xb(t().onDragEnd,p,e,um.onDragEnd))};return{beforeCapture:s,beforeStart:o,start:A,update:l,flush:c,drop:d,abort:()=>{if(!r)return;const p={...wg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},Zq=(t,e)=>{const n=Jq(t,e);return r=>s=>o=>{if(ut(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(ut(o,"INITIAL_PUBLISH")){const l=o.payload.critical;n.beforeStart(l,o.payload.movementMode),s(o),n.start(l,o.payload.movementMode);return}if(ut(o,"DROP_COMPLETE")){const l=o.payload.completed.result;n.flush(),s(o),n.drop(l);return}if(s(o),ut(o,"FLUSH")){n.abort();return}const A=r.getState();A.phase==="DRAGGING"&&n.update(A.critical,A.impact)}};const e$=t=>e=>n=>{if(!ut(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&fe(),t.dispatch(BE({completed:r.completed}))},t$=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return s=>o=>{if((ut(o,"FLUSH")||ut(o,"DROP_COMPLETE")||ut(o,"DROP_ANIMATION_FINISHED"))&&r(),s(o),!ut(o,"DROP_ANIMATE"))return;const A={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(RO())}};n=requestAnimationFrame(()=>{n=null,e=fs(window,[A])})}};var n$=t=>()=>e=>n=>{(ut(n,"DROP_COMPLETE")||ut(n,"FLUSH")||ut(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},r$=t=>{let e=!1;return()=>n=>r=>{if(ut(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(ut(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(ut(r,"DROP_COMPLETE")){e=!1;const s=r.payload.completed.result;s.combine&&t.tryShiftRecord(s.draggableId,s.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const s$=t=>ut(t,"DROP_COMPLETE")||ut(t,"DROP_ANIMATE")||ut(t,"FLUSH");var i$=t=>e=>n=>r=>{if(s$(r)){t.stop(),n(r);return}if(ut(r,"INITIAL_PUBLISH")){n(r);const s=e.getState();s.phase!=="DRAGGING"&&fe(),t.start(s);return}n(r),t.scroll(e.getState())};const o$=t=>e=>n=>{if(e(n),!ut(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(NO({reason:r.reason})))},a$=J4;var A$=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:s,autoScroller:o})=>X4(yq,a$(az(Oq(n),n$(t),Dq(t),jq,e$,t$,o$,i$(o),zq,r$(e),Zq(r,s))));const Eb=()=>({additions:{},removals:{},modified:{}});function l$({registry:t,callbacks:e}){let n=Eb(),r=null;const s=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:f}=n,p=Object.keys(c).map(B=>t.draggable.getById(B).getDimension(Fn)).sort((B,C)=>B.descriptor.index-C.descriptor.index),g=Object.keys(f).map(B=>{const E=t.droppable.getById(B).callbacks.getScrollWhileDragging();return{droppableId:B,scroll:E}}),b={additions:p,removals:Object.keys(d),modified:g};n=Eb(),e.publish(b)}))};return{add:c=>{const d=c.descriptor.id;n.additions[d]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],s()},remove:c=>{const d=c.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Eb())}}}var MO=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const s=Vr({x:e,y:t},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},LO=()=>{const t=document.documentElement;return t||fe(),t},kO=()=>{const t=LO();return MO({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},c$=()=>{const t=OO(),e=kO(),n=t.y,r=t.x,s=LO(),o=s.clientWidth,A=s.clientHeight,l=r+o,c=n+A;return{frame:Hs({top:n,left:r,right:l,bottom:c}),scroll:{initial:t,current:t,max:e,diff:{value:Fn,displacement:Fn}}}},u$=({critical:t,scrollOptions:e,registry:n})=>{const r=c$(),s=r.scroll.current,o=t.droppable,A=n.droppable.getAllByType(o.type).map(f=>f.callbacks.getDimensionAndWatchScroll(s,e)),l=n.draggable.getAllByType(t.draggable.type).map(f=>f.getDimension(s));return{dimensions:{draggables:hO(l),droppables:dO(A)},critical:t,viewport:r}};function qF(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var d$=(t,e)=>{let n=null;const r=l$({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),s=(g,b)=>{t.droppable.exists(g)||fe(),n&&e.updateDroppableIsEnabled({id:g,isEnabled:b})},o=(g,b)=>{n&&(t.droppable.exists(g)||fe(),e.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:b}))},A=(g,b)=>{n&&(t.droppable.exists(g)||fe(),e.updateDroppableScroll({id:g,newScroll:b}))},l=(g,b)=>{n&&t.droppable.getById(g).callbacks.scroll(b)},c=()=>{if(!n)return;r.stop();const g=n.critical.droppable;t.droppable.getAllByType(g.type).forEach(b=>b.callbacks.dragStopped()),n.unsubscribe(),n=null},d=g=>{n||fe();const b=n.critical.draggable;g.type==="ADDITION"&&qF(t,b,g.value)&&r.add(g.value),g.type==="REMOVAL"&&qF(t,b,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:o,scrollDroppable:l,updateDroppableScroll:A,startPublishing:g=>{n&&fe();const b=t.draggable.getById(g.draggableId),B=t.droppable.getById(b.descriptor.droppableId),C={draggable:b.descriptor,droppable:B.descriptor},E=t.subscribe(d);return n={critical:C,unsubscribe:E},u$({critical:C,registry:t,scrollOptions:g.scrollOptions})},stopPublishing:c}},PO=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",h$=t=>{window.scrollBy(t.x,t.y)};const f$=Un(t=>Y0(t).filter(e=>!(!e.isEnabled||!e.frame))),p$=(t,e)=>f$(e).find(r=>(r.frame||fe(),CO(r.frame.pageMarginBox)(t)))||null;var g$=({center:t,destination:e,droppables:n})=>{if(e){const s=n[e];return s.frame?s:null}return p$(t,n)};const Lh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var m$=(t,e,n=()=>Lh)=>{const r=n(),s=t[e.size]*r.startFromPercentage,o=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:o}},HO=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},xE=1,y$=(t,e,n=()=>Lh)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return xE;const o=1-HO({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),A=r.maxPixelScroll*r.ease(o);return Math.ceil(A)},v$=(t,e,n)=>{const r=n(),s=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,A=e,l=o,d=Date.now()-A;if(d>=o)return t;if(d<s)return xE;const f=HO({startOfRange:s,endOfRange:l,current:d}),p=t*r.ease(f);return Math.ceil(p)},$F=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=y$(t,e,s);return o===0?0:r?Math.max(v$(o,n,s),xE):o},YF=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const A=m$(t,r,o);return e[r.end]<e[r.start]?$F({distanceToEdge:e[r.end],thresholds:A,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o}):-1*$F({distanceToEdge:e[r.start],thresholds:A,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o})},w$=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,s=e.width>t.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const b$=uO(t=>t===0?0:t);var jO=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const A={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},l=YF({container:e,distanceToEdges:A,dragStartTime:t,axis:gE,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),c=YF({container:e,distanceToEdges:A,dragStartTime:t,axis:gO,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),d=b$({x:c,y:l});if(Ea(d,Fn))return null;const f=w$({container:e,subject:n,proposedScroll:d});return f?Ea(f,Fn)?null:f:null};const B$=uO(t=>t===0?0:t>0?1:-1),EE=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const s=Vn(e,r),o={x:t(s.x,n.x),y:t(s.y,n.y)};return Ea(o,Fn)?null:o}})(),VO=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},s=B$(n),o=EE({max:r,current:e,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},_E=(t,e)=>VO({current:t.scroll.current,max:t.scroll.max,change:e}),C$=(t,e)=>{if(!_E(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return EE({current:r,max:n,change:e})},SE=(t,e)=>{const n=t.frame;return n?VO({current:n.scroll.current,max:n.scroll.max,change:e}):!1},x$=(t,e)=>{const n=t.frame;return!n||!SE(t,e)?null:EE({current:n.scroll.current,max:n.scroll.max,change:e})};var E$=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const A=jO({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return A&&_E(t,A)?A:null},_$=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const A=t.frame;if(!A)return null;const l=jO({dragStartTime:r,container:A.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return l&&SE(t,l)?l:null},XF=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:o})=>{const A=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const p=t.viewport,g=E$({dragStartTime:e,viewport:p,subject:c,center:A,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(g){r(g);return}}const d=g$({center:A,destination:Kr(t.impact),droppables:t.dimensions.droppables});if(!d)return;const f=_$({dragStartTime:e,droppable:d,subject:c,center:A,shouldUseTimeDampening:n,getAutoScrollerOptions:o});f&&s(d.descriptor.id,f)},S$=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>Lh})=>{const r=Rh(t),s=Rh(e);let o=null;const A=d=>{o||fe();const{shouldUseTimeDampening:f,dragStartTime:p}=o;XF({state:d,scrollWindow:r,scrollDroppable:s,dragStartTime:p,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:d=>{o&&fe();const f=Date.now();let p=!1;const g=()=>{p=!0};XF({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),o={dragStartTime:f,shouldUseTimeDampening:p},p&&A(d)},stop:()=>{o&&(r.cancel(),s.cancel(),o=null)},scroll:A}},T$=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(l,c)=>{const d=Vn(l.current.client.selection,c);t({client:d})},s=(l,c)=>{if(!SE(l,c))return c;const d=x$(l,c);if(!d)return e(l.descriptor.id,c),null;const f=Vr(c,d);return e(l.descriptor.id,f),Vr(c,f)},o=(l,c,d)=>{if(!l||!_E(c,d))return d;const f=C$(c,d);if(!f)return n(d),null;const p=Vr(d,f);return n(p),Vr(d,p)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Kr(l.impact);d||fe();const f=s(l.dimensions.droppables[d],c);if(!f)return;const p=l.viewport,g=o(l.isWindowScrollAllowed,p,f);g&&r(l,g)}},I$=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const s=S$({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),o=T$({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&o(c)}},start:s.start,stop:s.stop}};const Gc="data-rfd",zc=(()=>{const t=`${Gc}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),iC=(()=>{const t=`${Gc}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),U$=(()=>{const t=`${Gc}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),JF={contextId:`${Gc}-scroll-container-context-id`},F$=t=>e=>`[${e}="${t}"]`,Rd=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),N$="pointer-events: none;";var R$=t=>{const e=F$(t),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(zc.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:N$,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Ah.outOfTheWay};
    `;return{selector:e(iC.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:e(U$.contextId),styles:{always:"overflow-anchor: none;"}},A=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Rd(A,"always"),resting:Rd(A,"resting"),dragging:Rd(A,"dragging"),dropAnimating:Rd(A,"dropAnimating"),userCancel:Rd(A,"userCancel")}};const Gr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect,_b=()=>{const t=document.querySelector("head");return t||fe(),t},ZF=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function Q$(t,e){const n=rt(()=>R$(t),[t]),r=_.useRef(null),s=_.useRef(null),o=Ie(Un(p=>{const g=s.current;g||fe(),g.textContent=p}),[]),A=Ie(p=>{const g=r.current;g||fe(),g.textContent=p},[]);Gr(()=>{!r.current&&!s.current||fe();const p=ZF(e),g=ZF(e);return r.current=p,s.current=g,p.setAttribute(`${Gc}-always`,t),g.setAttribute(`${Gc}-dynamic`,t),_b().appendChild(p),_b().appendChild(g),A(n.always),o(n.resting),()=>{const b=B=>{const C=B.current;C||fe(),_b().removeChild(C),B.current=null};b(r),b(s)}},[e,A,o,n.always,n.resting,t]);const l=Ie(()=>o(n.dragging),[o,n.dragging]),c=Ie(p=>{if(p==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),d=Ie(()=>{s.current&&o(n.resting)},[o,n.resting]);return rt(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function KO(t,e){return Array.from(t.querySelectorAll(e))}var GO=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function ey(t){return t instanceof GO(t).HTMLElement}function D$(t,e){const n=`[${zc.contextId}="${t}"]`,r=KO(document,n);if(!r.length)return null;const s=r.find(o=>o.getAttribute(zc.draggableId)===e);return!s||!ey(s)?null:s}function O$(t){const e=_.useRef({}),n=_.useRef(null),r=_.useRef(null),s=_.useRef(!1),o=Ie(function(g,b){const B={id:g,focus:b};return e.current[g]=B,function(){const E=e.current;E[g]!==B&&delete E[g]}},[]),A=Ie(function(g){const b=D$(t,g);b&&b!==document.activeElement&&b.focus()},[t]),l=Ie(function(g,b){n.current===g&&(n.current=b)},[]),c=Ie(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&A(g)}))},[A]),d=Ie(function(g){n.current=null;const b=document.activeElement;b&&b.getAttribute(zc.draggableId)===g&&(n.current=g)},[]);return Gr(()=>(s.current=!0,function(){s.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),rt(()=>({register:o,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[o,d,c,l])}function M$(){const t={draggables:{},droppables:{}},e=[];function n(p){return e.push(p),function(){const b=e.indexOf(p);b!==-1&&e.splice(b,1)}}function r(p){e.length&&e.forEach(g=>g(p))}function s(p){return t.draggables[p]||null}function o(p){const g=s(p);return g||fe(),g}const A={register:p=>{t.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,g)=>{const b=t.draggables[g.descriptor.id];b&&b.uniqueId===p.uniqueId&&(delete t.draggables[g.descriptor.id],t.draggables[p.descriptor.id]=p)},unregister:p=>{const g=p.descriptor.id,b=s(g);b&&p.uniqueId===b.uniqueId&&(delete t.draggables[g],t.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:o,findById:s,exists:p=>!!s(p),getAllByType:p=>Object.values(t.draggables).filter(g=>g.descriptor.type===p)};function l(p){return t.droppables[p]||null}function c(p){const g=l(p);return g||fe(),g}const d={register:p=>{t.droppables[p.descriptor.id]=p},unregister:p=>{const g=l(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete t.droppables[p.descriptor.id]},getById:c,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(t.droppables).filter(g=>g.descriptor.type===p)};function f(){t.draggables={},t.droppables={},e.length=0}return{draggable:A,droppable:d,subscribe:n,clean:f}}function L$(){const t=rt(M$,[]);return _.useEffect(()=>function(){t.clean()},[t]),t}var TE=xe.createContext(null),Vm=()=>{const t=document.body;return t||fe(),t};const k$={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},P$=t=>`rfd-announcement-${t}`;function H$(t){const e=rt(()=>P$(t),[t]),n=_.useRef(null);return _.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),km(o.style,k$),Vm().appendChild(o),function(){setTimeout(function(){const c=Vm();c.contains(o)&&c.removeChild(o),o===n.current&&(n.current=null)})}},[e]),Ie(s=>{const o=n.current;if(o){o.textContent=s;return}},[])}const j$={separator:"::"};function IE(t,e=j$){const n=xe.useId();return rt(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function V$({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function K$({contextId:t,text:e}){const n=IE("hidden-text",{separator:"-"}),r=rt(()=>V$({contextId:t,uniqueId:n}),[n,t]);return _.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=e,o.style.display="none",Vm().appendChild(o),function(){const l=Vm();l.contains(o)&&l.removeChild(o)}},[r,e]),r}var ty=xe.createContext(null);function zO(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),e}function G$(){let t=null;function e(){return!!t}function n(A){return A===t}function r(A){t&&fe();const l={abandon:A};return t=l,l}function s(){t||fe(),t=null}function o(){t&&(t.abandon(),s())}return{isClaimed:e,isActive:n,claim:r,release:s,tryAbandon:o}}function kh(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const z$=9,W$=13,UE=27,WO=32,q$=33,$$=34,Y$=35,X$=36,J$=37,Z$=38,eY=39,tY=40,nY={[W$]:!0,[z$]:!0};var qO=t=>{nY[t.keyCode]&&t.preventDefault()};const ny=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),$O=0,e2=5;function rY(t,e){return Math.abs(e.x-t.x)>=e2||Math.abs(e.y-t.y)>=e2}const t2={type:"IDLE"};function sY({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:o,clientX:A,clientY:l}=s;if(o!==$O)return;const c={x:A,y:l},d=n();if(d.type==="DRAGGING"){s.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&fe();const f=d.point;if(!rY(f,c))return;s.preventDefault();const p=d.actions.fluidLift(c);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:s=>{const o=n();if(o.type!=="DRAGGING"){t();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){t();return}if(s.keyCode===UE){s.preventDefault(),t();return}qO(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:s=>{const o=n();if(o.type==="IDLE"&&fe(),o.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:ny,fn:t}]}function iY(t){const e=_.useRef(t2),n=_.useRef(xa),r=rt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==$O||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const g=t.findClosestDraggableId(p);if(!g)return;const b=t.tryGetLock(g,A,{sourceEvent:p});if(!b)return;p.preventDefault();const B={x:p.clientX,y:p.clientY};n.current(),d(b,B)}}),[t]),s=rt(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const p=t.findClosestDraggableId(f);if(!p)return;const g=t.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||t.canGetLock(p)&&f.preventDefault())}}),[t]),o=Ie(function(){const p={passive:!1,capture:!0};n.current=fs(window,[s,r],p)},[s,r]),A=Ie(()=>{e.current.type!=="IDLE"&&(e.current=t2,n.current(),o())},[o]),l=Ie(()=>{const f=e.current;A(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[A]),c=Ie(function(){const p={capture:!0,passive:!1},g=sY({cancel:l,completed:A,getPhase:()=>e.current,setPhase:b=>{e.current=b}});n.current=fs(window,g,p)},[l,A]),d=Ie(function(p,g){e.current.type!=="IDLE"&&fe(),e.current={type:"PENDING",point:g,actions:p},c()},[c]);Gr(function(){return o(),function(){n.current()}},[o])}function oY(){}const aY={[$$]:!0,[q$]:!0,[X$]:!0,[Y$]:!0};function AY(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===UE){s.preventDefault(),n();return}if(s.keyCode===WO){s.preventDefault(),r();return}if(s.keyCode===tY){s.preventDefault(),t.moveDown();return}if(s.keyCode===Z$){s.preventDefault(),t.moveUp();return}if(s.keyCode===eY){s.preventDefault(),t.moveRight();return}if(s.keyCode===J$){s.preventDefault(),t.moveLeft();return}if(aY[s.keyCode]){s.preventDefault();return}qO(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ny,fn:n}]}function lY(t){const e=_.useRef(oY),n=rt(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==WO)return;const A=t.findClosestDraggableId(o);if(!A)return;const l=t.tryGetLock(A,f,{sourceEvent:o});if(!l)return;o.preventDefault();let c=!0;const d=l.snapLift();e.current();function f(){c||fe(),c=!1,e.current(),r()}e.current=fs(window,AY(d,f),{capture:!0,passive:!1})}}),[t]),r=Ie(function(){const o={passive:!1,capture:!0};e.current=fs(window,[n],o)},[n]);Gr(function(){return r(),function(){e.current()}},[r])}const Sb={type:"IDLE"},cY=120,uY=.15;function dY({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===UE&&n.preventDefault(),t()}},{eventName:ny,fn:t}]}function hY({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;const{clientX:o,clientY:A}=r.touches[0],l={x:o,y:A};r.preventDefault(),s.actions.move(l)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){t();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&fe();const o=r.touches[0];if(!o||!(o.force>=uY))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&t();return}if(l){if(s.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:ny,fn:t}]}function fY(t){const e=_.useRef(Sb),n=_.useRef(xa),r=Ie(function(){return e.current},[]),s=Ie(function(b){e.current=b},[]),o=rt(()=>({eventName:"touchstart",fn:function(b){if(b.defaultPrevented)return;const B=t.findClosestDraggableId(b);if(!B)return;const C=t.tryGetLock(B,l,{sourceEvent:b});if(!C)return;const E=b.touches[0],{clientX:I,clientY:F}=E,Q={x:I,y:F};n.current(),p(C,Q)}}),[t]),A=Ie(function(){const b={capture:!0,passive:!1};n.current=fs(window,[o],b)},[o]),l=Ie(()=>{const g=e.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),s(Sb),n.current(),A())},[A,s]),c=Ie(()=>{const g=e.current;l(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[l]),d=Ie(function(){const b={capture:!0,passive:!1},B={cancel:c,completed:l,getPhase:r},C=fs(window,hY(B),b),E=fs(window,dY(B),b);n.current=function(){C(),E()}},[c,r,l]),f=Ie(function(){const b=r();b.type!=="PENDING"&&fe();const B=b.actions.fluidLift(b.point);s({type:"DRAGGING",actions:B,hasMoved:!1})},[r,s]),p=Ie(function(b,B){r().type!=="IDLE"&&fe();const C=setTimeout(f,cY);s({type:"PENDING",point:B,actions:b,longPressTimerId:C}),d()},[d,r,s,f]);Gr(function(){return A(),function(){n.current();const B=r();B.type==="PENDING"&&(clearTimeout(B.longPressTimerId),s(Sb))}},[r,A,s]),Gr(function(){return fs(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const pY=["input","button","textarea","select","option","optgroup","video","audio"];function YO(t,e){if(e==null)return!1;if(pY.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:YO(t,e.parentElement)}function gY(t,e){const n=e.target;return ey(n)?YO(t,n):!1}var mY=t=>Hs(t.getBoundingClientRect()).center;function yY(t){return t instanceof GO(t).Element}const vY=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function XO(t,e){return t==null?null:t[vY](e)?t:XO(t.parentElement,e)}function wY(t,e){return t.closest?t.closest(e):XO(t,e)}function bY(t){return`[${zc.contextId}="${t}"]`}function BY(t,e){const n=e.target;if(!yY(n))return null;const r=bY(t),s=wY(n,r);return!s||!ey(s)?null:s}function CY(t,e){const n=BY(t,e);return n?n.getAttribute(zc.draggableId):null}function xY(t,e){const n=`[${iC.contextId}="${t}"]`,s=KO(document,n).find(o=>o.getAttribute(iC.id)===e);return!s||!ey(s)?null:s}function EY(t){t.preventDefault()}function bg({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function JO({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!PO(e.getState(),r))}function _Y({lockAPI:t,contextId:e,store:n,registry:r,draggableId:s,forceSensorStop:o,sourceEvent:A}){if(!JO({lockAPI:t,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),d=xY(e,c.descriptor.id);if(!d||A&&!c.options.canDragInteractiveElements&&gY(d,A))return null;const f=t.claim(o||xa);let p="PRE_DRAG";function g(){return c.options.shouldRespectForcePress}function b(){return t.isActive(f)}function B(P,V){bg({expected:P,phase:p,isLockActive:b,shouldWarn:!0})&&n.dispatch(V())}const C=B.bind(null,"DRAGGING");function E(P){function V(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(V(),fe()),n.dispatch(wq(P.liftActionArgs)),p="DRAGGING";function R(U,D={shouldBlockNextClick:!1}){if(P.cleanup(),D.shouldBlockNextClick){const L=fs(window,[{eventName:"click",fn:EY,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(L)}V(),n.dispatch(NO({reason:U}))}return{isActive:()=>bg({expected:"DRAGGING",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:g,drop:U=>R("DROP",U),cancel:U=>R("CANCEL",U),...P.actions}}function I(P){const V=Rh(U=>{C(()=>FO({client:U}))});return{...E({liftActionArgs:{id:s,clientSelection:P,movementMode:"FLUID"},cleanup:()=>V.cancel(),actions:{move:V}}),move:V}}function F(){const P={moveUp:()=>C(Iq),moveRight:()=>C(Fq),moveDown:()=>C(Uq),moveLeft:()=>C(Nq)};return E({liftActionArgs:{id:s,clientSelection:mY(d),movementMode:"SNAP"},cleanup:xa,actions:P})}function Q(){bg({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!0})&&t.release()}return{isActive:()=>bg({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:I,snapLift:F,abort:Q}}const SY=[iY,lY,fY];function TY({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:s}){const o=[...s?SY:[],...r||[]],A=_.useState(()=>G$())[0],l=Ie(function(E,I){kh(E)&&!kh(I)&&A.tryAbandon()},[A]);Gr(function(){let E=e.getState();return e.subscribe(()=>{const F=e.getState();l(E,F),E=F})},[A,e,l]),Gr(()=>A.tryAbandon,[A.tryAbandon]);const c=Ie(C=>JO({lockAPI:A,registry:n,store:e,draggableId:C}),[A,n,e]),d=Ie((C,E,I)=>_Y({lockAPI:A,registry:n,contextId:t,store:e,draggableId:C,forceSensorStop:E||null,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null}),[t,A,n,e]),f=Ie(C=>CY(t,C),[t]),p=Ie(C=>{const E=n.draggable.findById(C);return E?E.options:null},[n.draggable]),g=Ie(function(){A.isClaimed()&&(A.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(bE()))},[A,e]),b=Ie(()=>A.isClaimed(),[A]),B=rt(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:b}),[c,d,f,p,g,b]);for(let C=0;C<o.length;C++)o[C](B)}const IY=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};_x.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),UY=t=>({...Lh,...t.autoScrollerOptions,durationDampening:{...Lh.durationDampening,...t.autoScrollerOptions}});function Qd(t){return t.current||fe(),t.current}function FY(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:o}=t,A=_.useRef(null),l=zO(t),c=Ie(()=>IY(l.current),[l]),d=Ie(()=>UY(l.current),[l]),f=H$(e),p=K$({contextId:e,text:o}),g=Q$(e,s),b=Ie(L=>{Qd(A).dispatch(L)},[]),B=rt(()=>SF({publishWhileDragging:Bq,updateDroppableScroll:xq,updateDroppableIsEnabled:Eq,updateDroppableIsCombineEnabled:_q,collectionStarting:Cq},b),[b]),C=L$(),E=rt(()=>d$(C,B),[C,B]),I=rt(()=>I$({scrollWindow:h$,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:d,...SF({move:FO},b)}),[E.scrollDroppable,b,d]),F=O$(e),Q=rt(()=>A$({announce:f,autoScroller:I,dimensionMarshal:E,focusMarshal:F,getResponders:c,styleMarshal:g}),[f,I,E,F,c,g]);A.current=Q;const j=Ie(()=>{const L=Qd(A);L.getState().phase!=="IDLE"&&L.dispatch(bE())},[]),P=Ie(()=>{const L=Qd(A).getState();return L.phase==="DROP_ANIMATING"?!0:L.phase==="IDLE"?!1:L.isDragging},[]),V=rt(()=>({isDragging:P,tryAbort:j}),[P,j]);n(V);const R=Ie(L=>PO(Qd(A).getState(),L),[]),U=Ie(()=>NA(Qd(A).getState()),[]),D=rt(()=>({marshal:E,focus:F,contextId:e,canLift:R,isMovementAllowed:U,dragHandleUsageInstructionsId:p,registry:C}),[e,E,p,F,R,U,C]);return TY({contextId:e,store:Q,registry:C,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),_.useEffect(()=>j,[j]),xe.createElement(ty.Provider,{value:D},xe.createElement(nW,{context:TE,store:Q},t.children))}function NY(){return xe.useId()}function ZO(t){const e=NY(),n=t.dragHandleUsageInstructions||um.dragHandleUsageInstructions;return xe.createElement(lW,null,r=>xe.createElement(FY,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const n2={dragging:5e3,dropAnimating:4500},RY=(t,e)=>e?Ah.drop(e.duration):t?Ah.snap:Ah.fluid,QY=(t,e)=>{if(t)return e?Mh.opacity.drop:Mh.opacity.combining},DY=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function OY(t){const n=t.dimension.client,{offset:r,combineWith:s,dropping:o}=t,A=!!s,l=DY(t),c=!!o,d=c?rC.drop(r,A):rC.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:RY(l,o),transform:d,opacity:QY(A,c),zIndex:c?n2.dropAnimating:n2.dragging,pointerEvents:"none"}}function MY(t){return{transform:rC.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function LY(t){return t.type==="DRAGGING"?OY(t):MY(t)}function kY(t,e,n=Fn){const r=window.getComputedStyle(e),s=e.getBoundingClientRect(),o=iO(s,r),A=Lm(o,n),l={client:o,tagName:e.tagName.toLowerCase(),display:r.display},c={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:t,placeholder:l,displaceBy:c,client:o,page:A}}function PY(t){const e=IE("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:o,shouldRespectForcePress:A,isEnabled:l}=t,c=rt(()=>({canDragInteractiveElements:o,shouldRespectForcePress:A,isEnabled:l}),[o,l,A]),d=Ie(b=>{const B=s();return B||fe(),kY(n,B,b)},[n,s]),f=rt(()=>({uniqueId:e,descriptor:n,options:c,getDimension:d}),[n,d,c,e]),p=_.useRef(f),g=_.useRef(!0);Gr(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Gr(()=>{if(g.current){g.current=!1;return}const b=p.current;p.current=f,r.draggable.update(f,b)},[f,r.draggable])}var FE=xe.createContext(null);function Km(t){const e=_.useContext(t);return e||fe(),e}function HY(t){t.preventDefault()}const jY=t=>{const e=_.useRef(null),n=Ie((V=null)=>{e.current=V},[]),r=Ie(()=>e.current,[]),{contextId:s,dragHandleUsageInstructionsId:o,registry:A}=Km(ty),{type:l,droppableId:c}=Km(FE),d=rt(()=>({id:t.draggableId,index:t.index,type:l,droppableId:c}),[t.draggableId,t.index,l,c]),{children:f,draggableId:p,isEnabled:g,shouldRespectForcePress:b,canDragInteractiveElements:B,isClone:C,mapped:E,dropAnimationFinished:I}=t;if(!C){const V=rt(()=>({descriptor:d,registry:A,getDraggableRef:r,canDragInteractiveElements:B,shouldRespectForcePress:b,isEnabled:g}),[d,A,r,B,b,g]);PY(V)}const F=rt(()=>g?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:HY}:null,[s,o,p,g]),Q=Ie(V=>{E.type==="DRAGGING"&&E.dropping&&V.propertyName==="transform"&&_x.flushSync(I)},[I,E]),j=rt(()=>{const V=LY(E),R=E.type==="DRAGGING"&&E.dropping?Q:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":p,style:V,onTransitionEnd:R},dragHandleProps:F}},[s,F,p,E,Q,n]),P=rt(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return xe.createElement(xe.Fragment,null,f(j,E.snapshot,P))};var eM=(t,e)=>t===e,tM=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const VY=t=>t.combine?t.combine.draggableId:null,KY=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function GY(){const t=Un((s,o)=>({x:s,y:o})),e=Un((s,o,A=null,l=null,c=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:A,combineWith:l,combineTargetFor:null})),n=Un((s,o,A,l,c=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:o,offset:s,dimension:A,forceShouldAnimate:f,snapshot:e(o,l,c,d,null)}}));return(s,o)=>{if(kh(s)){if(s.critical.draggable.id!==o.draggableId)return null;const A=s.current.client.offset,l=s.dimensions.draggables[o.draggableId],c=Kr(s.impact),d=KY(s.impact),f=s.forceShouldAnimate;return n(t(A.x,A.y),s.movementMode,l,o.isClone,c,d,f)}if(s.phase==="DROP_ANIMATING"){const A=s.completed;if(A.result.draggableId!==o.draggableId)return null;const l=o.isClone,c=s.dimensions.draggables[o.draggableId],d=A.result,f=d.mode,p=tM(d),g=VY(d),B={duration:s.dropDuration,curve:CE.drop,moveTo:s.newHomeClientOffset,opacity:g?Mh.opacity.drop:null,scale:g?Mh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:B,draggingOver:p,combineWith:g,mode:f,forceShouldAnimate:null,snapshot:e(f,l,p,g,B)}}}return null}}function nM(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const zY={mapped:{type:"SECONDARY",offset:Fn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:nM(null)}};function WY(){const t=Un((A,l)=>({x:A,y:l})),e=Un(nM),n=Un((A,l=null,c)=>({mapped:{type:"SECONDARY",offset:A,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:e(l)}})),r=A=>A?n(Fn,A,!0):null,s=(A,l,c,d)=>{const f=c.displaced.visible[A],p=!!(d.inVirtualList&&d.effected[A]),g=X0(c),b=g&&g.draggableId===A?l:null;if(!f){if(!p)return r(b);if(c.displaced.invisible[A])return null;const E=lu(d.displacedBy.point),I=t(E.x,E.y);return n(I,b,!0)}if(p)return r(b);const B=c.displacedBy.point,C=t(B.x,B.y);return n(C,b,f.shouldAnimate)};return(A,l)=>{if(kh(A))return A.critical.draggable.id===l.draggableId?null:s(l.draggableId,A.critical.draggable.id,A.impact,A.afterCritical);if(A.phase==="DROP_ANIMATING"){const c=A.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const qY=()=>{const t=GY(),e=WY();return(r,s)=>t(r,s)||e(r,s)||zY},$Y={dropAnimationFinished:RO},YY=sO(qY,$Y,null,{context:TE,areStatePropsEqual:eM})(jY);function rM(t){return Km(FE).isUsingCloneFor===t.draggableId&&!t.isClone?null:xe.createElement(YY,t)}function sM(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return xe.createElement(rM,km({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const iM=t=>e=>t===e,XY=iM("scroll"),JY=iM("auto"),r2=(t,e)=>e(t.overflowX)||e(t.overflowY),ZY=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return r2(n,XY)||r2(n,JY)},eX=()=>!1,oM=t=>t==null?null:t===document.body?eX()?t:null:t===document.documentElement?null:ZY(t)?t:oM(t.parentElement);var oC=t=>({x:t.scrollLeft,y:t.scrollTop});const aM=t=>t?window.getComputedStyle(t).position==="fixed"?!0:aM(t.parentElement):!1;var tX=t=>{const e=oM(t),n=aM(t);return{closestScrollable:e,isFixedOnPage:n}},nX=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:o,page:A,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:g,client:b}=l,B=MO({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:b.paddingBox.height,width:b.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:b,scrollSize:g,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:B,diff:{value:Fn,displacement:Fn}}}})(),d=s==="vertical"?gE:gO,f=Kc({page:A,withPlaceholder:null,axis:d,frame:c});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:e,client:o,page:A,frame:c,subject:f}};const rX=(t,e)=>{const n=oO(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,s=n.paddingBox.left-e.scrollLeft,o=r+e.scrollHeight,A=s+e.scrollWidth,c=dE({top:r,right:A,bottom:o,left:s},n.border);return hE({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var sX=({ref:t,descriptor:e,env:n,windowScroll:r,direction:s,isDropDisabled:o,isCombineEnabled:A,shouldClipSubject:l})=>{const c=n.closestScrollable,d=rX(t,c),f=Lm(d,r),p=(()=>{if(!c)return null;const b=oO(c),B={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:b,page:Lm(b,r),scroll:oC(c),scrollSize:B,shouldClipSubject:l}})();return nX({descriptor:e,isEnabled:!o,isCombineEnabled:A,isFixedOnPage:n.isFixedOnPage,direction:s,client:d,page:f,closest:p})};const iX={passive:!1},oX={passive:!0};var s2=t=>t.shouldPublishImmediately?iX:oX;const Bg=t=>t&&t.env.closestScrollable||null;function aX(t){const e=_.useRef(null),n=Km(ty),r=IE("droppable"),{registry:s,marshal:o}=n,A=zO(t),l=rt(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),c=_.useRef(l),d=rt(()=>Un((j,P)=>{e.current||fe();const V={x:j,y:P};o.updateDroppableScroll(l.id,V)}),[l.id,o]),f=Ie(()=>{const j=e.current;return!j||!j.env.closestScrollable?Fn:oC(j.env.closestScrollable)},[]),p=Ie(()=>{const j=f();d(j.x,j.y)},[f,d]),g=rt(()=>Rh(p),[p]),b=Ie(()=>{const j=e.current,P=Bg(j);if(j&&P||fe(),j.scrollOptions.shouldPublishImmediately){p();return}g()},[g,p]),B=Ie((j,P)=>{e.current&&fe();const V=A.current,R=V.getDroppableRef();R||fe();const U=tX(R),D={ref:R,descriptor:l,env:U,scrollOptions:P};e.current=D;const L=sX({ref:R,descriptor:l,env:U,windowScroll:j,direction:V.direction,isDropDisabled:V.isDropDisabled,isCombineEnabled:V.isCombineEnabled,shouldClipSubject:!V.ignoreContainerClipping}),H=U.closestScrollable;return H&&(H.setAttribute(JF.contextId,n.contextId),H.addEventListener("scroll",b,s2(D.scrollOptions))),L},[n.contextId,l,b,A]),C=Ie(()=>{const j=e.current,P=Bg(j);return j&&P||fe(),oC(P)},[]),E=Ie(()=>{const j=e.current;j||fe();const P=Bg(j);e.current=null,P&&(g.cancel(),P.removeAttribute(JF.contextId),P.removeEventListener("scroll",b,s2(j.scrollOptions)))},[b,g]),I=Ie(j=>{const P=e.current;P||fe();const V=Bg(P);V||fe(),V.scrollTop+=j.y,V.scrollLeft+=j.x},[]),F=rt(()=>({getDimensionAndWatchScroll:B,getScrollWhileDragging:C,dragStopped:E,scroll:I}),[E,B,C,I]),Q=rt(()=>({uniqueId:r,descriptor:l,callbacks:F}),[F,l,r]);Gr(()=>(c.current=Q.descriptor,s.droppable.register(Q),()=>{e.current&&E(),s.droppable.unregister(Q)}),[F,l,E,Q,o,s.droppable]),Gr(()=>{e.current&&o.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),Gr(()=>{e.current&&o.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function Tb(){}const i2={width:0,height:0,margin:gW},AX=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?i2:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},lX=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=AX({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Ah.placeholder:null}},cX=t=>{const e=_.useRef(null),n=Ie(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:o,contextId:A}=t,[l,c]=_.useState(t.animate==="open");_.useEffect(()=>l?r!=="open"?(n(),c(!1),Tb):e.current?Tb:(e.current=setTimeout(()=>{e.current=null,c(!1)}),n):Tb,[r,l,n]);const d=Ie(p=>{p.propertyName==="height"&&(s(),r==="close"&&o())},[r,o,s]),f=lX({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return xe.createElement(t.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":A,onTransitionEnd:d,ref:t.innerRef})};var uX=xe.memo(cX);class dX extends xe.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const hX=t=>{const e=_.useContext(ty);e||fe();const{contextId:n,isMovementAllowed:r}=e,s=_.useRef(null),o=_.useRef(null),{children:A,droppableId:l,type:c,mode:d,direction:f,ignoreContainerClipping:p,isDropDisabled:g,isCombineEnabled:b,snapshot:B,useClone:C,updateViewportMaxScroll:E,getContainerForClone:I}=t,F=Ie(()=>s.current,[]),Q=Ie((H=null)=>{s.current=H},[]);Ie(()=>o.current,[]);const j=Ie((H=null)=>{o.current=H},[]),P=Ie(()=>{r()&&E({maxScroll:kO()})},[r,E]);aX({droppableId:l,type:c,mode:d,direction:f,isDropDisabled:g,isCombineEnabled:b,ignoreContainerClipping:p,getDroppableRef:F});const V=rt(()=>xe.createElement(dX,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:H,data:M,animate:N})=>xe.createElement(uX,{placeholder:M,onClose:H,innerRef:j,animate:N,contextId:n,onTransitionEnd:P})),[n,P,t.placeholder,t.shouldAnimatePlaceholder,j]),R=rt(()=>({innerRef:Q,placeholder:V,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,V,Q]),U=C?C.dragging.draggableId:null,D=rt(()=>({droppableId:l,type:c,isUsingCloneFor:U}),[l,U,c]);function L(){if(!C)return null;const{dragging:H,render:M}=C,N=xe.createElement(rM,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Y,ce)=>M(Y,ce,H));return k6.createPortal(N,I())}return xe.createElement(FE.Provider,{value:D},A(R,B),L())};function fX(){return document.body||fe(),document.body}const o2={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:fX},AM=t=>{let e={...t},n;for(n in o2)t[n]===void 0&&(e={...e,[n]:o2[n]});return e},Ib=(t,e)=>t===e.droppable.type,a2=(t,e)=>e.draggables[t.draggable.id],pX=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=Un(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=Un((o,A,l,c,d,f)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===o){const B=f?{render:f,dragging:n(d.descriptor)}:null,C={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:B}}if(!A)return e;if(!c)return t;const b={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}});return(o,A)=>{const l=AM(A),c=l.droppableId,d=l.type,f=!l.isDropDisabled,p=l.renderClone;if(kh(o)){const g=o.critical;if(!Ib(d,g))return e;const b=a2(g,o.dimensions),B=Kr(o.impact)===c;return r(c,f,B,B,b,p)}if(o.phase==="DROP_ANIMATING"){const g=o.completed;if(!Ib(d,g.critical))return e;const b=a2(g.critical,o.dimensions);return r(c,f,tM(g.result)===c,Kr(g.impact)===c,b,p)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const g=o.completed;if(!Ib(d,g.critical))return e;const b=Kr(g.impact)===c,B=!!(g.impact.at&&g.impact.at.type==="COMBINE"),C=g.critical.droppable.id===c;return b?B?t:e:C?t:e}return e}},gX={updateViewportMaxScroll:Tq},zd=sO(pX,gX,(t,e,n)=>({...AM(n),...t,...e}),{context:TE,areStatePropsEqual:eM})(hX),mX=[{value:"build",label:"Build"},{value:"buy",label:"Buy"},{value:"partner",label:"Partner"},{value:"outsource",label:"Outsource"}],lM=({isOpen:t,onClose:e,taskToEdit:n})=>{const{currentUser:r}=wn(),{createTask:s,updateTask:o}=Ux(),{triggerCelebration:A}=Ix(),[l,c]=_.useState(""),[d,f]=_.useState(""),[p,g]=_.useState(""),[b,B]=_.useState(""),[C,E]=_.useState(1),[I,F]=_.useState([]),[Q,j]=_.useState("build"),[P,V]=_.useState("walk"),[R,U]=_.useState(null),[D,L]=_.useState(!1);if(_.useEffect(()=>{var M;n?(c(n.title),f(n.description),g(n.objective||""),B(((M=n.deliverables)==null?void 0:M.join(`
`))||""),E(n.ivp_value),F(n.assigned_to),j(n.approach||"build"),V(n.pace||"walk")):(c(""),f(""),g(""),B(""),E(1),F([]),j("build"),V("walk"))},[n,t]),!t)return null;const H=async M=>{if(M.preventDefault(),U(null),!l.trim()){U("Task title is required");return}L(!0);try{const N={title:l,description:d,objective:p,deliverables:b.split(`
`).filter(Y=>Y.trim()),assigned_to:I.length>0?I:[(r==null?void 0:r.id)||""],ivp_value:C,approach:Q,pace:P};n?(await o(n.id,N),A("claps")):(await s(N),A("fireworks")),e()}catch(N){console.error("Error saving task:",N),U("Failed to save task")}finally{L(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-auto bg-black bg-opacity-80 backdrop-blur-sm",children:m.jsxs("div",{className:"w-full max-w-lg p-6 mx-auto bg-gray-900 border border-gray-700 rounded-lg shadow-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-gray-800 pb-4",children:[m.jsx("h2",{className:"text-xl font-black text-yellow-500 uppercase tracking-widest",children:n?"MISSION BRIEFING (EDIT)":"INITIATE MISSION"}),m.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors",children:""})]}),R&&m.jsx("div",{className:"p-3 mb-4 text-sm text-red-400 bg-red-900/20 border border-red-900/50 rounded",children:R}),m.jsxs("form",{onSubmit:H,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Mission Objective (Title)"}),m.jsx("input",{type:"text",value:l,onChange:M=>c(M.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:border-yellow-500",placeholder:"ENTER TITLE"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Tactics"}),m.jsx("select",{value:Q,onChange:M=>j(M.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:border-yellow-500",children:mX.map(M=>m.jsx("option",{value:M.value,children:M.label},M.value))})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Strategic Objective"}),m.jsx("input",{type:"text",value:p,onChange:M=>g(M.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:border-yellow-500",placeholder:"PRIMARY OBJECTIVE"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Briefing (Description)"}),m.jsx("textarea",{value:d,onChange:M=>f(M.target.value),rows:2,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:border-yellow-500",placeholder:"MISSION DETAILS..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Deliverables (One per line)"}),m.jsx("textarea",{value:b,onChange:M=>B(M.target.value),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:border-yellow-500 font-mono text-xs",placeholder:`- REPORT
- CODE
- ASSETS`})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Value (IVP)"}),m.jsx("input",{type:"number",min:1,max:100,value:C,onChange:M=>E(parseInt(M.target.value)),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white focus:border-yellow-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Pace (Intensity)"}),m.jsx("div",{className:"flex gap-1",children:["crawl","walk","run"].map(M=>m.jsx("button",{type:"button",onClick:()=>V(M),className:`flex-1 py-2 text-[8px] font-black uppercase tracking-wider border rounded transition-all ${P===M?M==="run"?"bg-red-600 border-red-500 text-white":M==="walk"?"bg-orange-600 border-orange-500 text-white":"bg-green-600 border-green-500 text-white":"bg-gray-800 border-gray-700 text-gray-500"}`,children:M},M))})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Assign Operatives"}),m.jsx("div",{className:"p-2 border border-gray-700 rounded bg-gray-800/50 max-h-32 overflow-y-auto",children:m.jsx("p",{className:"text-xs text-gray-500 italic",children:"Select operatives from the roster..."})})]}),m.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-800",children:[m.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-xs font-bold text-gray-400 hover:text-white uppercase tracking-wider",children:"Abort"}),m.jsx("button",{type:"submit",disabled:D,className:"px-6 py-2 text-xs font-black text-black bg-yellow-500 rounded hover:bg-yellow-400 uppercase tracking-widest shadow-lg",children:D?"Processing...":n?"Update Intel":"Execute"})]})]})]})})},yX=({tasks:t,onUpdateTask:e,currentUser:n,packMembers:r})=>{const[s,o]=_.useState({tasks:{},columns:{},columnOrder:[]}),[A,l]=_.useState(!1),[c,d]=_.useState(void 0),[f,p]=_.useState(null);_.useEffect(()=>{const B={},C=[],E=[],I=[],F=[];t.forEach(Q=>{const j=Q.id.toString();B[j]={...Q,id:j},Q.status==="done"?I.push(j):Q.status==="doing"?E.push(j):Q.status==="todo"?C.push(j):F.push(j)}),o({tasks:B,columns:{backlog:{id:"backlog",title:"BACKLOG (THE DECK)",taskIds:F},todo:{id:"todo",title:"TO DO (ASSIGNED)",taskIds:C},doing:{id:"doing",title:"DOING (IN PURSUIT)",taskIds:E},done:{id:"done",title:"DONE (KILL CONFIRMED)",taskIds:I}},columnOrder:["backlog","todo","doing","done"]})},[t]);const g=B=>{const{destination:C,source:E,draggableId:I}=B;if(!C||C.droppableId===E.droppableId&&C.index===E.index)return;if(E.droppableId==="backlog"&&C.droppableId==="todo"){const D=s.tasks[I];d(D),p({draggableId:I,destinationIndex:C.index}),l(!0);return}const F=s.columns[E.droppableId],Q=s.columns[C.droppableId];if(F===Q){const D=Array.from(F.taskIds);D.splice(E.index,1),D.splice(C.index,0,I);const L={...F,taskIds:D};o({...s,columns:{...s.columns,[L.id]:L}});return}const j=Array.from(F.taskIds);j.splice(E.index,1);const P={...F,taskIds:j},V=Array.from(Q.taskIds);V.splice(C.index,0,I);const R={...Q,taskIds:V};o({...s,columns:{...s.columns,[P.id]:P,[R.id]:R}});const U={...s.tasks[I],status:C.droppableId};e(U)},b=B=>{if(f){const{draggableId:C,destinationIndex:E}=f,F={...s.tasks[C],...B,status:"todo"};e(F),p(null)}else if(c){const E={...s.tasks[c.id],...B};e(E)}else console.warn("New task creation not fully wired in Kanban view yet");l(!1),d(void 0)};return m.jsxs("div",{className:"h-full",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 px-6 pt-4 border-b-2 border-red-500 pb-2",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white uppercase tracking-widest",children:["Tactical Board ",m.jsx("span",{className:"text-xs text-red-500 ml-2",children:"V29.0 HORIZONTAL DEBUG"})]}),m.jsx("div",{className:"text-xs text-gray-500 font-mono",children:"DRAG TO EXECUTE"})]}),m.jsx(ZO,{onDragEnd:g,children:m.jsx("div",{className:"flex flex-row gap-0 overflow-x-auto pb-4 h-[calc(100vh-200px)] border-t border-bunker",style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",overflowX:"auto",whiteSpace:"nowrap"},children:s.columnOrder.map((B,C)=>{const E=s.columns[B],I=E.taskIds.map(F=>s.tasks[F]);return m.jsxs("div",{className:`flex-none w-[85vw] md:w-[25vw] flex flex-col h-full border-r border-bunker bg-void/50 ${C===0?"border-l":""}`,style:{minWidth:"300px",display:"inline-flex",verticalAlign:"top",whiteSpace:"normal"},children:[m.jsxs("div",{className:"p-4 border-b border-bunker flex items-center gap-3 sticky top-0 bg-void/95 backdrop-blur z-10",children:[m.jsxs("h2",{className:"text-xs font-bold text-gray-300 uppercase tracking-wider",children:[E.title.split("(")[0].trim()," ",m.jsxs("span",{className:"text-gray-600",children:["(",E.title.split("(")[1].replace(")",""),")"]})]}),m.jsx("span",{className:"text-[10px] font-mono bg-wolf text-black px-1.5 rounded font-bold",children:I.length})]}),m.jsx(zd,{droppableId:E.id,children:(F,Q)=>m.jsxs("div",{...F.droppableProps,ref:F.innerRef,className:`p-3 flex-grow overflow-y-auto custom-scrollbar transition-colors ${Q.isDraggingOver?"bg-wolf/5":""}`,children:[I.map((j,P)=>m.jsx(sM,{draggableId:j.id,index:P,children:(V,R)=>m.jsxs("div",{ref:V.innerRef,...V.draggableProps,...V.dragHandleProps,className:`p-4 mb-3 rounded-none border border-bunker bg-bunker/30 hover:border-wolf/50 transition-all group ${R.isDragging?"shadow-[0_0_15px_rgba(255,179,0,0.2)] border-wolf":""}`,style:{...V.draggableProps.style},children:[m.jsx("div",{className:"flex justify-between items-start mb-2",children:m.jsx("h3",{className:"text-gray-200 font-bold text-xs leading-tight line-clamp-3",children:j.title})}),j.ivp&&m.jsx("div",{className:"flex justify-end mb-2",children:m.jsxs("span",{className:"text-[9px] font-mono text-wolf border border-wolf/30 bg-wolf/10 px-1 rounded",children:[j.ivp," IVP"]})}),m.jsxs("div",{className:"flex justify-between items-center mt-3 pt-2 border-t border-bunker",children:[m.jsx("div",{className:"flex -space-x-2",children:m.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-600 border border-gray-800 flex items-center justify-center text-[6px] text-white font-bold",children:"D"})}),m.jsxs("div",{className:"text-[9px] text-gray-600 font-mono tracking-wider",children:["? # ",j.id.slice(0,4)]})]})]})},j.id)),F.placeholder]})})]},E.id)})})}),A&&m.jsx(lM,{isOpen:A,onClose:()=>{l(!1),p(null)},onSave:b,initialData:c,currentUser:n,packMembers:r})]})},vX=[{id:"wolf_1",name:"Marcus Aurelius",role:"finance",tagline:"I fund empires.",avatar:"https://ui-avatars.com/api/?name=Marcus+A",distance:"2.5 miles",location:"Downtown",skills:["Venture Capital","M&A","Structuring"],stats:{build:20,fund:95,connect:60},hunting:"Builders with scalable SaaS products."},{id:"wolf_2",name:"Sarah Connors",role:"labor",tagline:"I build heavy metal.",avatar:"https://ui-avatars.com/api/?name=Sarah+C",distance:"5 miles",location:"Tech Park",skills:["Rust","React","System Architecture"],stats:{build:99,fund:10,connect:30},hunting:"Capital to scale my AI agent swarm."},{id:"wolf_3",name:"Ari G.",role:"sales",tagline:"I can sell sand in the desert.",avatar:"https://ui-avatars.com/api/?name=Ari+G",distance:"10 miles",location:"Beverly Hills",skills:["Enterprise Sales","Negotiation","Networking"],stats:{build:10,fund:50,connect:99},hunting:"Products that are ready for market."}],wX=({currentUser:t,onSelectWolf:e})=>{const[n,r]=_.useState(vX),[s,o]=_.useState(0),A=c=>{c==="right"&&e(n[s]),s<n.length-1?o(d=>d+1):alert("No more wolves in this sector. Expand your radius.")};if(s>=n.length)return m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Sector Clear"}),m.jsx("p",{className:"text-gray-500 mb-6",children:"You've scouted all nearby wolves."}),m.jsx("button",{onClick:()=>o(0),className:"px-6 py-3 bg-gray-800 rounded-xl text-xs font-bold uppercase hover:bg-gray-700",children:"Rescan Sector"})]});const l=n[s];return m.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-4",children:[m.jsx("h2",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-widest mb-6",children:"Potential Tactical Partners"}),m.jsx("div",{className:"relative w-full max-w-sm aspect-[3/4]",children:m.jsxs("div",{className:"absolute inset-0 bg-gray-900 rounded-3xl border border-gray-700 shadow-2xl flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"h-3/5 bg-gray-800 relative",children:[m.jsx("img",{src:l.avatar,alt:l.name,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur px-3 py-1 rounded-full text-[10px] font-bold uppercase text-white border border-white/10",children:l.distance})]}),m.jsx("div",{className:"flex-1 p-6 flex flex-col justify-between bg-gradient-to-b from-gray-900 to-black",children:m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsx("h3",{className:"text-2xl font-black text-white",children:l.name}),m.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase border ${l.role==="labor"?"text-red-500 border-red-500":l.role==="finance"?"text-green-500 border-green-500":"text-blue-500 border-blue-500"}`,children:l.role})]}),m.jsxs("p",{className:"text-white font-serif italic text-lg leading-tight mb-4",children:['"',l.tagline,'"']}),m.jsx("div",{className:"flex gap-2 flex-wrap",children:l.skills.slice(0,3).map(c=>m.jsx("span",{className:"px-2 py-1 bg-gray-800 rounded text-[9px] text-gray-400 font-mono uppercase",children:c},c))})]})})]})}),m.jsxs("div",{className:"flex items-center gap-8 mt-8",children:[m.jsx("button",{onClick:()=>A("left"),className:"w-16 h-16 rounded-full bg-gray-900 border border-gray-700 text-gray-500 text-2xl flex items-center justify-center hover:bg-red-900/20 hover:text-red-500 hover:border-red-500 transition-all",children:""}),m.jsx("button",{onClick:()=>A("right"),className:"w-20 h-20 rounded-full bg-yellow-600 text-black text-3xl flex items-center justify-center shadow-[0_0_20px_rgba(202,138,4,0.4)] hover:scale-110 transition-transform font-bold",children:""})]})]})},bX=({isOpen:t,onClose:e,wolfName:n})=>{const[r,s]=_.useState("schedule"),[o,A]=_.useState(""),[l,c]=_.useState(""),[d,f]=_.useState("");if(!t)return null;const p=()=>{s("confirm"),setTimeout(()=>{e(),s("schedule")},2e3)};return m.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-bunker border border-wolf rounded-xl w-full max-w-sm shadow-[0_0_50px_rgba(202,138,4,0.2)] overflow-hidden relative",children:[m.jsxs("div",{className:"bg-wolf/10 p-4 border-b border-wolf/20 flex justify-between items-center",children:[m.jsx("h2",{className:"text-wolf font-black uppercase tracking-widest text-sm",children:"Initiate Protocol: Coffee"}),m.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white",children:""})]}),m.jsxs("div",{className:"p-6",children:[r==="schedule"&&m.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right duration-300",children:[m.jsxs("h3",{className:"text-white text-lg font-bold",children:["Coordinate Sync with ",m.jsx("span",{className:"text-wolf",children:n})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wider",children:"Date Code"}),m.jsx("input",{type:"date",value:o,onChange:g=>A(g.target.value),className:"w-full bg-black border border-gray-700 text-white p-3 rounded focus:border-wolf outline-none font-mono"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wider",children:"Time Vector"}),m.jsx("input",{type:"time",value:l,onChange:g=>c(g.target.value),className:"w-full bg-black border border-gray-700 text-white p-3 rounded focus:border-wolf outline-none font-mono"})]}),m.jsx("button",{onClick:()=>s("location"),disabled:!o||!l,className:"w-full bg-wolf text-black font-bold uppercase tracking-widest py-3 rounded mt-4 hover:bg-gold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next: Location"})]}),r==="location"&&m.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right duration-300",children:[m.jsx("h3",{className:"text-white text-lg font-bold",children:"Select Deployment Zone"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wider",children:"Venue / Coordinates"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:d,onChange:g=>f(g.target.value),placeholder:"e.g. Starbucks, Sector 7",className:"w-full bg-black border border-gray-700 text-white p-3 rounded focus:border-wolf outline-none pl-10"}),m.jsx("span",{className:"absolute left-3 top-3 text-gray-500",children:""})]})]}),m.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded text-xs text-blue-400",children:[m.jsx("span",{className:"font-bold",children:"INTEL:"})," ",n," is currently 0.8km away."]}),m.jsx("button",{onClick:p,disabled:!d,className:"w-full bg-wolf text-black font-bold uppercase tracking-widest py-3 rounded mt-4 hover:bg-gold transition-colors shadow-[0_0_20px_rgba(202,138,4,0.4)] disabled:opacity-50",children:"Confirm Rendezvous"})]}),r==="confirm"&&m.jsxs("div",{className:"text-center py-8 animate-in zoom-in duration-300",children:[m.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4 border border-green-500",children:m.jsx("span",{className:"text-2xl",children:""})}),m.jsx("h3",{className:"text-white text-xl font-black uppercase tracking-tight mb-2",children:"Protocol Active"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Invite sent to encrypted channel."})]})]})]})})},cM=({logs:t=[]})=>{const e=t.length>0?t:[{id:"1",wolfName:"SYSTEM",action:"WOLFPACK OS V.28.0 ONLINE",type:"system",timestamp:new Date().toISOString()},{id:"2",wolfName:"NETWORK",action:"SCANNING SECTOR 7",type:"system",timestamp:new Date().toISOString()}];return m.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-[40] bg-black border-t border-wolf/20 h-8 flex items-center overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"bg-wolf text-black font-bold text-[9px] uppercase h-full px-3 flex items-center z-10 tracking-widest shrink-0 shadow-[0_0_15px_rgba(255,179,0,0.4)]",children:"Live Feed"}),m.jsxs("div",{className:"animate-marquee whitespace-nowrap flex gap-12 text-[10px] font-mono uppercase tracking-widest opacity-90 pl-4 items-center",children:[e.map(n=>m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n.type==="kill"?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.8)]":n.type==="doing"?"bg-blue-500":"bg-wolf"}`}),m.jsx("span",{className:"text-wolf font-bold",children:n.wolfName}),m.jsxs("span",{className:"text-gray-400",children:[n.action," [ ",new Date(n.timestamp).toLocaleTimeString()," ]"]})]},n.id)),e.length<5&&e.map(n=>m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-600"}),m.jsx("span",{className:"text-wolf font-bold",children:n.wolfName}),m.jsxs("span",{className:"text-gray-400",children:[n.action," [ ",new Date(n.timestamp).toLocaleTimeString()," ]"]})]},`dup-${n.id}`))]})]})},BX={id:"dom_default",name:"Dom",role:"sales",tagline:"I connect visionaries to reality.",avatar:"https://ui-avatars.com/api/?name=Dom&background=FFD700&color=000",distance:"Global",location:"Global",skills:["Vision","Community","Strategy"],stats:{build:85,fund:90,connect:99},hunting:"Builders ready to disrupt industries.",linkedin:"https://www.linkedin.com/in/dominique-harris-396b0058"},uM=t=>{switch(t){case"labor":return{label:"The Builder",icon:"",grindAction:"Commit Code",colors:{text:"text-red-500",bg:"bg-red-500",bgActive:"bg-red-900/40",border:"border-red-600",hoverBorder:"group-hover:border-red-500",shadow:"shadow-red-500/20"}};case"finance":return{label:"The Capital",icon:"",grindAction:"Review P&L",colors:{text:"text-green-500",bg:"bg-green-500",bgActive:"bg-green-900/40",border:"border-green-600",hoverBorder:"group-hover:border-green-500",shadow:"shadow-green-500/20"}};case"sales":return{label:"The Connector",icon:"",grindAction:"Cold Call",colors:{text:"text-blue-500",bg:"bg-blue-500",bgActive:"bg-blue-900/40",border:"border-blue-600",hoverBorder:"group-hover:border-blue-500",shadow:"shadow-blue-500/20"}};default:return{label:"Unassigned",icon:"",grindAction:"Grind",colors:{text:"text-gray-500",bg:"bg-gray-500",bgActive:"bg-gray-900/40",border:"border-gray-600",hoverBorder:"group-hover:border-gray-500",shadow:"shadow-gray-500/20"}}}},CX=({wolf:t,currentUser:e,onClose:n,onSchedule:r})=>{const[s,o]=_.useState("details"),[A,l]=_.useState([]),[c,d]=_.useState(""),[f,p]=_.useState({trust:50,skill:50,vibe:50}),g=_.useRef(null);_.useRef(null);const b=uM(t.role);_.useEffect(()=>{},[t.id,e._id]),_.useEffect(()=>{var C;return(C=g.current)==null?void 0:C.scrollIntoView({behavior:"smooth"})},[A]);const B=async()=>{if(!c.trim())return;const C=c;d(""),l(E=>[...E,{fromId:e._id||"me",toId:t.id,content:C,timestamp:new Date().toISOString()}])};return m.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl w-full max-w-2xl h-[600px] flex flex-col shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[m.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("img",{src:t.avatar,alt:t.name,className:"w-16 h-16 rounded-full border-2 border-gray-700 shadow-lg"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),m.jsx("div",{className:`text-xs uppercase font-bold tracking-widest ${b.colors.text}`,children:b.label})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>r(t),className:"bg-yellow-600 hover:bg-yellow-500 text-black px-4 py-2 rounded font-bold text-sm uppercase",children:" Coffee"}),m.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white p-2",children:""})]})]}),m.jsxs("div",{className:"flex border-b border-gray-800 bg-gray-900",children:[m.jsx("button",{onClick:()=>o("details"),className:`flex-1 py-3 text-sm font-bold uppercase tracking-widest ${s==="details"?"text-white border-b-2 border-yellow-500 bg-gray-800":"text-gray-500 hover:text-gray-300"}`,children:"Intel"}),m.jsx("button",{onClick:()=>o("chat"),className:`flex-1 py-3 text-sm font-bold uppercase tracking-widest ${s==="chat"?"text-white border-b-2 border-yellow-500 bg-gray-800":"text-gray-500 hover:text-gray-300"}`,children:"Comms"}),m.jsx("button",{onClick:()=>o("rate"),className:`flex-1 py-3 text-sm font-bold uppercase tracking-widest ${s==="rate"?"text-white border-b-2 border-yellow-500 bg-gray-800":"text-gray-500 hover:text-gray-300"}`,children:"Rate"})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-900 custom-scrollbar",children:[s==="details"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[m.jsx("h3",{className:"text-gray-400 text-xs uppercase font-bold mb-2",children:"Alpha Pitch"}),m.jsxs("p",{className:"text-white italic text-lg",children:['"',t.tagline,'"']})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[m.jsx("h3",{className:"text-gray-400 text-xs uppercase font-bold mb-2",children:"Hunting For"}),m.jsx("p",{className:"text-white text-sm",children:t.hunting})]}),m.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[m.jsx("h3",{className:"text-gray-400 text-xs uppercase font-bold mb-2",children:"Location"}),m.jsxs("p",{className:"text-white text-sm",children:[t.location," (",t.distance,")"]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-gray-400 text-xs uppercase font-bold mb-2",children:"Wolf Stats"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("div",{className:"bg-black/30 p-3 rounded text-center border border-gray-800",children:[m.jsx("div",{className:"text-red-500 font-bold text-xl",children:t.stats.build}),m.jsx("div",{className:"text-gray-500 text-[10px] uppercase",children:"Build"})]}),m.jsxs("div",{className:"bg-black/30 p-3 rounded text-center border border-gray-800",children:[m.jsx("div",{className:"text-green-500 font-bold text-xl",children:t.stats.fund}),m.jsx("div",{className:"text-gray-500 text-[10px] uppercase",children:"Fund"})]}),m.jsxs("div",{className:"bg-black/30 p-3 rounded text-center border border-gray-800",children:[m.jsx("div",{className:"text-blue-500 font-bold text-xl",children:t.stats.connect}),m.jsx("div",{className:"text-gray-500 text-[10px] uppercase",children:"Connect"})]})]})]})]}),s==="chat"&&m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4 pr-2 custom-scrollbar",children:[A.length===0&&m.jsx("div",{className:"text-center text-gray-600 text-sm mt-10",children:"Encrypted channel established. Start talking."}),A.map((C,E)=>m.jsx("div",{className:`flex ${C.fromId===e._id?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-[80%] p-3 rounded-lg text-sm ${C.fromId===e._id?"bg-yellow-600 text-black rounded-tr-none":"bg-gray-800 text-white rounded-tl-none"}`,children:C.content})},E)),m.jsx("div",{ref:g})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:c,onChange:C=>d(C.target.value),onKeyDown:C=>C.key==="Enter"&&B(),placeholder:"Type your message...",className:"flex-1 bg-gray-800 border border-gray-700 rounded p-3 text-white text-sm focus:border-yellow-500 outline-none"}),m.jsx("button",{onClick:B,className:"bg-yellow-600 hover:bg-yellow-500 text-black p-3 rounded font-bold",children:""})]})]}),s==="rate"&&m.jsxs("div",{className:"text-center py-10",children:[m.jsx("h3",{className:"text-white font-bold mb-2",children:"Peer Review"}),m.jsxs("p",{className:"text-gray-400 text-sm mb-6",children:["Rate your interaction with ",t.name," to help the pack."]}),m.jsxs("div",{className:"space-y-6 max-w-xs mx-auto",children:[["Trust","Skill","Vibe"].map(C=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs uppercase font-bold text-gray-500 mb-1",children:[m.jsx("span",{children:C}),m.jsx("span",{className:"text-yellow-500",children:"50/100"})]}),m.jsx("input",{type:"range",min:"0",max:"100",className:"w-full accent-yellow-500 bg-gray-800 h-2 rounded-lg appearance-none cursor-pointer"})]},C)),m.jsx("button",{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-2 rounded border border-gray-700 uppercase text-xs font-bold tracking-widest mt-4",children:"Submit Rating"})]})]})]})]})})},xX=()=>{Ys();const{currentUser:t}=wn(),{projectTasks:e,loading:n,updateTask:r}=Ux(),s=t,[o,A]=_.useState("kanban"),[l,c]=_.useState(null),[d,f]=_.useState(null),[p,g]=_.useState([]);_.useEffect(()=>{g([{id:"1",wolfName:"Sarah J.",action:"closed a seed round",type:"kill",timestamp:new Date().toISOString()},{id:"2",wolfName:"Marcus T.",action:"deployed to production",type:"grind",timestamp:new Date().toISOString()},{id:"3",wolfName:"Elena R.",action:"scheduled 3 coffee dates",type:"social",timestamp:new Date().toISOString()}])},[]);const b=async E=>{if(s)try{await r(E.id,E),console.log("Task Updated via Kanban:",E)}catch(I){console.error("Failed to update task",I)}},B=async()=>{var E,I;if(!(!s||!s.selected_project_id))try{(await fetch(`${((E=window.pwaThemeVariables)==null?void 0:E.apiUrl)||"https://buildyourwolfpack-1.onrender.com"}/projects/${s.selected_project_id}/seed`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await((I=s.getIdToken)==null?void 0:I.call(s))||""}`}})).ok?window.location.reload():alert("Failed to initialize protocol. Check console.")}catch(F){console.error("Seed failed",F),alert("Tactical Protocol Initiated. (If connected to live backend, tasks will appear shortly).")}};if(!s)return m.jsxs("div",{className:"bg-black h-screen text-white flex flex-col items-center justify-center gap-4",children:[m.jsx("span",{className:"text-2xl animate-pulse",children:""}),m.jsx("span",{className:"font-mono text-sm text-gray-440",children:"Loading Wolfpack OS..."})]});const C=uM(s.selected_card_id);return m.jsxs("div",{className:"min-h-screen bg-void text-white font-sans selection:bg-wolf/30 overflow-hidden flex flex-col",children:[m.jsxs("header",{className:"h-16 border-b border-bunker bg-void flex items-center justify-between px-4 md:px-6 shrink-0 z-30",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 bg-wolf rounded-lg flex items-center justify-center font-bold text-black text-xl shadow-[0_0_15px_rgba(255,179,0,0.4)]",children:"W"}),m.jsxs("div",{children:[m.jsxs("h1",{className:"font-bold text-lg tracking-tight leading-none text-white",children:["WOLFPACK ",m.jsx("span",{className:"text-wolf",children:"OS"})]}),m.jsx("div",{className:"text-[10px] text-gray-500 font-mono uppercase tracking-widest",children:"V.28.0 // CONNECTED"})]})]}),m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[m.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest",children:"Intrinsic Value"}),m.jsxs("div",{className:"text-2xl font-bold text-wolf font-mono leading-none",children:[(s.ivp||0).toLocaleString()," ",m.jsx("span",{className:"text-xs text-gray-600",children:"IVP"})]})]}),m.jsxs("div",{className:"flex items-center gap-3 pl-6 border-l border-bunker",children:[m.jsxs("div",{className:"text-right hidden sm:block",children:[m.jsx("div",{className:"font-bold text-sm text-gray-300",children:s.email.split("@")[0]}),m.jsx("div",{className:`text-[10px] uppercase font-bold tracking-widest ${C.colors.text}`,children:C.label})]}),m.jsx("div",{className:`w-10 h-10 rounded-full border-2 ${C.colors.border} bg-gray-900 overflow-hidden`,children:m.jsx("img",{src:`https://ui-avatars.com/api/?name=${s.email}&background=random`,alt:"Profile"})})]})]})]}),m.jsx("nav",{className:"flex justify-center gap-2 py-6 bg-void border-b border-bunker shrink-0",children:[{id:"radar",label:"RADAR"},{id:"kanban",label:"KANBAN"},{id:"roadmap",label:"ROADMAP"},{id:"pack",label:"PACK PROTOCOL"},{id:"coffee",label:"COFFEE DATES"}].map(E=>m.jsxs("button",{onClick:()=>A(E.id),className:`px-6 py-1 border rounded-full text-xs font-mono transition-all duration-300 tracking-widest
              ${o===E.id?"bg-wolf text-black border-wolf font-bold shadow-[0_0_10px_rgba(255,179,0,0.5)]":"bg-transparent text-gray-500 border-gray-800 hover:border-gray-500 hover:text-gray-300"}`,children:["[",E.label,"]"]},E.id))}),m.jsxs("main",{className:"flex-1 flex overflow-hidden relative",children:[m.jsx("div",{className:"absolute inset-0 bg-noise opacity-20 pointer-events-none"}),m.jsx("div",{className:"absolute inset-0 bg-grid opacity-20 pointer-events-none"}),m.jsxs("div",{className:`flex-1 overflow-y-auto custom-scrollbar touch-pan-y relative z-10 transition-all duration-500 ${o==="kanban"?"p-0 overflow-hidden bg-void":"p-4 md:p-8"}`,children:[o==="radar"&&m.jsx(j7,{user:s,onSelectWolf:c,onMessageWolf:E=>{c(E)}}),o==="pack"&&m.jsx("div",{className:"h-full flex items-center justify-center",children:m.jsx(rz,{tasks:e})}),o==="kanban"&&m.jsxs(m.Fragment,{children:[e.length===0&&m.jsxs("div",{className:"flex flex-col items-center justify-center p-10 border-2 border-dashed border-gray-800 rounded-xl mb-8 bg-gray-900/50",children:[m.jsx("h3",{className:"text-wolf font-bold text-lg mb-2 uppercase tracking-widest",children:"// TACTICAL BOARD OFFLINE"}),m.jsx("p",{className:"text-gray-500 text-xs mb-6 font-mono max-w-md text-center",children:"No active directives found. Initialize the Wolfpack Startup Protocol (V.28.0) to load the standard 40-step execution plan."}),m.jsx("button",{onClick:B,className:"bg-wolf text-black font-black uppercase text-xs px-6 py-3 rounded hover:bg-white transition-colors shadow-[0_0_20px_rgba(255,179,0,0.3)] tracking-widest flex items-center gap-2",children:m.jsx("span",{children:"[ INITIALIZE PROTOCOL ]"})})]}),m.jsx(yX,{tasks:e,onUpdateTask:b,currentUser:s,packMembers:[BX],onSelectWolf:E=>c(E)})]}),o==="roadmap"&&m.jsx(P7,{tasks:e}),o==="coffee"&&m.jsx(wX,{currentUser:s,onSelectWolf:c})]})]}),l&&m.jsx(CX,{wolf:l,currentUser:s,onClose:()=>c(null),onSchedule:E=>f(E)}),d&&m.jsx(bX,{isOpen:!!d,onClose:()=>f(null),wolfName:d.name}),m.jsx(cM,{logs:p})]})};var dM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},A2=xe.createContext&&xe.createContext(dM),EX=["attr","size","title"];function _X(t,e){if(t==null)return{};var n=SX(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gm.apply(this,arguments)}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){TX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TX(t,e,n){return e=IX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IX(t){var e=UX(t,"string");return typeof e=="symbol"?e:e+""}function UX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hM(t){return t&&t.map((e,n)=>xe.createElement(e.tag,zm({key:n},e.attr),hM(e.child)))}function To(t){return e=>xe.createElement(FX,Gm({attr:zm({},t.attr)},e),hM(t.child))}function FX(t){var e=n=>{var{attr:r,size:s,title:o}=t,A=_X(t,EX),l=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),xe.createElement("svg",Gm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,A,{className:c,style:zm(zm({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&xe.createElement("title",null,o),t.children)};return A2!==void 0?xe.createElement(A2.Consumer,null,n=>e(n)):e(dM)}function NX(t){return To({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"},child:[]}]})(t)}function RX(t){return To({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function QX(t){return To({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function DX(t){return To({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M272 96c26.51 0 48-21.49 48-48S298.51 0 272 0s-48 21.49-48 48 21.49 48 48 48zM113.69 317.47l-14.8 34.52H32c-17.67 0-32 14.33-32 32s14.33 32 32 32h77.45c19.25 0 36.58-11.44 44.11-29.09l8.79-20.52-10.67-6.3c-17.32-10.23-30.06-25.37-37.99-42.61zM384 223.99h-44.03l-26.06-53.25c-12.5-25.55-35.45-44.23-61.78-50.94l-71.08-21.14c-28.3-6.8-57.77-.55-80.84 17.14l-39.67 30.41c-14.03 10.75-16.69 30.83-5.92 44.86s30.84 16.66 44.86 5.92l39.69-30.41c7.67-5.89 17.44-8 25.27-6.14l14.7 4.37-37.46 87.39c-12.62 29.48-1.31 64.01 26.3 80.31l84.98 50.17-27.47 87.73c-5.28 16.86 4.11 34.81 20.97 40.09 3.19 1 6.41 1.48 9.58 1.48 13.61 0 26.23-8.77 30.52-22.45l31.64-101.06c5.91-20.77-2.89-43.08-21.64-54.39l-61.24-36.14 31.31-78.28 20.27 41.43c8 16.34 24.92 26.89 43.11 26.89H384c17.67 0 32-14.33 32-32s-14.33-31.99-32-31.99z"},child:[]}]})(t)}function OX(t){return To({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 0C114.6 0 0 100.3 0 224c0 70.1 36.9 132.6 94.5 173.7 9.6 6.9 15.2 18.1 13.5 29.9l-9.4 66.2c-1.4 9.6 6 18.2 15.7 18.2H192v-56c0-4.4 3.6-8 8-8h16c4.4 0 8 3.6 8 8v56h64v-56c0-4.4 3.6-8 8-8h16c4.4 0 8 3.6 8 8v56h77.7c9.7 0 17.1-8.6 15.7-18.2l-9.4-66.2c-1.7-11.7 3.8-23 13.5-29.9C475.1 356.6 512 294.1 512 224 512 100.3 397.4 0 256 0zm-96 320c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64zm192 0c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64z"},child:[]}]})(t)}function MX(t){return To({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M208 96c26.5 0 48-21.5 48-48S234.5 0 208 0s-48 21.5-48 48 21.5 48 48 48zm94.5 149.1l-23.3-11.8-9.7-29.4c-14.7-44.6-55.7-75.8-102.2-75.9-36-.1-55.9 10.1-93.3 25.2-21.6 8.7-39.3 25.2-49.7 46.2L17.6 213c-7.8 15.8-1.5 35 14.2 42.9 15.6 7.9 34.6 1.5 42.5-14.3L81 228c3.5-7 9.3-12.5 16.5-15.4l26.8-10.8-15.2 60.7c-5.2 20.8.4 42.9 14.9 58.8l59.9 65.4c7.2 7.9 12.3 17.4 14.9 27.7l18.3 73.3c4.3 17.1 21.7 27.6 38.8 23.3 17.1-4.3 27.6-21.7 23.3-38.8l-22.2-89c-2.6-10.3-7.7-19.9-14.9-27.7l-45.5-49.7 17.2-68.7 5.5 16.5c5.3 16.1 16.7 29.4 31.7 37l23.3 11.8c15.6 7.9 34.6 1.5 42.5-14.3 7.7-15.7 1.4-35.1-14.3-43zM73.6 385.8c-3.2 8.1-8 15.4-14.2 21.5l-50 50.1c-12.5 12.5-12.5 32.8 0 45.3s32.7 12.5 45.2 0l59.4-59.4c6.1-6.1 10.9-13.4 14.2-21.5l13.5-33.8c-55.3-60.3-38.7-41.8-47.4-53.7l-20.7 51.5z"},child:[]}]})(t)}function LX(t){return To({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M247 32v23.21C143.25 59.8 59.798 143.25 55.21 247H32v18h23.21C59.8 368.75 143.25 452.202 247 456.79V480h18v-23.21C368.75 452.2 452.202 368.75 456.79 265H480v-18h-23.21C452.2 143.25 368.75 59.798 265 55.21V32h-18zm0 41.223V128h18V73.223C359 77.76 434.24 153 438.777 247H384v18h54.777C434.24 359 359 434.24 265 438.777V384h-18v54.777C153 434.24 77.76 359 73.223 265H128v-18H73.223C77.76 153 153 77.76 247 73.223zM247 224v23h-23v18h23v23h18v-23h23v-18h-23v-23h-18z"},child:[]}]})(t)}function kX(t){return To({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.156 98.063c-4.05-.11-8.044 1.117-11.656 4-1.542 1.23-3.1 2.884-4.47 4.75-22.9 31.22-48.278 57.33-75.186 81-8.76 14.692 10.695 44.406 25.594 44.406 34.144-12.928 69.617-22.516 106.75-26.314 42.628-4.358 17.688-68.134-26.25-45.47 30.3-22.666 7.094-61.79-14.782-62.374zM310.47 108.156c-6.167-.108-12.215 1.172-17.595 4.28-1.576.912-3.042 1.948-4.406 3.095-.038-.056-.09-.13-.126-.186-79.912 66.402-116.334 73.468-158.22 86.844-6.886 2.2-12.27 7.18-16.5 15.5s-6.892 19.843-7.343 33.125c-.9 26.563 6.935 59.927 23.72 89.03 16.72 28.99 43.37 53.946 67.656 67.126 12.143 6.59 23.682 10.167 32.375 10.436 8.694.27 13.915-1.95 17.782-7.375 30.986-43.45 89.343-69.052 156.157-92.25-.005-.006.003-.023 0-.03 2.012-.663 3.967-1.51 5.842-2.594 8.2-4.738 13.535-12.897 16.282-22.125 2.747-9.227 3.22-19.75 2.03-31.25-.953-9.233-3.033-19.127-6.155-29.374-5.916 1.366-11.628 3.157-17.908 5.47 2.835 9.25 4.69 17.978 5.5 25.81 1.007 9.74.403 18.06-1.375 24.033-1.777 5.972-4.412 9.338-7.718 11.25-3.308 1.91-7.543 2.505-13.595 1.06-6.052-1.443-13.55-5.07-21.47-10.81-15.838-11.482-33.334-31.223-47.624-56-14.29-24.78-22.61-49.838-24.624-69.314-1.006-9.738-.403-18.027 1.375-24 1.78-5.973 4.414-9.37 7.72-11.28 1.653-.957 3.52-1.58 5.75-1.782.557-.05 1.147-.067 1.75-.063 1.81.014 3.824.272 6.094.814 6.05 1.444 13.518 5.04 21.437 10.78 8.218 5.957 16.884 14.166 25.314 24.126 5.07-4.055 9.34-8.25 13.406-13.188-8.97-10.46-18.366-19.26-27.75-26.062-9.354-6.78-18.733-11.61-28.094-13.844-2.34-.558-4.674-.935-7.03-1.125-.885-.07-1.776-.108-2.657-.124zm7.967 34.188c-.438.024-.86.063-1.28.125-17.327 2.54-14.97 36.035 5.03 74.56 20 38.528 50.52 67.576 67.844 65.032 5.995-.88 9.263-5.687 10.658-12.875-1.67 2.187-3.847 3.484-6.72 3.907-15.316 2.248-42.316-23.093-60-57.156-17.682-34.064-19.254-63.91-3.937-66.157 3.638-.53 7.69.417 12.345 2.782-8.68-6.8-17.353-10.583-23.938-10.218zM102 325.124c-16.555 1.844-35.304 3.26-57.063 4.376-49.128 2.523-25.555 71.576 30.094 52.22-49.365 29.9 3.86 86.927 26.97 46.75 10.362-18.016 21.88-33.79 34.375-47.814-8.42-9.644-16.078-20.224-22.563-31.47-4.52-7.835-8.462-15.898-11.812-24.06z"},child:[]}]})(t)}function PX(t){return To({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.563 22.094c-126.81 0-229.594 102.784-229.594 229.594 0 25.4 4.132 49.846 11.75 72.687 40.154-24.203 76.02-41.17 107.56-52.03-35.752 5.615-66.405 23.66-109.843 4 31.552-27.765 87.682-65.842 138.532-71.658 26.58-21.615 68.113-43.962 89.655-37.28 30.492-26.873 67.982-61.093 108.125-85.75 10.667 16.156 17.124 35.94 12.563 57.874-80.37 20.205-61.692 148.928 13.468 67.44 6.348 13.064 9.41 26.665 9.095 41.436-32.675 33.83-66.97 63.026-101.938 87.906.466 23.99-5.605 52.915-19 84.813-5.635 13.42-7.33 36.406 22.875 53.97 101.14-24.012 176.375-114.924 176.375-223.408 0-126.81-102.815-229.593-229.625-229.593zm3.312 164.375c-17.835 2.22-32.794 9.046-45.844 18.968 12.083-.036 25.612 2.882 37.5 6.156 6.208-6.698 10.236-18.52 8.345-25.125z"},child:[]}]})(t)}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aC=function(t,e){return aC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},aC(t,e)};function Xs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");aC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var AC=function(){return AC=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},AC.apply(this,arguments)};function ur(t,e,n,r){function s(o){return o instanceof n?o:new n(function(A){A(o)})}return new(n||(n=Promise))(function(o,A){function l(f){try{d(r.next(f))}catch(p){A(p)}}function c(f){try{d(r.throw(f))}catch(p){A(p)}}function d(f){f.done?o(f.value):s(f.value).then(l,c)}d((r=r.apply(t,[])).next())})}function Jn(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,A;return A={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function l(d){return function(f){return c([d,f])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(f){d=[6,f],s=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Cg(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||e)}var bo=(function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),ry=function(t,e){return bo.fromClientRect(t,e.getBoundingClientRect())},HX=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new bo(0,0,r,s)},sy=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var o=t.charCodeAt(n++);(o&64512)===56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Yt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,o="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},c2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xg=0;xg<c2.length;xg++)jX[c2.charCodeAt(xg)]=xg;var u2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eg=0;Eg<u2.length;Eg++)Wd[u2.charCodeAt(Eg)]=Eg;var VX=function(t){var e=t.length*.75,n=t.length,r,s=0,o,A,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(d)?d:new Uint8Array(d);for(r=0;r<n;r+=4)o=Wd[t.charCodeAt(r)],A=Wd[t.charCodeAt(r+1)],l=Wd[t.charCodeAt(r+2)],c=Wd[t.charCodeAt(r+3)],f[s++]=o<<2|A>>4,f[s++]=(A&15)<<4|l>>2,f[s++]=(l&3)<<6|c&63;return d},KX=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},GX=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},WA=5,NE=11,Ub=2,zX=NE-WA,fM=65536>>WA,WX=1<<WA,Fb=WX-1,qX=1024>>WA,$X=fM+qX,YX=$X,XX=32,JX=YX+XX,ZX=65536>>NE,eJ=1<<zX,tJ=eJ-1,d2=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},nJ=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},rJ=function(t,e){var n=VX(t),r=Array.isArray(n)?GX(n):new Uint32Array(n),s=Array.isArray(n)?KX(n):new Uint16Array(n),o=24,A=d2(s,o/2,r[4]/2),l=r[5]===2?d2(s,(o+r[4])/2):nJ(r,Math.ceil((o+r[4])/4));return new sJ(r[0],r[1],r[2],r[3],A,l)},sJ=(function(){function t(e,n,r,s,o,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=o,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>WA],n=(n<<Ub)+(e&Fb),this.data[n];if(e<=65535)return n=this.index[fM+(e-55296>>WA)],n=(n<<Ub)+(e&Fb),this.data[n];if(e<this.highStart)return n=JX-ZX+(e>>NE),n=this.index[n],n+=e>>WA&tJ,n=this.index[n],n=(n<<Ub)+(e&Fb),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),h2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _g=0;_g<h2.length;_g++)iJ[h2.charCodeAt(_g)]=_g;var oJ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",f2=50,aJ=1,pM=2,gM=3,AJ=4,lJ=5,p2=7,mM=8,g2=9,ba=10,lC=11,m2=12,cC=13,cJ=14,qd=15,uC=16,Sg=17,Dd=18,uJ=19,y2=20,dC=21,Od=22,Nb=23,uc=24,Hr=25,$d=26,Yd=27,dc=28,dJ=29,DA=30,hJ=31,Tg=32,Ig=33,hC=34,fC=35,pC=36,Ph=37,gC=38,dm=39,hm=40,Rb=41,yM=42,fJ=43,pJ=[9001,65288],vM="!",et="",Ug="",mC=rJ(oJ),Zi=[DA,pC],yC=[aJ,pM,gM,lJ],wM=[ba,mM],v2=[Yd,$d],gJ=yC.concat(wM),w2=[gC,dm,hm,hC,fC],mJ=[qd,cC],yJ=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(o,A){var l=mC.get(o);if(l>f2?(s.push(!0),l-=f2):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return r.push(A),n.push(uC);if(l===AJ||l===lC){if(A===0)return r.push(A),n.push(DA);var c=n[A-1];return gJ.indexOf(c)===-1?(r.push(r[A-1]),n.push(c)):(r.push(A),n.push(DA))}if(r.push(A),l===hJ)return n.push(e==="strict"?dC:Ph);if(l===yM||l===dJ)return n.push(DA);if(l===fJ)return o>=131072&&o<=196605||o>=196608&&o<=262141?n.push(Ph):n.push(DA);n.push(l)}),[r,n,s]},Qb=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var o=n;o<=r.length;){o++;var A=r[o];if(A===e)return!0;if(A!==ba)break}if(s===ba)for(var o=n;o>0;){o--;var l=r[o];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=n;c<=r.length;){c++;var A=r[c];if(A===e)return!0;if(A!==ba)break}if(l!==ba)break}return!1},b2=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===ba)n--;else return r}return 0},vJ=function(t,e,n,r,s){if(n[r]===0)return et;var o=r-1;if(Array.isArray(s)&&s[o]===!0)return et;var A=o-1,l=o+1,c=e[o],d=A>=0?e[A]:0,f=e[l];if(c===pM&&f===gM)return et;if(yC.indexOf(c)!==-1)return vM;if(yC.indexOf(f)!==-1||wM.indexOf(f)!==-1)return et;if(b2(o,e)===mM)return Ug;if(mC.get(t[o])===lC||(c===Tg||c===Ig)&&mC.get(t[l])===lC||c===p2||f===p2||c===g2||[ba,cC,qd].indexOf(c)===-1&&f===g2||[Sg,Dd,uJ,uc,dc].indexOf(f)!==-1||b2(o,e)===Od||Qb(Nb,Od,o,e)||Qb([Sg,Dd],dC,o,e)||Qb(m2,m2,o,e))return et;if(c===ba)return Ug;if(c===Nb||f===Nb)return et;if(f===uC||c===uC)return Ug;if([cC,qd,dC].indexOf(f)!==-1||c===cJ||d===pC&&mJ.indexOf(c)!==-1||c===dc&&f===pC||f===y2||Zi.indexOf(f)!==-1&&c===Hr||Zi.indexOf(c)!==-1&&f===Hr||c===Yd&&[Ph,Tg,Ig].indexOf(f)!==-1||[Ph,Tg,Ig].indexOf(c)!==-1&&f===$d||Zi.indexOf(c)!==-1&&v2.indexOf(f)!==-1||v2.indexOf(c)!==-1&&Zi.indexOf(f)!==-1||[Yd,$d].indexOf(c)!==-1&&(f===Hr||[Od,qd].indexOf(f)!==-1&&e[l+1]===Hr)||[Od,qd].indexOf(c)!==-1&&f===Hr||c===Hr&&[Hr,dc,uc].indexOf(f)!==-1)return et;if([Hr,dc,uc,Sg,Dd].indexOf(f)!==-1)for(var p=o;p>=0;){var g=e[p];if(g===Hr)return et;if([dc,uc].indexOf(g)!==-1)p--;else break}if([Yd,$d].indexOf(f)!==-1)for(var p=[Sg,Dd].indexOf(c)!==-1?A:o;p>=0;){var g=e[p];if(g===Hr)return et;if([dc,uc].indexOf(g)!==-1)p--;else break}if(gC===c&&[gC,dm,hC,fC].indexOf(f)!==-1||[dm,hC].indexOf(c)!==-1&&[dm,hm].indexOf(f)!==-1||[hm,fC].indexOf(c)!==-1&&f===hm||w2.indexOf(c)!==-1&&[y2,$d].indexOf(f)!==-1||w2.indexOf(f)!==-1&&c===Yd||Zi.indexOf(c)!==-1&&Zi.indexOf(f)!==-1||c===uc&&Zi.indexOf(f)!==-1||Zi.concat(Hr).indexOf(c)!==-1&&f===Od&&pJ.indexOf(t[l])===-1||Zi.concat(Hr).indexOf(f)!==-1&&c===Dd)return et;if(c===Rb&&f===Rb){for(var b=n[o],B=1;b>0&&(b--,e[b]===Rb);)B++;if(B%2!==0)return et}return c===Tg&&f===Ig?et:Ug},wJ=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=yJ(t,e.lineBreak),r=n[0],s=n[1],o=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(l){return[Hr,DA,yM].indexOf(l)!==-1?Ph:l}));var A=e.wordBreak==="keep-all"?o.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[r,s,A]},bJ=(function(){function t(e,n,r,s){this.codePoints=e,this.required=n===vM,this.start=r,this.end=s}return t.prototype.slice=function(){return Yt.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),BJ=function(t,e){var n=sy(t),r=wJ(n,e),s=r[0],o=r[1],A=r[2],l=n.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var f=et;d<l&&(f=vJ(n,o,s,++d,A))===et;);if(f!==et||d===l){var p=new bJ(n,f,c,d);return c=d,{value:p,done:!1}}return{done:!0,value:null}}}},CJ=1,xJ=2,mf=4,B2=8,Wm=10,C2=47,lh=92,EJ=9,_J=32,Fg=34,Md=61,SJ=35,TJ=36,IJ=37,Ng=39,Rg=40,Ld=41,UJ=95,xr=45,FJ=33,NJ=60,RJ=62,QJ=64,DJ=91,OJ=93,MJ=61,LJ=123,Qg=63,kJ=125,x2=124,PJ=126,HJ=128,E2=65533,Db=42,PA=43,jJ=44,VJ=58,KJ=59,Hh=46,GJ=0,zJ=8,WJ=11,qJ=14,$J=31,YJ=127,Bi=-1,bM=48,BM=97,CM=101,XJ=102,JJ=117,ZJ=122,xM=65,EM=69,_M=70,eZ=85,tZ=90,er=function(t){return t>=bM&&t<=57},nZ=function(t){return t>=55296&&t<=57343},hc=function(t){return er(t)||t>=xM&&t<=_M||t>=BM&&t<=XJ},rZ=function(t){return t>=BM&&t<=ZJ},sZ=function(t){return t>=xM&&t<=tZ},iZ=function(t){return rZ(t)||sZ(t)},oZ=function(t){return t>=HJ},Dg=function(t){return t===Wm||t===EJ||t===_J},qm=function(t){return iZ(t)||oZ(t)||t===UJ},_2=function(t){return qm(t)||er(t)||t===xr},aZ=function(t){return t>=GJ&&t<=zJ||t===WJ||t>=qJ&&t<=$J||t===YJ},ga=function(t,e){return t!==lh?!1:e!==Wm},Og=function(t,e,n){return t===xr?qm(e)||ga(e,n):qm(t)?!0:!!(t===lh&&ga(t,e))},Ob=function(t,e,n){return t===PA||t===xr?er(e)?!0:e===Hh&&er(n):er(t===Hh?e:t)},AZ=function(t){var e=0,n=1;(t[e]===PA||t[e]===xr)&&(t[e]===xr&&(n=-1),e++);for(var r=[];er(t[e]);)r.push(t[e++]);var s=r.length?parseInt(Yt.apply(void 0,r),10):0;t[e]===Hh&&e++;for(var o=[];er(t[e]);)o.push(t[e++]);var A=o.length,l=A?parseInt(Yt.apply(void 0,o),10):0;(t[e]===EM||t[e]===CM)&&e++;var c=1;(t[e]===PA||t[e]===xr)&&(t[e]===xr&&(c=-1),e++);for(var d=[];er(t[e]);)d.push(t[e++]);var f=d.length?parseInt(Yt.apply(void 0,d),10):0;return n*(s+l*Math.pow(10,-A))*Math.pow(10,c*f)},lZ={type:2},cZ={type:3},uZ={type:4},dZ={type:13},hZ={type:8},fZ={type:21},pZ={type:9},gZ={type:10},mZ={type:11},yZ={type:12},vZ={type:14},Mg={type:23},wZ={type:1},bZ={type:25},BZ={type:24},CZ={type:26},xZ={type:27},EZ={type:28},_Z={type:29},SZ={type:31},vC={type:32},SM=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(sy(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==vC;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Fg:return this.consumeStringToken(Fg);case SJ:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(_2(n)||ga(r,s)){var o=Og(n,r,s)?xJ:CJ,A=this.consumeName();return{type:5,value:A,flags:o}}break;case TJ:if(this.peekCodePoint(0)===Md)return this.consumeCodePoint(),dZ;break;case Ng:return this.consumeStringToken(Ng);case Rg:return lZ;case Ld:return cZ;case Db:if(this.peekCodePoint(0)===Md)return this.consumeCodePoint(),vZ;break;case PA:if(Ob(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case jJ:return uZ;case xr:var l=e,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Ob(l,c,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Og(l,c,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===xr&&d===RJ)return this.consumeCodePoint(),this.consumeCodePoint(),BZ;break;case Hh:if(Ob(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case C2:if(this.peekCodePoint(0)===Db)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===Db&&(f=this.consumeCodePoint(),f===C2))return this.consumeToken();if(f===Bi)return this.consumeToken()}break;case VJ:return CZ;case KJ:return xZ;case NJ:if(this.peekCodePoint(0)===FJ&&this.peekCodePoint(1)===xr&&this.peekCodePoint(2)===xr)return this.consumeCodePoint(),this.consumeCodePoint(),bZ;break;case QJ:var p=this.peekCodePoint(0),g=this.peekCodePoint(1),b=this.peekCodePoint(2);if(Og(p,g,b)){var A=this.consumeName();return{type:7,value:A}}break;case DJ:return EZ;case lh:if(ga(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case OJ:return _Z;case MJ:if(this.peekCodePoint(0)===Md)return this.consumeCodePoint(),hZ;break;case LJ:return mZ;case kJ:return yZ;case JJ:case eZ:var B=this.peekCodePoint(0),C=this.peekCodePoint(1);return B===PA&&(hc(C)||C===Qg)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case x2:if(this.peekCodePoint(0)===Md)return this.consumeCodePoint(),pZ;if(this.peekCodePoint(0)===x2)return this.consumeCodePoint(),fZ;break;case PJ:if(this.peekCodePoint(0)===Md)return this.consumeCodePoint(),gZ;break;case Bi:return vC}return Dg(e)?(this.consumeWhiteSpace(),SZ):er(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):qm(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Yt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();hc(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===Qg&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Yt.apply(void 0,e.map(function(c){return c===Qg?bM:c})),16),o=parseInt(Yt.apply(void 0,e.map(function(c){return c===Qg?_M:c})),16);return{type:30,start:s,end:o}}var A=parseInt(Yt.apply(void 0,e),16);if(this.peekCodePoint(0)===xr&&hc(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var l=[];hc(n)&&l.length<6;)l.push(n),n=this.consumeCodePoint();var o=parseInt(Yt.apply(void 0,l),16);return{type:30,start:A,end:o}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Rg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Rg?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Bi)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Ng||n===Fg){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Bi||this.peekCodePoint(0)===Ld)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Mg)}for(;;){var s=this.consumeCodePoint();if(s===Bi||s===Ld)return{type:22,value:Yt.apply(void 0,e)};if(Dg(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Bi||this.peekCodePoint(0)===Ld?(this.consumeCodePoint(),{type:22,value:Yt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Mg);if(s===Fg||s===Ng||s===Rg||aZ(s))return this.consumeBadUrlRemnants(),Mg;if(s===lh)if(ga(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Mg;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;Dg(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ld||e===Bi)return;ga(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=Yt.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===Bi||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===Wm)return this._value.splice(0,r),wZ;if(s===lh){var o=this._value[r+1];o!==Bi&&o!==void 0&&(o===Wm?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):ga(s,o)&&(n+=this.consumeStringSlice(r),n+=Yt(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=mf,r=this.peekCodePoint(0);for((r===PA||r===xr)&&e.push(this.consumeCodePoint());er(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===Hh&&er(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=B2;er(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((r===EM||r===CM)&&((s===PA||s===xr)&&er(o)||er(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=B2;er(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[AZ(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),o=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Og(s,o,A)){var l=this.consumeName();return{type:15,number:n,flags:r,unit:l}}return s===IJ?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(hc(e)){for(var n=Yt(e);hc(this.peekCodePoint(0))&&n.length<6;)n+=Yt(this.consumeCodePoint());Dg(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||nZ(r)||r>1114111?E2:r}return e===Bi?E2:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(_2(n))e+=Yt(n);else if(ga(n,this.peekCodePoint(0)))e+=Yt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t})(),TM=(function(){function t(e){this._tokens=e}return t.create=function(e){var n=new SM;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||IZ(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?vC:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),yf=function(t){return t.type===15},du=function(t){return t.type===17},wt=function(t){return t.type===20},TZ=function(t){return t.type===0},wC=function(t,e){return wt(t)&&t.value===e},IM=function(t){return t.type!==31},Wc=function(t){return t.type!==31&&t.type!==4},Fi=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},IZ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Da=function(t){return t.type===17||t.type===15},cn=function(t){return t.type===16||Da(t)},UM=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Kn={type:17,number:0,flags:mf},RE={type:16,number:50,flags:mf},Ba={type:16,number:100,flags:mf},Xd=function(t,e,n){var r=t[0],s=t[1];return[Et(r,e),Et(typeof s<"u"?s:r,n)]},Et=function(t,e){if(t.type===16)return t.number/100*e;if(yf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},FM="deg",NM="grad",RM="rad",QM="turn",iy={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case FM:return Math.PI*e.number/180;case NM:return Math.PI/200*e.number;case RM:return e.number;case QM:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},DM=function(t){return t.type===15&&(t.unit===FM||t.unit===NM||t.unit===RM||t.unit===QM)},OM=function(t){var e=t.filter(wt).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return ps(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,Ba];case"to right":case"left":return ps(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ba,Ba];case"to bottom":case"top":return ps(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ba,Kn];case"to left":case"right":return ps(270)}return 0},ps=function(t){return Math.PI*t/180},_a={name:"color",parse:function(t,e){if(e.type===18){var n=UZ[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),o=e.value.substring(2,3);return Ca(parseInt(r+r,16),parseInt(s+s,16),parseInt(o+o,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),o=e.value.substring(2,3),A=e.value.substring(3,4);return Ca(parseInt(r+r,16),parseInt(s+s,16),parseInt(o+o,16),parseInt(A+A,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),o=e.value.substring(4,6);return Ca(parseInt(r,16),parseInt(s,16),parseInt(o,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),o=e.value.substring(4,6),A=e.value.substring(6,8);return Ca(parseInt(r,16),parseInt(s,16),parseInt(o,16),parseInt(A,16)/255)}}if(e.type===20){var l=Ao[e.value.toUpperCase()];if(typeof l<"u")return l}return Ao.TRANSPARENT}},Sa=function(t){return(255&t)===0},xn=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Ca=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},S2=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},T2=function(t,e){var n=e.filter(Wc);if(n.length===3){var r=n.map(S2),s=r[0],o=r[1],A=r[2];return Ca(s,o,A,1)}if(n.length===4){var l=n.map(S2),s=l[0],o=l[1],A=l[2],c=l[3];return Ca(s,o,A,c)}return 0};function Mb(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var I2=function(t,e){var n=e.filter(Wc),r=n[0],s=n[1],o=n[2],A=n[3],l=(r.type===17?ps(r.number):iy.parse(t,r))/(Math.PI*2),c=cn(s)?s.number/100:0,d=cn(o)?o.number/100:0,f=typeof A<"u"&&cn(A)?Et(A,1):1;if(c===0)return Ca(d*255,d*255,d*255,1);var p=d<=.5?d*(c+1):d+c-d*c,g=d*2-p,b=Mb(g,p,l+1/3),B=Mb(g,p,l),C=Mb(g,p,l-1/3);return Ca(b*255,B*255,C*255,f)},UZ={hsl:I2,hsla:I2,rgb:T2,rgba:T2},ch=function(t,e){return _a.parse(t,TM.create(e).parseComponentValue())},Ao={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},FZ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(wt(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},NZ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oy=function(t,e){var n=_a.parse(t,e[0]),r=e[1];return r&&cn(r)?{color:n,stop:r}:{color:n,stop:null}},U2=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Kn),r.stop===null&&(r.stop=Ba);for(var s=[],o=0,A=0;A<t.length;A++){var l=t[A].stop;if(l!==null){var c=Et(l,e);c>o?s.push(c):s.push(o),o=c}else s.push(null)}for(var d=null,A=0;A<s.length;A++){var f=s[A];if(f===null)d===null&&(d=A);else if(d!==null){for(var p=A-d,g=s[d-1],b=(f-g)/(p+1),B=1;B<=p;B++)s[d+B-1]=b*B;d=null}}return t.map(function(C,E){var I=C.color;return{color:I,stop:Math.max(Math.min(1,s[E]/e),0)}})},RZ=function(t,e,n){var r=e/2,s=n/2,o=Et(t[0],e)-r,A=s-Et(t[1],n);return(Math.atan2(A,o)+Math.PI*2)%(Math.PI*2)},QZ=function(t,e,n){var r=typeof t=="number"?t:RZ(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),o=e/2,A=n/2,l=s/2,c=Math.sin(r-Math.PI/2)*l,d=Math.cos(r-Math.PI/2)*l;return[s,o-d,o+d,A-c,A+c]},Qs=function(t,e){return Math.sqrt(t*t+e*e)},F2=function(t,e,n,r,s){var o=[[0,0],[0,e],[t,0],[t,e]];return o.reduce(function(A,l){var c=l[0],d=l[1],f=Qs(n-c,r-d);return(s?f<A.optimumDistance:f>A.optimumDistance)?{optimumCorner:l,optimumDistance:f}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},DZ=function(t,e,n,r,s){var o=0,A=0;switch(t.size){case 0:t.shape===0?o=A=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(o=Math.min(Math.abs(e),Math.abs(e-r)),A=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)o=A=Math.min(Qs(e,n),Qs(e,n-s),Qs(e-r,n),Qs(e-r,n-s));else if(t.shape===1){var l=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),c=F2(r,s,e,n,!0),d=c[0],f=c[1];o=Qs(d-e,(f-n)/l),A=l*o}break;case 1:t.shape===0?o=A=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(o=Math.max(Math.abs(e),Math.abs(e-r)),A=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)o=A=Math.max(Qs(e,n),Qs(e,n-s),Qs(e-r,n),Qs(e-r,n-s));else if(t.shape===1){var l=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),p=F2(r,s,e,n,!1),d=p[0],f=p[1];o=Qs(d-e,(f-n)/l),A=l*o}break}return Array.isArray(t.size)&&(o=Et(t.size[0],r),A=t.size.length===2?Et(t.size[1],s):o),[o,A]},OZ=function(t,e){var n=ps(180),r=[];return Fi(e).forEach(function(s,o){if(o===0){var A=s[0];if(A.type===20&&A.value==="to"){n=OM(s);return}else if(DM(A)){n=iy.parse(t,A);return}}var l=oy(t,s);r.push(l)}),{angle:n,stops:r,type:1}},Lg=function(t,e){var n=ps(180),r=[];return Fi(e).forEach(function(s,o){if(o===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){n=OM(s);return}else if(DM(A)){n=(iy.parse(t,A)+ps(270))%ps(360);return}}var l=oy(t,s);r.push(l)}),{angle:n,stops:r,type:1}},MZ=function(t,e){var n=ps(180),r=[],s=1,o=0,A=3,l=[];return Fi(e).forEach(function(c,d){var f=c[0];if(d===0){if(wt(f)&&f.value==="linear"){s=1;return}else if(wt(f)&&f.value==="radial"){s=2;return}}if(f.type===18){if(f.name==="from"){var p=_a.parse(t,f.values[0]);r.push({stop:Kn,color:p})}else if(f.name==="to"){var p=_a.parse(t,f.values[0]);r.push({stop:Ba,color:p})}else if(f.name==="color-stop"){var g=f.values.filter(Wc);if(g.length===2){var p=_a.parse(t,g[1]),b=g[0];du(b)&&r.push({stop:{type:16,number:b.number*100,flags:b.flags},color:p})}}}}),s===1?{angle:(n+ps(180))%ps(360),stops:r,type:s}:{size:A,shape:o,stops:r,position:l,type:s}},MM="closest-side",LM="farthest-side",kM="closest-corner",PM="farthest-corner",HM="circle",jM="ellipse",VM="cover",KM="contain",LZ=function(t,e){var n=0,r=3,s=[],o=[];return Fi(e).forEach(function(A,l){var c=!0;if(l===0){var d=!1;c=A.reduce(function(p,g){if(d)if(wt(g))switch(g.value){case"center":return o.push(RE),p;case"top":case"left":return o.push(Kn),p;case"right":case"bottom":return o.push(Ba),p}else(cn(g)||Da(g))&&o.push(g);else if(wt(g))switch(g.value){case HM:return n=0,!1;case jM:return n=1,!1;case"at":return d=!0,!1;case MM:return r=0,!1;case VM:case LM:return r=1,!1;case KM:case kM:return r=2,!1;case PM:return r=3,!1}else if(Da(g)||cn(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return p},c)}if(c){var f=oy(t,A);s.push(f)}}),{size:r,shape:n,stops:s,position:o,type:2}},kg=function(t,e){var n=0,r=3,s=[],o=[];return Fi(e).forEach(function(A,l){var c=!0;if(l===0?c=A.reduce(function(f,p){if(wt(p))switch(p.value){case"center":return o.push(RE),!1;case"top":case"left":return o.push(Kn),!1;case"right":case"bottom":return o.push(Ba),!1}else if(cn(p)||Da(p))return o.push(p),!1;return f},c):l===1&&(c=A.reduce(function(f,p){if(wt(p))switch(p.value){case HM:return n=0,!1;case jM:return n=1,!1;case KM:case MM:return r=0,!1;case LM:return r=1,!1;case kM:return r=2,!1;case VM:case PM:return r=3,!1}else if(Da(p)||cn(p))return Array.isArray(r)||(r=[]),r.push(p),!1;return f},c)),c){var d=oy(t,A);s.push(d)}}),{size:r,shape:n,stops:s,position:o,type:2}},kZ=function(t){return t.type===1},PZ=function(t){return t.type===2},QE={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=GM[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function HZ(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!GM[t.name])}var GM={"linear-gradient":OZ,"-moz-linear-gradient":Lg,"-ms-linear-gradient":Lg,"-o-linear-gradient":Lg,"-webkit-linear-gradient":Lg,"radial-gradient":LZ,"-moz-radial-gradient":kg,"-ms-radial-gradient":kg,"-o-radial-gradient":kg,"-webkit-radial-gradient":kg,"-webkit-gradient":MZ},jZ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Wc(r)&&HZ(r)}).map(function(r){return QE.parse(t,r)})}},VZ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(wt(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},KZ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Fi(e).map(function(n){return n.filter(cn)}).map(UM)}},GZ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Fi(e).map(function(n){return n.filter(wt).map(function(r){return r.value}).join(" ")}).map(zZ)}},zZ=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Qc;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Qc||(Qc={}));var WZ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Fi(e).map(function(n){return n.filter(qZ)})}},qZ=function(t){return wt(t)||cn(t)},ay=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},$Z=ay("top"),YZ=ay("right"),XZ=ay("bottom"),JZ=ay("left"),Ay=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return UM(n.filter(cn))}}},ZZ=Ay("top-left"),eee=Ay("top-right"),tee=Ay("bottom-right"),nee=Ay("bottom-left"),ly=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ree=ly("top"),see=ly("right"),iee=ly("bottom"),oee=ly("left"),cy=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return yf(n)?n.number:0}}},aee=cy("top"),Aee=cy("right"),lee=cy("bottom"),cee=cy("left"),uee={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dee={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},hee={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(wt).reduce(function(n,r){return n|fee(r.value)},0)}},fee=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pee={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gee={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},$m;(function(t){t.NORMAL="normal",t.STRICT="strict"})($m||($m={}));var mee={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return $m.STRICT;case"normal":default:return $m.NORMAL}}},yee={name:"line-height",initialValue:"normal",prefix:!1,type:4},N2=function(t,e){return wt(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:cn(t)?Et(t,e):e},vee={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:QE.parse(t,e)}},wee={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},bC={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},uy=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},bee=uy("top"),Bee=uy("right"),Cee=uy("bottom"),xee=uy("left"),Eee={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(wt).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},_ee={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},dy=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},See=dy("top"),Tee=dy("right"),Iee=dy("bottom"),Uee=dy("left"),Fee={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Nee={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ree={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&wC(e[0],"none")?[]:Fi(e).map(function(n){for(var r={color:Ao.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},s=0,o=0;o<n.length;o++){var A=n[o];Da(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:r.blur=A,s++):r.color=_a.parse(t,A)}return r})}},Qee={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Dee={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=Lee[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},Oee=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},Mee=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],l=e[13];return e[14],e[15],e.length===16?[n,r,s,o,A,l]:null},Lee={matrix:Oee,matrix3d:Mee},R2={type:16,number:50,flags:mf},kee=[R2,R2],Pee={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(cn);return n.length!==2?kee:[n[0],n[1]]}},Hee={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},uh;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(uh||(uh={}));var jee={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return uh.BREAK_ALL;case"keep-all":return uh.KEEP_ALL;case"normal":default:return uh.NORMAL}}},Vee={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(du(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},zM={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Kee={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return du(e)?e.number:1}},Gee={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zee={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(wt).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Wee={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},qee={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},$ee={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(du(e))return e.number;if(wt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Yee={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(wt).map(function(n){return n.value})}},Xee={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},yn=function(t,e){return(t&e)!==0},Jee={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},Zee={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(IM),o=0;o<s.length;o++){var A=s[o],l=s[o+1];if(A.type===20){var c=l&&du(l)?l.number:1;r.push({counter:A.value,increment:c})}}return r}},ete={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(IM),s=0;s<r.length;s++){var o=r[s],A=r[s+1];if(wt(o)&&o.value!=="none"){var l=A&&du(A)?A.number:0;n.push({counter:o.value,reset:l})}}return n}},tte={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(yf).map(function(n){return zM.parse(t,n)})}},nte={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(TZ);if(s.length%2!==0)return null;for(var o=0;o<s.length;o+=2){var A=s[o].value,l=s[o+1].value;r.push({open:A,close:l})}return r}},Q2=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},rte={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&wC(e[0],"none")?[]:Fi(e).map(function(n){for(var r={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},s=0,o=0;o<n.length;o++){var A=n[o];wC(A,"inset")?r.inset=!0:Da(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:s===2?r.blur=A:r.spread=A,s++):r.color=_a.parse(t,A)}return r})}},ste={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(wt).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},ite={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ote={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return yf(e)?e.number:0}},ate=(function(){function t(e,n){var r,s;this.animationDuration=ye(e,tte,n.animationDuration),this.backgroundClip=ye(e,FZ,n.backgroundClip),this.backgroundColor=ye(e,NZ,n.backgroundColor),this.backgroundImage=ye(e,jZ,n.backgroundImage),this.backgroundOrigin=ye(e,VZ,n.backgroundOrigin),this.backgroundPosition=ye(e,KZ,n.backgroundPosition),this.backgroundRepeat=ye(e,GZ,n.backgroundRepeat),this.backgroundSize=ye(e,WZ,n.backgroundSize),this.borderTopColor=ye(e,$Z,n.borderTopColor),this.borderRightColor=ye(e,YZ,n.borderRightColor),this.borderBottomColor=ye(e,XZ,n.borderBottomColor),this.borderLeftColor=ye(e,JZ,n.borderLeftColor),this.borderTopLeftRadius=ye(e,ZZ,n.borderTopLeftRadius),this.borderTopRightRadius=ye(e,eee,n.borderTopRightRadius),this.borderBottomRightRadius=ye(e,tee,n.borderBottomRightRadius),this.borderBottomLeftRadius=ye(e,nee,n.borderBottomLeftRadius),this.borderTopStyle=ye(e,ree,n.borderTopStyle),this.borderRightStyle=ye(e,see,n.borderRightStyle),this.borderBottomStyle=ye(e,iee,n.borderBottomStyle),this.borderLeftStyle=ye(e,oee,n.borderLeftStyle),this.borderTopWidth=ye(e,aee,n.borderTopWidth),this.borderRightWidth=ye(e,Aee,n.borderRightWidth),this.borderBottomWidth=ye(e,lee,n.borderBottomWidth),this.borderLeftWidth=ye(e,cee,n.borderLeftWidth),this.boxShadow=ye(e,rte,n.boxShadow),this.color=ye(e,uee,n.color),this.direction=ye(e,dee,n.direction),this.display=ye(e,hee,n.display),this.float=ye(e,pee,n.cssFloat),this.fontFamily=ye(e,Wee,n.fontFamily),this.fontSize=ye(e,qee,n.fontSize),this.fontStyle=ye(e,Xee,n.fontStyle),this.fontVariant=ye(e,Yee,n.fontVariant),this.fontWeight=ye(e,$ee,n.fontWeight),this.letterSpacing=ye(e,gee,n.letterSpacing),this.lineBreak=ye(e,mee,n.lineBreak),this.lineHeight=ye(e,yee,n.lineHeight),this.listStyleImage=ye(e,vee,n.listStyleImage),this.listStylePosition=ye(e,wee,n.listStylePosition),this.listStyleType=ye(e,bC,n.listStyleType),this.marginTop=ye(e,bee,n.marginTop),this.marginRight=ye(e,Bee,n.marginRight),this.marginBottom=ye(e,Cee,n.marginBottom),this.marginLeft=ye(e,xee,n.marginLeft),this.opacity=ye(e,Kee,n.opacity);var o=ye(e,Eee,n.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=ye(e,_ee,n.overflowWrap),this.paddingTop=ye(e,See,n.paddingTop),this.paddingRight=ye(e,Tee,n.paddingRight),this.paddingBottom=ye(e,Iee,n.paddingBottom),this.paddingLeft=ye(e,Uee,n.paddingLeft),this.paintOrder=ye(e,ste,n.paintOrder),this.position=ye(e,Nee,n.position),this.textAlign=ye(e,Fee,n.textAlign),this.textDecorationColor=ye(e,Gee,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=ye(e,zee,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=ye(e,Ree,n.textShadow),this.textTransform=ye(e,Qee,n.textTransform),this.transform=ye(e,Dee,n.transform),this.transformOrigin=ye(e,Pee,n.transformOrigin),this.visibility=ye(e,Hee,n.visibility),this.webkitTextStrokeColor=ye(e,ite,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=ye(e,ote,n.webkitTextStrokeWidth),this.wordBreak=ye(e,jee,n.wordBreak),this.zIndex=ye(e,Vee,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Sa(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return yn(this.display,4)||yn(this.display,33554432)||yn(this.display,268435456)||yn(this.display,536870912)||yn(this.display,67108864)||yn(this.display,134217728)},t})(),Ate=(function(){function t(e,n){this.content=ye(e,Jee,n.content),this.quotes=ye(e,nte,n.quotes)}return t})(),D2=(function(){function t(e,n){this.counterIncrement=ye(e,Zee,n.counterIncrement),this.counterReset=ye(e,ete,n.counterReset)}return t})(),ye=function(t,e,n){var r=new SM,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var o=new TM(r.read());switch(e.type){case 2:var A=o.parseComponentValue();return e.parse(t,wt(A)?A.value:e.initialValue);case 0:return e.parse(t,o.parseComponentValue());case 1:return e.parse(t,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return iy.parse(t,o.parseComponentValue());case"color":return _a.parse(t,o.parseComponentValue());case"image":return QE.parse(t,o.parseComponentValue());case"length":var l=o.parseComponentValue();return Da(l)?l:Kn;case"length-percentage":var c=o.parseComponentValue();return cn(c)?c:Kn;case"time":return zM.parse(t,o.parseComponentValue())}break}},lte="data-html2canvas-debug",cte=function(t){var e=t.getAttribute(lte);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},BC=function(t,e){var n=cte(t);return n===1||e===n},Ni=(function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,BC(n,3))debugger;this.styles=new ate(e,window.getComputedStyle(n,null)),EC(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=ry(this.context,n),BC(n,4)&&(this.flags|=16)}return t})(),ute="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",O2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pg=0;Pg<O2.length;Pg++)Jd[O2.charCodeAt(Pg)]=Pg;var dte=function(t){var e=t.length*.75,n=t.length,r,s=0,o,A,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(d)?d:new Uint8Array(d);for(r=0;r<n;r+=4)o=Jd[t.charCodeAt(r)],A=Jd[t.charCodeAt(r+1)],l=Jd[t.charCodeAt(r+2)],c=Jd[t.charCodeAt(r+3)],f[s++]=o<<2|A>>4,f[s++]=(A&15)<<4|l>>2,f[s++]=(l&3)<<6|c&63;return d},hte=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},fte=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},qA=5,DE=11,Lb=2,pte=DE-qA,WM=65536>>qA,gte=1<<qA,kb=gte-1,mte=1024>>qA,yte=WM+mte,vte=yte,wte=32,bte=vte+wte,Bte=65536>>DE,Cte=1<<pte,xte=Cte-1,M2=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Ete=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},_te=function(t,e){var n=dte(t),r=Array.isArray(n)?fte(n):new Uint32Array(n),s=Array.isArray(n)?hte(n):new Uint16Array(n),o=24,A=M2(s,o/2,r[4]/2),l=r[5]===2?M2(s,(o+r[4])/2):Ete(r,Math.ceil((o+r[4])/4));return new Ste(r[0],r[1],r[2],r[3],A,l)},Ste=(function(){function t(e,n,r,s,o,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=o,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>qA],n=(n<<Lb)+(e&kb),this.data[n];if(e<=65535)return n=this.index[WM+(e-55296>>qA)],n=(n<<Lb)+(e&kb),this.data[n];if(e<this.highStart)return n=bte-Bte+(e>>DE),n=this.index[n],n+=e>>qA&xte,n=this.index[n],n=(n<<Lb)+(e&kb),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),L2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tte=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Hg=0;Hg<L2.length;Hg++)Tte[L2.charCodeAt(Hg)]=Hg;var Ite=1,Pb=2,Hb=3,k2=4,P2=5,Ute=7,H2=8,jb=9,Vb=10,j2=11,V2=12,K2=13,G2=14,Kb=15,Fte=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var o=t.charCodeAt(n++);(o&64512)===56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Nte=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,o="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},Rte=_te(ute),cs="",Gb="",Qte=function(t){return Rte.get(t)},Dte=function(t,e,n){var r=n-2,s=e[r],o=e[n-1],A=e[n];if(o===Pb&&A===Hb)return cs;if(o===Pb||o===Hb||o===k2||A===Pb||A===Hb||A===k2)return Gb;if(o===H2&&[H2,jb,j2,V2].indexOf(A)!==-1||(o===j2||o===jb)&&(A===jb||A===Vb)||(o===V2||o===Vb)&&A===Vb||A===K2||A===P2||A===Ute||o===Ite)return cs;if(o===K2&&A===G2){for(;s===P2;)s=e[--r];if(s===G2)return cs}if(o===Kb&&A===Kb){for(var l=0;s===Kb;)l++,s=e[--r];if(l%2===0)return cs}return Gb},Ote=function(t){var e=Fte(t),n=e.length,r=0,s=0,o=e.map(Qte);return{next:function(){if(r>=n)return{done:!0,value:null};for(var A=cs;r<n&&(A=Dte(e,o,++r))===cs;);if(A!==cs||r===n){var l=Nte.apply(null,e.slice(s,r));return s=r,{value:l,done:!1}}return{done:!0,value:null}}}},Mte=function(t){for(var e=Ote(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},Lte=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),o=Math.round(s.height);if(t.body.removeChild(r),o===e)return!0}}return!1},kte=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=sy(r.data).map(function(c){return Yt(c)}),o=0,A={},l=s.every(function(c,d){n.setStart(r,o),n.setEnd(r,o+c.length);var f=n.getBoundingClientRect();o+=c.length;var p=f.x>A.x||f.y>A.y;return A=f,d===0?!0:p});return t.body.removeChild(e),l},Pte=function(){return typeof new Image().crossOrigin<"u"},Hte=function(){return typeof new XMLHttpRequest().responseType=="string"},jte=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},z2=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Vte=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,o=e.toDataURL();s.src=o;var A=CC(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),W2(A).then(function(l){r.drawImage(l,0,0);var c=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var d=t.createElement("div");return d.style.backgroundImage="url("+o+")",d.style.height=n+"px",z2(c)?W2(CC(n,n,0,0,d)):Promise.reject(!1)}).then(function(l){return r.drawImage(l,0,0),z2(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},CC=function(t,e,n,r,s){var o="http://www.w3.org/2000/svg",A=document.createElementNS(o,"svg"),l=document.createElementNS(o,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(l),l.appendChild(s),A},W2=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},kn={get SUPPORT_RANGE_BOUNDS(){var t=Lte(document);return Object.defineProperty(kn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=kn.SUPPORT_RANGE_BOUNDS&&kte(document);return Object.defineProperty(kn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=jte(document);return Object.defineProperty(kn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Vte(document):Promise.resolve(!1);return Object.defineProperty(kn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Pte();return Object.defineProperty(kn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Hte();return Object.defineProperty(kn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(kn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(kn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},dh=(function(){function t(e,n){this.text=e,this.bounds=n}return t})(),Kte=function(t,e,n,r){var s=Wte(e,n),o=[],A=0;return s.forEach(function(l){if(n.textDecorationLine.length||l.trim().length>0)if(kn.SUPPORT_RANGE_BOUNDS){var c=q2(r,A,l.length).getClientRects();if(c.length>1){var d=OE(l),f=0;d.forEach(function(g){o.push(new dh(g,bo.fromDOMRectList(t,q2(r,f+A,g.length).getClientRects()))),f+=g.length})}else o.push(new dh(l,bo.fromDOMRectList(t,c)))}else{var p=r.splitText(l.length);o.push(new dh(l,Gte(t,r))),r=p}else kn.SUPPORT_RANGE_BOUNDS||(r=r.splitText(l.length));A+=l.length}),o},Gte=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var o=ry(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),o}}return bo.EMPTY},q2=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},OE=function(t){if(kn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return Mte(t)},zte=function(t,e){if(kn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return $te(t,e)},Wte=function(t,e){return e.letterSpacing!==0?OE(t):zte(t,e)},qte=[32,160,4961,65792,65793,4153,4241],$te=function(t,e){for(var n=BJ(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,o=function(){if(s.value){var A=s.value.slice(),l=sy(A),c="";l.forEach(function(d){qte.indexOf(d)===-1?c+=Yt(d):(c.length&&r.push(c),r.push(Yt(d)),c="")}),c.length&&r.push(c)}};!(s=n.next()).done;)o();return r},Yte=(function(){function t(e,n,r){this.text=Xte(n.data,r.textTransform),this.textBounds=Kte(e,this.text,r,n)}return t})(),Xte=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Jte,Zte);case 2:return t.toUpperCase();default:return t}},Jte=/(^|\s|:|-|\(|\))([a-z])/g,Zte=function(t,e,n){return t.length>0?e+n.toUpperCase():t},qM=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e})(Ni),$M=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e})(Ni),YM=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this,o=new XMLSerializer,A=ry(n,r);return r.setAttribute("width",A.width+"px"),r.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e})(Ni),XM=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e})(Ni),xC=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e})(Ni),ene=[{type:15,flags:0,unit:"px",number:3}],tne=[{type:16,flags:0,number:50}],nne=function(t){return t.width>t.height?new bo(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new bo(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},rne=function(t){var e=t.type===sne?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Ym="checkbox",Xm="radio",sne="password",$2=707406591,ME=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=rne(r),(s.type===Ym||s.type===Xm)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=nne(s.bounds)),s.type){case Ym:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=ene;break;case Xm:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=tne;break}return s}return e})(Ni),JM=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this,o=r.options[r.selectedIndex||0];return s.value=o&&o.text||"",s}return e})(Ni),ZM=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e})(Ni),eL=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=nL(n,r.contentWindow.document.documentElement);var o=r.contentWindow.document.documentElement?ch(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Ao.TRANSPARENT,A=r.contentWindow.document.body?ch(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Ao.TRANSPARENT;s.backgroundColor=Sa(o)?Sa(A)?s.styles.backgroundColor:A:o}}catch{}return s}return e})(Ni),ine=["OL","UL","MENU"],fm=function(t,e,n,r){for(var s=e.firstChild,o=void 0;s;s=o)if(o=s.nextSibling,rL(s)&&s.data.trim().length>0)n.textNodes.push(new Yte(t,s,n.styles));else if(Ic(s))if(aL(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return fm(t,l,n,r)});else{var A=tL(t,s);A.styles.isVisible()&&(one(s,A,r)?A.flags|=4:ane(A.styles)&&(A.flags|=2),ine.indexOf(s.tagName)!==-1&&(A.flags|=8),n.elements.push(A),s.slot,s.shadowRoot?fm(t,s.shadowRoot,A,r):!Jm(s)&&!sL(s)&&!Zm(s)&&fm(t,s,A,r))}},tL=function(t,e){return _C(e)?new qM(t,e):iL(e)?new $M(t,e):sL(e)?new YM(t,e):Ane(e)?new XM(t,e):lne(e)?new xC(t,e):cne(e)?new ME(t,e):Zm(e)?new JM(t,e):Jm(e)?new ZM(t,e):oL(e)?new eL(t,e):new Ni(t,e)},nL=function(t,e){var n=tL(t,e);return n.flags|=4,fm(t,e,n,n),n},one=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||LE(t)&&n.styles.isTransparent()},ane=function(t){return t.isPositioned()||t.isFloating()},rL=function(t){return t.nodeType===Node.TEXT_NODE},Ic=function(t){return t.nodeType===Node.ELEMENT_NODE},EC=function(t){return Ic(t)&&typeof t.style<"u"&&!pm(t)},pm=function(t){return typeof t.className=="object"},Ane=function(t){return t.tagName==="LI"},lne=function(t){return t.tagName==="OL"},cne=function(t){return t.tagName==="INPUT"},une=function(t){return t.tagName==="HTML"},sL=function(t){return t.tagName==="svg"},LE=function(t){return t.tagName==="BODY"},iL=function(t){return t.tagName==="CANVAS"},Y2=function(t){return t.tagName==="VIDEO"},_C=function(t){return t.tagName==="IMG"},oL=function(t){return t.tagName==="IFRAME"},X2=function(t){return t.tagName==="STYLE"},dne=function(t){return t.tagName==="SCRIPT"},Jm=function(t){return t.tagName==="TEXTAREA"},Zm=function(t){return t.tagName==="SELECT"},aL=function(t){return t.tagName==="SLOT"},J2=function(t){return t.tagName.indexOf("-")>0},hne=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,o=!0;r!==null&&r.forEach(function(l){var c=n.counters[l.counter];c&&l.increment!==0&&(o=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var A=[];return o&&s.forEach(function(l){var c=n.counters[l.counter];A.push(l.counter),c||(c=n.counters[l.counter]=[]),c.push(l.reset)}),A},t})(),Z2={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},eN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},fne={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pne={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},fc=function(t,e,n,r,s,o){return t<e||t>n?jh(t,s,o.length>0):r.integers.reduce(function(A,l,c){for(;t>=l;)t-=l,A+=r.values[c];return A},"")+o},AL=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},$t=function(t,e,n,r,s){var o=n-e+1;return(t<0?"-":"")+(AL(Math.abs(t),o,r,function(A){return Yt(Math.floor(A%o)+e)})+s)},SA=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return AL(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},vc=1,ha=2,fa=4,Zd=8,eo=function(t,e,n,r,s,o){if(t<-9999||t>9999)return jh(t,4,s.length>0);var A=Math.abs(t),l=s;if(A===0)return e[0]+l;for(var c=0;A>0&&c<=4;c++){var d=A%10;d===0&&yn(o,vc)&&l!==""?l=e[d]+l:d>1||d===1&&c===0||d===1&&c===1&&yn(o,ha)||d===1&&c===1&&yn(o,fa)&&t>100||d===1&&c>1&&yn(o,Zd)?l=e[d]+(c>0?n[c-1]:"")+l:d===1&&c>0&&(l=n[c-1]+l),A=Math.floor(A/10)}return(t<0?r:"")+l},tN="",nN="",rN="",zb="",jh=function(t,e,n){var r=n?". ":"",s=n?"":"",o=n?", ":"",A=n?" ":"";switch(e){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var l=$t(t,48,57,!0,r);return l.length<4?"0"+l:l;case 4:return SA(t,"",s);case 6:return fc(t,1,3999,Z2,3,r).toLowerCase();case 7:return fc(t,1,3999,Z2,3,r);case 8:return $t(t,945,969,!1,r);case 9:return $t(t,97,122,!1,r);case 10:return $t(t,65,90,!1,r);case 11:return $t(t,1632,1641,!0,r);case 12:case 49:return fc(t,1,9999,eN,3,r);case 35:return fc(t,1,9999,eN,3,r).toLowerCase();case 13:return $t(t,2534,2543,!0,r);case 14:case 30:return $t(t,6112,6121,!0,r);case 15:return SA(t,"",s);case 16:return SA(t,"",s);case 17:case 48:return eo(t,"",tN,"",s,ha|fa|Zd);case 47:return eo(t,"",nN,"",s,vc|ha|fa|Zd);case 42:return eo(t,"",tN,"",s,ha|fa|Zd);case 41:return eo(t,"",nN,"",s,vc|ha|fa|Zd);case 26:return eo(t,"","",rN,s,0);case 25:return eo(t,"","",rN,s,vc|ha|fa);case 31:return eo(t,"","",zb,o,vc|ha|fa);case 33:return eo(t,"","",zb,o,0);case 32:return eo(t,"","",zb,o,vc|ha|fa);case 18:return $t(t,2406,2415,!0,r);case 20:return fc(t,1,19999,pne,3,r);case 21:return $t(t,2790,2799,!0,r);case 22:return $t(t,2662,2671,!0,r);case 22:return fc(t,1,10999,fne,3,r);case 23:return SA(t,"");case 24:return SA(t,"");case 27:return $t(t,3302,3311,!0,r);case 28:return SA(t,"",s);case 29:return SA(t,"",s);case 34:return $t(t,3792,3801,!0,r);case 37:return $t(t,6160,6169,!0,r);case 38:return $t(t,4160,4169,!0,r);case 39:return $t(t,2918,2927,!0,r);case 40:return $t(t,1776,1785,!0,r);case 43:return $t(t,3046,3055,!0,r);case 44:return $t(t,3174,3183,!0,r);case 45:return $t(t,3664,3673,!0,r);case 46:return $t(t,3872,3881,!0,r);case 3:default:return $t(t,48,57,!0,r)}},lL="data-html2canvas-ignore",sN=(function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new hne,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=gne(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,l=s.contentWindow,c=l.document,d=vne(s).then(function(){return ur(r,void 0,void 0,function(){var f,p;return Jn(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(Cne),l&&(l.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==n.top||l.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-n.left,l.scrollY-n.top,0,0))),f=this.options.onclone,p=this.clonedReferenceElement,typeof p>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,yne(c)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(c,p)}).then(function(){return s})]:[2,s]}})})});return c.open(),c.write(bne(document.doctype)+"<html></html>"),Bne(this.referenceElement.ownerDocument,o,A),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},t.prototype.createElementClone=function(e){if(BC(e,2))debugger;if(iL(e))return this.createCanvasClone(e);if(Y2(e))return this.createVideoClone(e);if(X2(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return _C(n)&&(_C(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),J2(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return Wb(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(o,A){return A&&typeof A.cssText=="string"?o+A.cssText:o},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var o=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&o)A.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var l=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!Ic(n)||!dne(n)&&!n.hasAttribute(lL)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Ic(n)||!X2(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(Ic(o)&&aL(o)&&typeof o.assignedNodes=="function"){var A=o.assignedNodes();A.length&&A.forEach(function(l){return s.appendChildNode(n,l,r)})}else this.appendChildNode(n,o,r)},t.prototype.cloneNode=function(e,n){if(rL(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&Ic(e)&&(EC(e)||pm(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var o=r.getComputedStyle(e),A=r.getComputedStyle(e,":before"),l=r.getComputedStyle(e,":after");this.referenceElement===e&&EC(s)&&(this.clonedReferenceElement=s),LE(s)&&_ne(s);var c=this.counters.parse(new D2(this.context,o)),d=this.resolvePseudoContent(e,s,A,hh.BEFORE);J2(e)&&(n=!0),Y2(e)||this.cloneChildNodes(e,s,n),d&&s.insertBefore(d,s.firstChild);var f=this.resolvePseudoContent(e,s,l,hh.AFTER);return f&&s.appendChild(f),this.counters.pop(c),(o&&(this.options.copyStyles||pm(e))&&!oL(e)||n)&&Wb(o,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(Jm(e)||Zm(e))&&(Jm(s)||Zm(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var o=this;if(r){var A=r.content,l=n.ownerDocument;if(!(!l||!A||A==="none"||A==="-moz-alt-content"||r.display==="none")){this.counters.parse(new D2(this.context,r));var c=new Ate(this.context,r),d=l.createElement("html2canvaspseudoelement");Wb(r,d),c.content.forEach(function(p){if(p.type===0)d.appendChild(l.createTextNode(p.value));else if(p.type===22){var g=l.createElement("img");g.src=p.value,g.style.opacity="1",d.appendChild(g)}else if(p.type===18){if(p.name==="attr"){var b=p.values.filter(wt);b.length&&d.appendChild(l.createTextNode(e.getAttribute(b[0].value)||""))}else if(p.name==="counter"){var B=p.values.filter(Wc),C=B[0],E=B[1];if(C&&wt(C)){var I=o.counters.getCounterValue(C.value),F=E&&wt(E)?bC.parse(o.context,E.value):3;d.appendChild(l.createTextNode(jh(I,F,!1)))}}else if(p.name==="counters"){var Q=p.values.filter(Wc),C=Q[0],j=Q[1],E=Q[2];if(C&&wt(C)){var P=o.counters.getCounterValues(C.value),V=E&&wt(E)?bC.parse(o.context,E.value):3,R=j&&j.type===0?j.value:"",U=P.map(function(H){return jh(H,V,!1)}).join(R);d.appendChild(l.createTextNode(U))}}}else if(p.type===20)switch(p.value){case"open-quote":d.appendChild(l.createTextNode(Q2(c.quotes,o.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(Q2(c.quotes,--o.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(p.value))}}),d.className=SC+" "+TC;var f=s===hh.BEFORE?" "+SC:" "+TC;return pm(n)?n.className.baseValue+=f:n.className+=f,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),hh;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(hh||(hh={}));var gne=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(lL,"true"),t.body.appendChild(n),n},mne=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},yne=function(t){return Promise.all([].slice.call(t.images,0).map(mne))},vne=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var o=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(o),e(t))},50)}})},wne=["all","d","content"],Wb=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);wne.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},bne=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Bne=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Cne=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},xne=":before",Ene=":after",SC="___html2canvas___pseudoelement_before",TC="___html2canvas___pseudoelement_after",iN=`{
    content: "" !important;
    display: none !important;
}`,_ne=function(t){Sne(t,"."+SC+xne+iN+`
         .`+TC+Ene+iN)},Sne=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},cL=(function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),Tne=(function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||($b(e)||Nne(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ur(this,void 0,void 0,function(){var n,r,s,o,A=this;return Jn(this,function(l){switch(l.label){case 0:return n=cL.isSameOrigin(e),r=!qb(e)&&this._options.useCORS===!0&&kn.SUPPORT_CORS_IMAGES&&!n,s=!qb(e)&&!n&&!$b(e)&&typeof this._options.proxy=="string"&&kn.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!qb(e)&&!$b(e)&&!s&&!r?[2]:(o=e,s?[4,this.proxy(o)]:[3,2]);case 1:o=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,d){var f=new Image;f.onload=function(){return c(f)},f.onerror=d,(Rne(o)||r)&&(f.crossOrigin="anonymous"),f.src=o,f.complete===!0&&setTimeout(function(){return c(f)},500),A._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(o,A){var l=kn.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")o(c.response);else{var p=new FileReader;p.addEventListener("load",function(){return o(p.result)},!1),p.addEventListener("error",function(g){return A(g)},!1),p.readAsDataURL(c.response)}else A("Failed to proxy resource "+s+" with status code "+c.status)},c.onerror=A;var d=r.indexOf("?")>-1?"&":"?";if(c.open("GET",""+r+d+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),n._options.imageTimeout){var f=n._options.imageTimeout;c.timeout=f,c.ontimeout=function(){return A("Timed out ("+f+"ms) proxying "+s)}}c.send()})},t})(),Ine=/^data:image\/svg\+xml/i,Une=/^data:image\/.*;base64,/i,Fne=/^data:image\/.*/i,Nne=function(t){return kn.SUPPORT_SVG_DRAWING||!Qne(t)},qb=function(t){return Fne.test(t)},Rne=function(t){return Une.test(t)},$b=function(t){return t.substr(0,4)==="blob"},Qne=function(t){return t.substr(-3).toLowerCase()==="svg"||Ine.test(t)},me=(function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t})(),pc=function(t,e,n){return new me(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},jg=(function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=pc(this.start,this.startControl,e),s=pc(this.startControl,this.endControl,e),o=pc(this.endControl,this.end,e),A=pc(r,s,e),l=pc(s,o,e),c=pc(A,l,e);return n?new t(this.start,r,A,c):new t(c,l,o,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),us=function(t){return t.type===1},Dne=(function(){function t(e){var n=e.styles,r=e.bounds,s=Xd(n.borderTopLeftRadius,r.width,r.height),o=s[0],A=s[1],l=Xd(n.borderTopRightRadius,r.width,r.height),c=l[0],d=l[1],f=Xd(n.borderBottomRightRadius,r.width,r.height),p=f[0],g=f[1],b=Xd(n.borderBottomLeftRadius,r.width,r.height),B=b[0],C=b[1],E=[];E.push((o+c)/r.width),E.push((B+p)/r.width),E.push((A+C)/r.height),E.push((d+g)/r.height);var I=Math.max.apply(Math,E);I>1&&(o/=I,A/=I,c/=I,d/=I,p/=I,g/=I,B/=I,C/=I);var F=r.width-c,Q=r.height-g,j=r.width-p,P=r.height-C,V=n.borderTopWidth,R=n.borderRightWidth,U=n.borderBottomWidth,D=n.borderLeftWidth,L=Et(n.paddingTop,e.bounds.width),H=Et(n.paddingRight,e.bounds.width),M=Et(n.paddingBottom,e.bounds.width),N=Et(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||A>0?Qt(r.left+D/3,r.top+V/3,o-D/3,A-V/3,lt.TOP_LEFT):new me(r.left+D/3,r.top+V/3),this.topRightBorderDoubleOuterBox=o>0||A>0?Qt(r.left+F,r.top+V/3,c-R/3,d-V/3,lt.TOP_RIGHT):new me(r.left+r.width-R/3,r.top+V/3),this.bottomRightBorderDoubleOuterBox=p>0||g>0?Qt(r.left+j,r.top+Q,p-R/3,g-U/3,lt.BOTTOM_RIGHT):new me(r.left+r.width-R/3,r.top+r.height-U/3),this.bottomLeftBorderDoubleOuterBox=B>0||C>0?Qt(r.left+D/3,r.top+P,B-D/3,C-U/3,lt.BOTTOM_LEFT):new me(r.left+D/3,r.top+r.height-U/3),this.topLeftBorderDoubleInnerBox=o>0||A>0?Qt(r.left+D*2/3,r.top+V*2/3,o-D*2/3,A-V*2/3,lt.TOP_LEFT):new me(r.left+D*2/3,r.top+V*2/3),this.topRightBorderDoubleInnerBox=o>0||A>0?Qt(r.left+F,r.top+V*2/3,c-R*2/3,d-V*2/3,lt.TOP_RIGHT):new me(r.left+r.width-R*2/3,r.top+V*2/3),this.bottomRightBorderDoubleInnerBox=p>0||g>0?Qt(r.left+j,r.top+Q,p-R*2/3,g-U*2/3,lt.BOTTOM_RIGHT):new me(r.left+r.width-R*2/3,r.top+r.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=B>0||C>0?Qt(r.left+D*2/3,r.top+P,B-D*2/3,C-U*2/3,lt.BOTTOM_LEFT):new me(r.left+D*2/3,r.top+r.height-U*2/3),this.topLeftBorderStroke=o>0||A>0?Qt(r.left+D/2,r.top+V/2,o-D/2,A-V/2,lt.TOP_LEFT):new me(r.left+D/2,r.top+V/2),this.topRightBorderStroke=o>0||A>0?Qt(r.left+F,r.top+V/2,c-R/2,d-V/2,lt.TOP_RIGHT):new me(r.left+r.width-R/2,r.top+V/2),this.bottomRightBorderStroke=p>0||g>0?Qt(r.left+j,r.top+Q,p-R/2,g-U/2,lt.BOTTOM_RIGHT):new me(r.left+r.width-R/2,r.top+r.height-U/2),this.bottomLeftBorderStroke=B>0||C>0?Qt(r.left+D/2,r.top+P,B-D/2,C-U/2,lt.BOTTOM_LEFT):new me(r.left+D/2,r.top+r.height-U/2),this.topLeftBorderBox=o>0||A>0?Qt(r.left,r.top,o,A,lt.TOP_LEFT):new me(r.left,r.top),this.topRightBorderBox=c>0||d>0?Qt(r.left+F,r.top,c,d,lt.TOP_RIGHT):new me(r.left+r.width,r.top),this.bottomRightBorderBox=p>0||g>0?Qt(r.left+j,r.top+Q,p,g,lt.BOTTOM_RIGHT):new me(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=B>0||C>0?Qt(r.left,r.top+P,B,C,lt.BOTTOM_LEFT):new me(r.left,r.top+r.height),this.topLeftPaddingBox=o>0||A>0?Qt(r.left+D,r.top+V,Math.max(0,o-D),Math.max(0,A-V),lt.TOP_LEFT):new me(r.left+D,r.top+V),this.topRightPaddingBox=c>0||d>0?Qt(r.left+Math.min(F,r.width-R),r.top+V,F>r.width+R?0:Math.max(0,c-R),Math.max(0,d-V),lt.TOP_RIGHT):new me(r.left+r.width-R,r.top+V),this.bottomRightPaddingBox=p>0||g>0?Qt(r.left+Math.min(j,r.width-D),r.top+Math.min(Q,r.height-U),Math.max(0,p-R),Math.max(0,g-U),lt.BOTTOM_RIGHT):new me(r.left+r.width-R,r.top+r.height-U),this.bottomLeftPaddingBox=B>0||C>0?Qt(r.left+D,r.top+Math.min(P,r.height-U),Math.max(0,B-D),Math.max(0,C-U),lt.BOTTOM_LEFT):new me(r.left+D,r.top+r.height-U),this.topLeftContentBox=o>0||A>0?Qt(r.left+D+N,r.top+V+L,Math.max(0,o-(D+N)),Math.max(0,A-(V+L)),lt.TOP_LEFT):new me(r.left+D+N,r.top+V+L),this.topRightContentBox=c>0||d>0?Qt(r.left+Math.min(F,r.width+D+N),r.top+V+L,F>r.width+D+N?0:c-D+N,d-(V+L),lt.TOP_RIGHT):new me(r.left+r.width-(R+H),r.top+V+L),this.bottomRightContentBox=p>0||g>0?Qt(r.left+Math.min(j,r.width-(D+N)),r.top+Math.min(Q,r.height+V+L),Math.max(0,p-(R+H)),g-(U+M),lt.BOTTOM_RIGHT):new me(r.left+r.width-(R+H),r.top+r.height-(U+M)),this.bottomLeftContentBox=B>0||C>0?Qt(r.left+D+N,r.top+P,Math.max(0,B-(D+N)),C-(U+M),lt.BOTTOM_LEFT):new me(r.left+D+N,r.top+r.height-(U+M))}return t})(),lt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(lt||(lt={}));var Qt=function(t,e,n,r,s){var o=4*((Math.sqrt(2)-1)/3),A=n*o,l=r*o,c=t+n,d=e+r;switch(s){case lt.TOP_LEFT:return new jg(new me(t,d),new me(t,d-l),new me(c-A,e),new me(c,e));case lt.TOP_RIGHT:return new jg(new me(t,e),new me(t+A,e),new me(c,d-l),new me(c,d));case lt.BOTTOM_RIGHT:return new jg(new me(c,e),new me(c,e+l),new me(t+A,d),new me(t,d));case lt.BOTTOM_LEFT:default:return new jg(new me(c,d),new me(c-A,d),new me(t,e+l),new me(t,e))}},e0=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},One=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},t0=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Mne=(function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t})(),Vg=(function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t})(),Lne=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),kne=function(t){return t.type===0},uL=function(t){return t.type===1},Pne=function(t){return t.type===2},oN=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},Hne=function(t,e,n,r,s){return t.map(function(o,A){switch(A){case 0:return o.add(e,n);case 1:return o.add(e+r,n);case 2:return o.add(e+r,n+s);case 3:return o.add(e,n+s)}return o})},dL=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),hL=(function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new Dne(this.container),this.container.styles.opacity<1&&this.effects.push(new Lne(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new Mne(r,s,o))}if(this.container.styles.overflowX!==0){var A=e0(this.curves),l=t0(this.curves);oN(A,l)?this.effects.push(new Vg(A,6)):(this.effects.push(new Vg(A,2)),this.effects.push(new Vg(l,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var o=r.effects.filter(function(c){return!uL(c)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,o),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var A=e0(r.curves),l=t0(r.curves);oN(A,l)||s.unshift(new Vg(l,6))}}else s.unshift.apply(s,o);r=r.parent}return s.filter(function(c){return yn(c.target,e)})},t})(),IC=function(t,e,n,r){t.container.elements.forEach(function(s){var o=yn(s.flags,4),A=yn(s.flags,2),l=new hL(s,t);yn(s.styles.display,2048)&&r.push(l);var c=yn(s.flags,8)?[]:r;if(o||A){var d=o||s.styles.isPositioned()?n:e,f=new dL(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var p=s.styles.zIndex.order;if(p<0){var g=0;d.negativeZIndex.some(function(B,C){return p>B.element.container.styles.zIndex.order?(g=C,!1):g>0}),d.negativeZIndex.splice(g,0,f)}else if(p>0){var b=0;d.positiveZIndex.some(function(B,C){return p>=B.element.container.styles.zIndex.order?(b=C+1,!1):b>0}),d.positiveZIndex.splice(b,0,f)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else s.styles.isFloating()?d.nonPositionedFloats.push(f):d.nonPositionedInlineLevel.push(f);IC(l,f,o?f:n,c)}else s.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),IC(l,e,n,c);yn(s.flags,8)&&fL(s,c)})},fL=function(t,e){for(var n=t instanceof xC?t.start:1,r=t instanceof xC?t.reversed:!1,s=0;s<e.length;s++){var o=e[s];o.container instanceof XM&&typeof o.container.value=="number"&&o.container.value!==0&&(n=o.container.value),o.listValue=jh(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},jne=function(t){var e=new hL(t,null),n=new dL(e),r=[];return IC(e,n,n,r),fL(e.container,r),n},aN=function(t,e){switch(e){case 0:return gs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return gs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return gs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return gs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Vne=function(t,e){switch(e){case 0:return gs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return gs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return gs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return gs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Kne=function(t,e){switch(e){case 0:return gs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return gs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return gs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return gs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Gne=function(t,e){switch(e){case 0:return Kg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Kg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Kg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Kg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Kg=function(t,e){var n=[];return us(t)?n.push(t.subdivide(.5,!1)):n.push(t),us(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},gs=function(t,e,n,r){var s=[];return us(t)?s.push(t.subdivide(.5,!1)):s.push(t),us(n)?s.push(n.subdivide(.5,!0)):s.push(n),us(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),us(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},pL=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},n0=function(t){var e=t.styles,n=t.bounds,r=Et(e.paddingLeft,n.width),s=Et(e.paddingRight,n.width),o=Et(e.paddingTop,n.width),A=Et(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+o+A))},zne=function(t,e){return t===0?e.bounds:t===2?n0(e):pL(e)},Wne=function(t,e){return t===0?e.bounds:t===2?n0(e):pL(e)},Yb=function(t,e,n){var r=zne(wc(t.styles.backgroundOrigin,e),t),s=Wne(wc(t.styles.backgroundClip,e),t),o=qne(wc(t.styles.backgroundSize,e),n,r),A=o[0],l=o[1],c=Xd(wc(t.styles.backgroundPosition,e),r.width-A,r.height-l),d=$ne(wc(t.styles.backgroundRepeat,e),c,o,r,s),f=Math.round(r.left+c[0]),p=Math.round(r.top+c[1]);return[d,f,p,A,l]},gc=function(t){return wt(t)&&t.value===Qc.AUTO},Gg=function(t){return typeof t=="number"},qne=function(t,e,n){var r=e[0],s=e[1],o=e[2],A=t[0],l=t[1];if(!A)return[0,0];if(cn(A)&&l&&cn(l))return[Et(A,n.width),Et(l,n.height)];var c=Gg(o);if(wt(A)&&(A.value===Qc.CONTAIN||A.value===Qc.COVER)){if(Gg(o)){var d=n.width/n.height;return d<o!=(A.value===Qc.COVER)?[n.width,n.width/o]:[n.height*o,n.height]}return[n.width,n.height]}var f=Gg(r),p=Gg(s),g=f||p;if(gc(A)&&(!l||gc(l))){if(f&&p)return[r,s];if(!c&&!g)return[n.width,n.height];if(g&&c){var b=f?r:s*o,B=p?s:r/o;return[b,B]}var C=f?r:n.width,E=p?s:n.height;return[C,E]}if(c){var I=0,F=0;return cn(A)?I=Et(A,n.width):cn(l)&&(F=Et(l,n.height)),gc(A)?I=F*o:(!l||gc(l))&&(F=I/o),[I,F]}var Q=null,j=null;if(cn(A)?Q=Et(A,n.width):l&&cn(l)&&(j=Et(l,n.height)),Q!==null&&(!l||gc(l))&&(j=f&&p?Q/r*s:n.height),j!==null&&gc(A)&&(Q=f&&p?j/s*r:n.width),Q!==null&&j!==null)return[Q,j];throw new Error("Unable to calculate background-size for element")},wc=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},$ne=function(t,e,n,r,s){var o=e[0],A=e[1],l=n[0],c=n[1];switch(t){case 2:return[new me(Math.round(r.left),Math.round(r.top+A)),new me(Math.round(r.left+r.width),Math.round(r.top+A)),new me(Math.round(r.left+r.width),Math.round(c+r.top+A)),new me(Math.round(r.left),Math.round(c+r.top+A))];case 3:return[new me(Math.round(r.left+o),Math.round(r.top)),new me(Math.round(r.left+o+l),Math.round(r.top)),new me(Math.round(r.left+o+l),Math.round(r.height+r.top)),new me(Math.round(r.left+o),Math.round(r.height+r.top))];case 1:return[new me(Math.round(r.left+o),Math.round(r.top+A)),new me(Math.round(r.left+o+l),Math.round(r.top+A)),new me(Math.round(r.left+o+l),Math.round(r.top+A+c)),new me(Math.round(r.left+o),Math.round(r.top+A+c))];default:return[new me(Math.round(s.left),Math.round(s.top)),new me(Math.round(s.left+s.width),Math.round(s.top)),new me(Math.round(s.left+s.width),Math.round(s.height+s.top)),new me(Math.round(s.left),Math.round(s.height+s.top))]}},Yne="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",AN="Hidden Text",Xne=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),o=this._document.createElement("span"),A=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",A.appendChild(r),s.src=Yne,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=n,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(AN)),r.appendChild(o),r.appendChild(s);var l=s.offsetTop-o.offsetTop+2;r.removeChild(o),r.appendChild(this._document.createTextNode(AN)),r.style.lineHeight="normal",s.style.verticalAlign="super";var c=s.offsetTop-r.offsetTop+2;return A.removeChild(r),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t})(),gL=(function(){function t(e,n){this.context=e,this.options=n}return t})(),Jne=1e4,Zne=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Xne(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),Pne(n)&&(this.ctx.globalAlpha=n.opacity),kne(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),uL(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return ur(this,void 0,void 0,function(){var r;return Jn(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return ur(this,void 0,void 0,function(){return Jn(this,function(r){switch(r.label){case 0:if(yn(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var o=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var A=OE(n.text);A.reduce(function(l,c){return o.ctx.fillText(c,l,n.bounds.top+s),l+o.ctx.measureText(c).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=sre(n.fontFamily).join(", "),o=yf(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,o,s].join(" "),s,o]},e.prototype.renderTextNode=function(n,r){return ur(this,void 0,void 0,function(){var s,o,A,l,c,d,f,p,g=this;return Jn(this,function(b){return s=this.createFontStyle(r),o=s[0],A=s[1],l=s[2],this.ctx.font=o,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(A,l),d=c.baseline,f=c.middle,p=r.paintOrder,n.textBounds.forEach(function(B){p.forEach(function(C){switch(C){case 0:g.ctx.fillStyle=xn(r.color),g.renderTextWithLetterSpacing(B,r.letterSpacing,d);var E=r.textShadow;E.length&&B.text.trim().length&&(E.slice(0).reverse().forEach(function(I){g.ctx.shadowColor=xn(I.color),g.ctx.shadowOffsetX=I.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=I.offsetY.number*g.options.scale,g.ctx.shadowBlur=I.blur.number,g.renderTextWithLetterSpacing(B,r.letterSpacing,d)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=xn(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(I){switch(I){case 1:g.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top+d),B.bounds.width,1);break;case 2:g.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top),B.bounds.width,1);break;case 3:g.ctx.fillRect(B.bounds.left,Math.ceil(B.bounds.top+f),B.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&B.text.trim().length&&(g.ctx.strokeStyle=xn(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(B.text,B.bounds.left,B.bounds.top+d)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var o=n0(n),A=t0(r);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return ur(this,void 0,void 0,function(){var r,s,o,A,l,c,F,F,d,f,p,g,j,b,B,P,C,E,I,F,Q,j,P;return Jn(this,function(V){switch(V.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,o=r.styles,A=0,l=r.textNodes,V.label=1;case 1:return A<l.length?(c=l[A],[4,this.renderTextNode(c,o)]):[3,4];case 2:V.sent(),V.label=3;case 3:return A++,[3,1];case 4:if(!(r instanceof qM))return[3,8];V.label=5;case 5:return V.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return F=V.sent(),this.renderReplacedElement(r,s,F),[3,8];case 7:return V.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof $M&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof YM))return[3,12];V.label=9;case 9:return V.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return F=V.sent(),this.renderReplacedElement(r,s,F),[3,12];case 11:return V.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof eL&&r.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,d.render(r.tree)]):[3,14];case 13:f=V.sent(),r.width&&r.height&&this.ctx.drawImage(f,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),V.label=14;case 14:if(r instanceof ME&&(p=Math.min(r.bounds.width,r.bounds.height),r.type===Ym?r.checked&&(this.ctx.save(),this.path([new me(r.bounds.left+p*.39363,r.bounds.top+p*.79),new me(r.bounds.left+p*.16,r.bounds.top+p*.5549),new me(r.bounds.left+p*.27347,r.bounds.top+p*.44071),new me(r.bounds.left+p*.39694,r.bounds.top+p*.5649),new me(r.bounds.left+p*.72983,r.bounds.top+p*.23),new me(r.bounds.left+p*.84,r.bounds.top+p*.34085),new me(r.bounds.left+p*.39363,r.bounds.top+p*.79)]),this.ctx.fillStyle=xn($2),this.ctx.fill(),this.ctx.restore()):r.type===Xm&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+p/2,r.bounds.top+p/2,p/4,0,Math.PI*2,!0),this.ctx.fillStyle=xn($2),this.ctx.fill(),this.ctx.restore())),ere(r)&&r.value.length){switch(g=this.createFontStyle(o),j=g[0],b=g[1],B=this.fontMetrics.getMetrics(j,b).baseline,this.ctx.font=j,this.ctx.fillStyle=xn(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=nre(r.styles.textAlign),P=n0(r),C=0,r.styles.textAlign){case 1:C+=P.width/2;break;case 2:C+=P.width;break}E=P.add(C,0,0,-P.height/2+1),this.ctx.save(),this.path([new me(P.left,P.top),new me(P.left+P.width,P.top),new me(P.left+P.width,P.top+P.height),new me(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new dh(r.value,E),o.letterSpacing,B),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!yn(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(I=r.styles.listStyleImage,I.type!==0)return[3,18];F=void 0,Q=I.url,V.label=15;case 15:return V.trys.push([15,17,,18]),[4,this.context.cache.match(Q)];case 16:return F=V.sent(),this.ctx.drawImage(F,r.bounds.left-(F.width+10),r.bounds.top),[3,18];case 17:return V.sent(),this.context.logger.error("Error loading list-style-image "+Q),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(j=this.createFontStyle(o)[0],this.ctx.font=j,this.ctx.fillStyle=xn(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new bo(r.bounds.left,r.bounds.top+Et(r.styles.paddingTop,r.bounds.width),r.bounds.width,N2(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new dh(n.listValue,P),o.letterSpacing,N2(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),V.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return ur(this,void 0,void 0,function(){var r,s,I,o,A,I,l,c,I,d,f,I,p,g,I,b,B,I,C,E,I;return Jn(this,function(F){switch(F.label){case 0:if(yn(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:F.sent(),r=0,s=n.negativeZIndex,F.label=2;case 2:return r<s.length?(I=s[r],[4,this.renderStack(I)]):[3,5];case 3:F.sent(),F.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:F.sent(),o=0,A=n.nonInlineLevel,F.label=7;case 7:return o<A.length?(I=A[o],[4,this.renderNode(I)]):[3,10];case 8:F.sent(),F.label=9;case 9:return o++,[3,7];case 10:l=0,c=n.nonPositionedFloats,F.label=11;case 11:return l<c.length?(I=c[l],[4,this.renderStack(I)]):[3,14];case 12:F.sent(),F.label=13;case 13:return l++,[3,11];case 14:d=0,f=n.nonPositionedInlineLevel,F.label=15;case 15:return d<f.length?(I=f[d],[4,this.renderStack(I)]):[3,18];case 16:F.sent(),F.label=17;case 17:return d++,[3,15];case 18:p=0,g=n.inlineLevel,F.label=19;case 19:return p<g.length?(I=g[p],[4,this.renderNode(I)]):[3,22];case 20:F.sent(),F.label=21;case 21:return p++,[3,19];case 22:b=0,B=n.zeroOrAutoZIndexOrTransformedOrOpacity,F.label=23;case 23:return b<B.length?(I=B[b],[4,this.renderStack(I)]):[3,26];case 24:F.sent(),F.label=25;case 25:return b++,[3,23];case 26:C=0,E=n.positiveZIndex,F.label=27;case 27:return C<E.length?(I=E[C],[4,this.renderStack(I)]):[3,30];case 28:F.sent(),F.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,o){var A=us(s)?s.start:s;o===0?r.ctx.moveTo(A.x,A.y):r.ctx.lineTo(A.x,A.y),us(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,o){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,o),this.ctx.fill(),this.ctx.translate(-s,-o)},e.prototype.resizeImage=function(n,r,s){var o;if(n.width===r&&n.height===s)return n;var A=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,l=A.createElement("canvas");l.width=Math.max(1,r),l.height=Math.max(1,s);var c=l.getContext("2d");return c.drawImage(n,0,0,n.width,n.height,0,0,r,s),l},e.prototype.renderBackgroundImage=function(n){return ur(this,void 0,void 0,function(){var r,s,o,A,l,c;return Jn(this,function(d){switch(d.label){case 0:r=n.styles.backgroundImage.length-1,s=function(f){var p,g,b,L,W,se,N,Y,U,B,L,W,se,N,Y,C,E,I,F,Q,j,P,V,R,U,D,L,H,M,N,Y,ce,W,se,ne,ve,Se,G,re,Ae,ue,ge;return Jn(this,function(Te){switch(Te.label){case 0:if(f.type!==0)return[3,5];p=void 0,g=f.url,Te.label=1;case 1:return Te.trys.push([1,3,,4]),[4,o.context.cache.match(g)];case 2:return p=Te.sent(),[3,4];case 3:return Te.sent(),o.context.logger.error("Error loading background-image "+g),[3,4];case 4:return p&&(b=Yb(n,r,[p.width,p.height,p.width/p.height]),L=b[0],W=b[1],se=b[2],N=b[3],Y=b[4],U=o.ctx.createPattern(o.resizeImage(p,N,Y),"repeat"),o.renderRepeat(L,U,W,se)),[3,6];case 5:kZ(f)?(B=Yb(n,r,[null,null,null]),L=B[0],W=B[1],se=B[2],N=B[3],Y=B[4],C=QZ(f.angle,N,Y),E=C[0],I=C[1],F=C[2],Q=C[3],j=C[4],P=document.createElement("canvas"),P.width=N,P.height=Y,V=P.getContext("2d"),R=V.createLinearGradient(I,Q,F,j),U2(f.stops,E).forEach(function(we){return R.addColorStop(we.stop,xn(we.color))}),V.fillStyle=R,V.fillRect(0,0,N,Y),N>0&&Y>0&&(U=o.ctx.createPattern(P,"repeat"),o.renderRepeat(L,U,W,se))):PZ(f)&&(D=Yb(n,r,[null,null,null]),L=D[0],H=D[1],M=D[2],N=D[3],Y=D[4],ce=f.position.length===0?[RE]:f.position,W=Et(ce[0],N),se=Et(ce[ce.length-1],Y),ne=DZ(f,W,se,N,Y),ve=ne[0],Se=ne[1],ve>0&&Se>0&&(G=o.ctx.createRadialGradient(H+W,M+se,0,H+W,M+se,ve),U2(f.stops,ve*2).forEach(function(we){return G.addColorStop(we.stop,xn(we.color))}),o.path(L),o.ctx.fillStyle=G,ve!==Se?(re=n.bounds.left+.5*n.bounds.width,Ae=n.bounds.top+.5*n.bounds.height,ue=Se/ve,ge=1/ue,o.ctx.save(),o.ctx.translate(re,Ae),o.ctx.transform(1,0,0,ue,0,0),o.ctx.translate(-re,-Ae),o.ctx.fillRect(H,ge*(M-Ae)+Ae,N,Y*ge),o.ctx.restore()):o.ctx.fill())),Te.label=6;case 6:return r--,[2]}})},o=this,A=0,l=n.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return A<l.length?(c=l[A],[5,s(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return ur(this,void 0,void 0,function(){return Jn(this,function(o){return this.path(aN(s,r)),this.ctx.fillStyle=xn(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,o){return ur(this,void 0,void 0,function(){var A,l;return Jn(this,function(c){switch(c.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,o)]:[3,2];case 1:return c.sent(),[2];case 2:return A=Vne(o,s),this.path(A),this.ctx.fillStyle=xn(n),this.ctx.fill(),l=Kne(o,s),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return ur(this,void 0,void 0,function(){var r,s,o,A,l,c,d,f,p=this;return Jn(this,function(g){switch(g.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Sa(r.backgroundColor)||r.backgroundImage.length,o=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],A=tre(wc(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Sa(r.backgroundColor)||(this.ctx.fillStyle=xn(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(b){p.ctx.save();var B=e0(n.curves),C=b.inset?0:Jne,E=Hne(B,-C+(b.inset?1:-1)*b.spread.number,(b.inset?1:-1)*b.spread.number,b.spread.number*(b.inset?-2:2),b.spread.number*(b.inset?-2:2));b.inset?(p.path(B),p.ctx.clip(),p.mask(E)):(p.mask(B),p.ctx.clip(),p.path(E)),p.ctx.shadowOffsetX=b.offsetX.number+C,p.ctx.shadowOffsetY=b.offsetY.number,p.ctx.shadowColor=xn(b.color),p.ctx.shadowBlur=b.blur.number,p.ctx.fillStyle=b.inset?xn(b.color):"rgba(0,0,0,1)",p.ctx.fill(),p.ctx.restore()}),g.label=2;case 2:l=0,c=0,d=o,g.label=3;case 3:return c<d.length?(f=d[c],f.style!==0&&!Sa(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,l,n.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,l,n.curves,3)];case 6:return g.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,l,n.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,l,n.curves)];case 10:g.sent(),g.label=11;case 11:l++,g.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,o,A){return ur(this,void 0,void 0,function(){var l,c,d,f,p,g,b,B,C,E,I,F,Q,j,P,V,P,V;return Jn(this,function(R){return this.ctx.save(),l=Gne(o,s),c=aN(o,s),A===2&&(this.path(c),this.ctx.clip()),us(c[0])?(d=c[0].start.x,f=c[0].start.y):(d=c[0].x,f=c[0].y),us(c[1])?(p=c[1].end.x,g=c[1].end.y):(p=c[1].x,g=c[1].y),s===0||s===2?b=Math.abs(d-p):b=Math.abs(f-g),this.ctx.beginPath(),A===3?this.formatPath(l):this.formatPath(c.slice(0,2)),B=r<3?r*3:r*2,C=r<3?r*2:r,A===3&&(B=r,C=r),E=!0,b<=B*2?E=!1:b<=B*2+C?(I=b/(2*B+C),B*=I,C*=I):(F=Math.floor((b+C)/(B+C)),Q=(b-F*B)/(F-1),j=(b-(F+1)*B)/F,C=j<=0||Math.abs(C-Q)<Math.abs(C-j)?Q:j),E&&(A===3?this.ctx.setLineDash([0,B+C]):this.ctx.setLineDash([B,C])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=xn(n),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(us(c[0])&&(P=c[3],V=c[0],this.ctx.beginPath(),this.formatPath([new me(P.end.x,P.end.y),new me(V.start.x,V.start.y)]),this.ctx.stroke()),us(c[1])&&(P=c[1],V=c[2],this.ctx.beginPath(),this.formatPath([new me(P.end.x,P.end.y),new me(V.start.x,V.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return ur(this,void 0,void 0,function(){var r;return Jn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=xn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=jne(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(gL),ere=function(t){return t instanceof ZM||t instanceof JM?!0:t instanceof ME&&t.type!==Xm&&t.type!==Ym},tre=function(t,e){switch(t){case 0:return e0(e);case 2:return One(e);case 1:default:return t0(e)}},nre=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},rre=["-apple-system","system-ui"],sre=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return rre.indexOf(e)===-1}):t},ire=(function(t){Xs(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return ur(this,void 0,void 0,function(){var r,s;return Jn(this,function(o){switch(o.label){case 0:return r=CC(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,ore(r)];case 1:return s=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=xn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(gL),ore=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},are=(function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Cg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Cg([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Cg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Cg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),Are=(function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new are({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Tne(this,e)}return t.instanceCount=1,t})(),lre=function(t,e){return e===void 0&&(e={}),cre(t,e)};typeof window<"u"&&cL.setContext(window);var cre=function(t,e){return ur(void 0,void 0,void 0,function(){var n,r,s,o,A,l,c,d,f,p,g,b,B,C,E,I,F,Q,j,P,R,V,R,U,D,L,H,M,N,Y,ce,W,se,ne,ve,Se,G,re,Ae,ue;return Jn(this,function(ge){switch(ge.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(U=e.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(D=e.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:e.proxy,useCORS:(L=e.useCORS)!==null&&L!==void 0?L:!1},o=AC({logging:(H=e.logging)!==null&&H!==void 0?H:!0,cache:e.cache},s),A={windowWidth:(M=e.windowWidth)!==null&&M!==void 0?M:r.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:r.innerHeight,scrollX:(Y=e.scrollX)!==null&&Y!==void 0?Y:r.pageXOffset,scrollY:(ce=e.scrollY)!==null&&ce!==void 0?ce:r.pageYOffset},l=new bo(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),c=new Are(o,l),d=(W=e.foreignObjectRendering)!==null&&W!==void 0?W:!1,f={allowTaint:(se=e.allowTaint)!==null&&se!==void 0?se:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),p=new sN(c,t,f),g=p.clonedReferenceElement,g?[4,p.toIFrame(n,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return b=ge.sent(),B=LE(g)||une(g)?HX(g.ownerDocument):ry(c,g),C=B.width,E=B.height,I=B.left,F=B.top,Q=ure(c,g,e.backgroundColor),j={canvas:e.canvas,backgroundColor:Q,scale:(ve=(ne=e.scale)!==null&&ne!==void 0?ne:r.devicePixelRatio)!==null&&ve!==void 0?ve:1,x:((Se=e.x)!==null&&Se!==void 0?Se:0)+I,y:((G=e.y)!==null&&G!==void 0?G:0)+F,width:(re=e.width)!==null&&re!==void 0?re:Math.ceil(C),height:(Ae=e.height)!==null&&Ae!==void 0?Ae:Math.ceil(E)},d?(c.logger.debug("Document cloned, using foreign object rendering"),R=new ire(c,j),[4,R.render(g)]):[3,3];case 2:return P=ge.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+I+","+F+" with size "+C+"x"+E+" using computed rendering"),c.logger.debug("Starting DOM parsing"),V=nL(c,g),Q===V.styles.backgroundColor&&(V.styles.backgroundColor=Ao.TRANSPARENT),c.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),R=new Zne(c,j),[4,R.render(V)];case 4:P=ge.sent(),ge.label=5;case 5:return(!((ue=e.removeContainer)!==null&&ue!==void 0)||ue)&&(sN.destroy(b)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,P]}})})},ure=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?ch(t,getComputedStyle(r.documentElement).backgroundColor):Ao.TRANSPARENT,o=r.body?ch(t,getComputedStyle(r.body).backgroundColor):Ao.TRANSPARENT,A=typeof n=="string"?ch(t,n):n===null?Ao.TRANSPARENT:4294967295;return e===r.documentElement?Sa(s)?Sa(o)?A:o:s:A};const dre=({cardName:t,phase:e,onClose:n})=>{var o,A;const r=_.useRef(null),s=async()=>{if(!r.current)return;(await lre(r.current,{backgroundColor:"#000000",scale:2})).toBlob(async c=>{if(!c)return;const d=new File([c],"mission-report.png",{type:"image/png"});if(navigator.share&&navigator.canShare({files:[d]}))try{await navigator.share({files:[d],title:"Mission Report: Phase Complete",text:`PHASE ${e} COMPLETE. PROCEEDING TO NEXT STAGE.`})}catch(f){console.error("Share failed",f)}else{const f=document.createElement("a");f.download="mission-report.png",f.href=URL.createObjectURL(c),f.click()}})};return m.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"max-w-md w-full",children:[m.jsxs("div",{ref:r,className:"bg-black border-[4px] border-yellow-500 p-8 text-center relative overflow-hidden",style:{width:"400px",height:"400px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-yellow-500/20 via-transparent to-transparent"})}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h2",{className:"text-yellow-500 font-black text-3xl uppercase tracking-[6px]",children:"Mission Report"}),m.jsx("div",{className:"h-0.5 bg-yellow-500 w-1/2 mx-auto mt-1"})]}),m.jsxs("div",{className:"my-8",children:[m.jsxs("p",{className:"text-gray-500 text-[10px] uppercase tracking-[3px] mb-2 font-bold",children:["Phase ",e," Complete"]}),m.jsx("h3",{className:"text-white text-xl font-bold uppercase tracking-wide px-4",children:t})]}),m.jsx("div",{className:"mt-4",children:m.jsx("p",{className:"text-yellow-500/50 font-mono text-[8px] uppercase tracking-[2px]",children:"Status: Kill Confirmed / Market Secured"})}),m.jsx("div",{className:"absolute bottom-4 right-4 opacity-50",children:m.jsx("img",{src:((A=(o=window.pwaThemeVariables)==null?void 0:o.gameAssets)==null?void 0:A.logoGold)||"",alt:"Wolfpack",className:"w-8 h-8",onError:l=>{l.currentTarget.style.display="none"}})})]}),m.jsxs("div",{className:"mt-6 flex gap-4",children:[m.jsx("button",{onClick:n,className:"flex-1 border border-gray-700 text-gray-400 py-3 rounded uppercase text-xs font-bold hover:bg-gray-900 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:s,className:"flex-1 bg-yellow-500 text-black py-3 rounded uppercase text-xs font-bold hover:bg-yellow-400 transition-colors",children:"Report Success"})]})]})})},hre=[{step_number:1,title:"Ideation",phase:"Ideation & Validation",objective:"Generate ideas for new products/services",description:"Brainstorming session to identify potential market opportunities.",deliverables:["Idea List","Selection Matrix"],default_approach:"build"},{step_number:2,title:"Market Research",phase:"Ideation & Validation",objective:"Conduct research to determine viability",description:"Analyze market size, trends, and customer needs.",deliverables:["Market Research Report","SWOT Analysis"],default_approach:"build"},{step_number:3,title:"Competitive Analysis",phase:"Ideation & Validation",objective:"Analyze competitors in the market",description:"Identify direct and indirect competitors and their strategies.",deliverables:["Competitor Matrix","Feature Comparison"],default_approach:"build"},{step_number:4,title:"Target Market",phase:"Ideation & Validation",objective:"Determine the specific audience",description:"Define user personas and target demographics.",deliverables:["User Personas","Target Audience Profile"],default_approach:"build"},{step_number:5,title:"Unique Selling Proposition (USP)",phase:"Ideation & Validation",objective:"Develop a USP",description:"Articulate what makes the product unique and valuable.",deliverables:["USP Statement","Value Proposition Canvas"],default_approach:"build"},{step_number:6,title:"Minimum Viable Product (MVP)",phase:"Ideation & Validation",objective:"Develop an MVP to test",description:"Build the core version of the product to test hypotheses.",deliverables:["MVP Specs","Core Feature List"],default_approach:"build"},{step_number:7,title:"Prototype",phase:"Ideation & Validation",objective:"Develop a prototype",description:"Create a functional or visual prototype for user testing.",deliverables:["Wireframes","Interactive Prototype"],default_approach:"build"},{step_number:8,title:"Customer Feedback",phase:"Ideation & Validation",objective:"Gather feedback from potential customers",description:"Conduct interviews or surveys to validate the MVP.",deliverables:["Feedback Report","Iteration Plan"],default_approach:"build"},{step_number:9,title:"Product/Service Refinement",phase:"Refinement & Launch",objective:"Refine based on feedback",description:"Improve the product based on initial user feedback.",deliverables:["Refined Product Specs","Changelog"],default_approach:"build"},{step_number:10,title:"Branding",phase:"Refinement & Launch",objective:"Develop branding (Logo, Identity)",description:"Create the visual identity and brand voice.",deliverables:["Brand Guide","Logo Assets"],default_approach:"buy"},{step_number:11,title:"Marketing Plan",phase:"Refinement & Launch",objective:"Develop a marketing strategy",description:"Plan channels and tactics to reach the target audience.",deliverables:["Marketing Strategy Doc","Content Calendar"],default_approach:"build"},{step_number:12,title:"Pricing Strategy",phase:"Refinement & Launch",objective:"Develop a pricing model",description:"Determine pricing tier (High-end vs Competitive).",deliverables:["Pricing Model","Competitor Price Analysis"],default_approach:"build"},{step_number:13,title:"Launch Preparation",phase:"Refinement & Launch",objective:"Prepare for the launch",description:"Finalize generic assets and logistics for launch day.",deliverables:["Launch Checklist","Press Kit"],default_approach:"build"},{step_number:14,title:"Launch",phase:"Refinement & Launch",objective:"Execute the product/service launch",description:"Go live and announce the product to the market.",deliverables:["Live Product","Launch Announcement"],default_approach:"build"},{step_number:15,title:"Early Sales",phase:"Refinement & Launch",objective:"Generate initial sales",description:"Secure the first paying customers.",deliverables:["Sales Report","First Customer List"],default_approach:"build"},{step_number:16,title:"Customer Retention",phase:"Refinement & Launch",objective:"Develop strategies to keep customers",description:"Create loyalty programs or success plans.",deliverables:["Retention Strategy","Churn Analysis"],default_approach:"build"},{step_number:17,title:"Referral Program",phase:"Refinement & Launch",objective:"Develop word-of-mouth marketing",description:"Incentivize existing users to refer new ones.",deliverables:["Referral Logic","Incentive Plan"],default_approach:"build"},{step_number:18,title:"Expansion",phase:"Expansion & Scale",objective:"Expand into new markets",description:"Identify and enter new geographical or vertical markets.",deliverables:["Expansion Plan","Market Analysis"],default_approach:"build"},{step_number:19,title:"Strategic Partnerships",phase:"Expansion & Scale",objective:"Develop partnerships",description:"Form alliances to increase reach or capabilities.",deliverables:["Partnership Agreements","Partner List"],default_approach:"partner"},{step_number:20,title:"Scaling",phase:"Expansion & Scale",objective:"Plan to scale the product/service",description:"Prepare infrastructure and team for high growth.",deliverables:["Scaling Roadmap","Capacity Plan"],default_approach:"build"},{step_number:21,title:"Operations",phase:"Expansion & Scale",objective:"Develop operational processes",description:"Streamline internal workflows and SOPs.",deliverables:["SOPs","Operational Flowchart"],default_approach:"build"},{step_number:22,title:"Financial Planning",phase:"Expansion & Scale",objective:"Develop financial support plans",description:"Budgeting and forecasting for the next stage.",deliverables:["Financial Model","Budget"],default_approach:"build"},{step_number:23,title:"Funding",phase:"Expansion & Scale",objective:"Secure funding",description:"Raise capital from VCs, Angels, or loans.",deliverables:["Pitch Deck","Term Sheet"],default_approach:"partner"},{step_number:24,title:"Investor Relations",phase:"Expansion & Scale",objective:"Develop relationships with investors",description:"Manage communication with stakeholders.",deliverables:["Investor Updates","Cap Table"],default_approach:"partner"},{step_number:25,title:"Growth",phase:"Optimization & Exit",objective:"Continue to grow the product/service",description:"Execute growth hacking and optimization strategies.",deliverables:["Growth Metrics","Experiment Log"],default_approach:"build"},{step_number:26,title:"Industry Analysis",phase:"Optimization & Exit",objective:"Analyze market trends",description:"Stay ahead of industry shifts.",deliverables:["Trend Report","Strategic Adjustments"],default_approach:"build"},{step_number:27,title:"Pivot",phase:"Optimization & Exit",objective:"Determine if a pivot is necessary",description:"Evaluate if the business direction needs to change.",deliverables:["Pivot Analysis","Decision Memo"],default_approach:"build"},{step_number:28,title:"Innovation",phase:"Optimization & Exit",objective:"Explore new innovations",description:"R&D for next-gen features or products.",deliverables:["Innovation Pipeline","R&D Report"],default_approach:"build"},{step_number:29,title:"Intellectual Property",phase:"Optimization & Exit",objective:"Develop IP strategies",description:"Protect trademarks, patents, and copyrights.",deliverables:["IP Portfolio","Legal Filings"],default_approach:"outsource"},{step_number:30,title:"Talent Acquisition",phase:"Optimization & Exit",objective:"Develop strategies for hiring",description:"Recruit top talent to sustain growth.",deliverables:["Hiring Plan","Org Chart"],default_approach:"build"},{step_number:31,title:"Organizational Structure",phase:"Optimization & Exit",objective:"Develop the team structure",description:"Optimize management hierarchy and roles.",deliverables:["Organizational Design","Role Descriptions"],default_approach:"build"},{step_number:32,title:"Performance Metrics",phase:"Optimization & Exit",objective:"Develop metrics to measure success",description:"Define KPIs and OKRs.",deliverables:["KPI Dashboard","Success Metrics"],default_approach:"build"},{step_number:33,title:"Data Analysis",phase:"Optimization & Exit",objective:"Analyze data for decisions",description:"Leverage big data for strategic insights.",deliverables:["Data Warehouse","BI Reports"],default_approach:"build"},{step_number:34,title:"Risk Management",phase:"Optimization & Exit",objective:"Develop risk strategies",description:"Identify and mitigate business risks.",deliverables:["Risk Matrix","Mitigation Plan"],default_approach:"build"},{step_number:35,title:"Legal Compliance",phase:"Optimization & Exit",objective:"Ensure legal compliance",description:"Adhere to all regulations and laws.",deliverables:["Compliance Audit","Legal Docs"],default_approach:"outsource"},{step_number:36,title:"Social Responsibility",phase:"Optimization & Exit",objective:"Develop CSR strategies",description:"Give back to the community and ethical practices.",deliverables:["CSR Report","Impact Assessment"],default_approach:"build"},{step_number:37,title:"Crisis Management",phase:"Optimization & Exit",objective:"Develop crisis strategies",description:"Plan for potential PR or operational crises.",deliverables:["Crisis Playbook","Emergency Contacts"],default_approach:"build"},{step_number:38,title:"Reputation Management",phase:"Optimization & Exit",objective:"Manage brand reputation",description:"Monitor and improve public perception.",deliverables:["Sentiment Analysis","PR Plan"],default_approach:"build"},{step_number:39,title:"Exit Strategy",phase:"Optimization & Exit",objective:"Develop an exit strategy",description:"Plan for acquisition, IPO, or succession.",deliverables:["Exit Plan","Valuation Model"],default_approach:"build"},{step_number:40,title:"Success",phase:"Optimization & Exit",objective:"Celebrate the success",description:"Reflect on the journey and plan the next adventure.",deliverables:["The Feast","Wolfpack Legacy"],default_approach:"build"}],fre=(t,e)=>hre.map(n=>({title:n.title,description:n.description,objective:n.objective,deliverables:n.deliverables,approach:n.default_approach,step_number:n.step_number,project_id:t,assigned_to:[],ivp_value:5,status:Ct.BACKLOG,pace:"walk",created_at:new Date().toISOString(),updated_at:new Date().toISOString()})),pre=()=>{const{projectId:t}=jV(),{currentProject:e,projectTasks:n,setCurrentProjectId:r,updateTaskStatus:s,completeTask:o,createTask:A,loading:l}=Ux(),{setCurrentProjectId:c}=lf(),[d,f]=_.useState(!1),[p,g]=_.useState(!1),[b,B]=_.useState(!1),[C,E]=_.useState(null),[I,F]=_.useState(!1),[Q,j]=_.useState(null),[P,V]=_.useState(!1);_.useEffect(()=>(t&&(r(t),c(t)),()=>{r(null),c(null)}),[t,r,c]);const R=async L=>{const{destination:H,source:M,draggableId:N}=L;if(!H||H.droppableId===M.droppableId&&H.index===M.index)return;const Y=H.droppableId,ce=n.find(W=>W.id===N);try{Y===Ct.DONE?(await o(N),ce&&(E({name:ce.title,phase:ce.approach||"Build"}),B(!0))):(await s(N,Y),Y===Ct.IN_PROGRESS&&ce&&(j(ce),f(!0)))}catch(W){console.error("Error updating task status:",W)}},U=async()=>{if(!(!e||!t)){V(!0);try{const L=fre(t,e.owner_id),H=5;for(let M=0;M<L.length;M+=H){const N=L.slice(M,M+H);await Promise.all(N.map(Y=>A(Y)))}}catch(L){console.error("Failed to seed Wolf Den",L),alert("Partial initialization failure. Check console.")}finally{V(!1)}}},D={[Ct.BACKLOG]:n.filter(L=>L.status===Ct.BACKLOG),[Ct.TODO]:n.filter(L=>L.status===Ct.TODO),[Ct.IN_PROGRESS]:n.filter(L=>L.status===Ct.IN_PROGRESS),[Ct.DONE]:n.filter(L=>L.status===Ct.DONE)};return e?m.jsx("div",{className:"min-h-screen bg-gray-950 text-gray-200 font-sans",children:m.jsxs("div",{className:"container p-4 mx-auto max-w-[1400px]",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-8 border-b border-gray-800 pb-4",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl font-black text-white uppercase tracking-tighter",children:[e.name," ",m.jsx("span",{className:"text-yellow-500",children:"_DEN"})]}),m.jsxs("div",{className:"text-xs text-gray-500 font-mono tracking-widest mt-1",children:["OPERATION ID: ",e.id.slice(0,8)]})]}),m.jsxs("div",{className:"flex space-x-3 mt-4 md:mt-0",children:[n.length===0&&m.jsx("button",{onClick:U,disabled:P,className:"px-4 py-2 text-xs font-black text-black bg-cyan-500 rounded hover:bg-cyan-400 transition-colors uppercase tracking-widest animate-pulse",children:P?"INITIALIZING PROTOCOLS...":"INITIALIZE WOLF DEN"}),m.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 text-xs font-bold text-gray-400 border border-gray-700 rounded hover:bg-gray-800 hover:text-white transition-colors flex items-center uppercase tracking-wider",children:[m.jsx(QX,{className:"mr-2"})," Intel"]}),m.jsx("button",{onClick:()=>{j(null),f(!0)},className:"px-6 py-2 text-xs font-black text-black bg-yellow-500 rounded hover:bg-yellow-400 transition-colors uppercase tracking-widest shadow-[0_0_15px_rgba(234,179,8,0.3)] hover:shadow-[0_0_20px_rgba(234,179,8,0.5)]",children:"+ Initiate Task"})]})]}),m.jsx("div",{className:"flex justify-center mb-8",children:m.jsxs("div",{className:"inline-flex p-1 bg-gray-900 rounded-lg border border-gray-800",children:[m.jsxs("button",{onClick:()=>F(!0),className:`px-8 py-2 rounded text-xs font-black uppercase tracking-[0.2em] transition-all flex items-center ${I?"bg-gray-800 text-yellow-500 shadow-lg border border-gray-700":"text-gray-600 hover:text-gray-400"}`,children:[m.jsx(PX,{className:"mr-2 text-lg"})," Radar"]}),m.jsxs("button",{onClick:()=>F(!1),className:`px-8 py-2 rounded text-xs font-black uppercase tracking-[0.2em] transition-all flex items-center ${I?"text-gray-600 hover:text-gray-400":"bg-gray-800 text-yellow-500 shadow-lg border border-gray-700"}`,children:[m.jsx(OX,{className:"mr-2 text-lg"})," Board"]})]})}),I?m.jsx("div",{className:"flex justify-center mb-12 animate-in fade-in zoom-in duration-500",children:m.jsx(Y4,{tasks:n,onTaskClick:L=>{j(L),f(!0)},onDistressSignal:()=>{alert("DISTRESS SIGNAL DEPLOYED TO PACK (Simulated)")}})}):m.jsx(ZO,{onDragEnd:R,children:m.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4 h-[calc(100vh-250px)]",children:[m.jsxs("div",{className:"bg-gray-900/30 rounded-xl border border-dashed border-gray-800 flex flex-col h-full",children:[m.jsx("div",{className:"p-3 border-b border-gray-800 bg-gray-900/50 rounded-t-xl",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h2",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center",children:[m.jsx(NX,{className:"mr-2 opacity-50"}),"The Deck (Backlog)"]}),m.jsx("span",{className:"text-[10px] font-mono text-gray-600 bg-gray-800 px-2 py-0.5 rounded",children:D[Ct.BACKLOG].length})]})}),m.jsx(zd,{droppableId:Ct.BACKLOG,children:(L,H)=>m.jsxs("div",{ref:L.innerRef,...L.droppableProps,className:`flex-1 p-2 overflow-y-auto custom-scrollbar ${H.isDraggingOver?"bg-gray-800/30":""}`,children:[D[Ct.BACKLOG].map((M,N)=>m.jsx(zg,{task:M,index:N},M.id)),L.placeholder]})})]}),m.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 flex flex-col h-full",children:[m.jsx("div",{className:"p-3 border-b border-gray-800 bg-gray-900/80 rounded-t-xl backdrop-blur-sm",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h2",{className:"text-xs font-black text-white uppercase tracking-widest flex items-center",children:[m.jsx(RX,{className:"mr-2 text-gray-400"}),"Assigned (To Do)"]}),m.jsx("span",{className:"text-[10px] font-mono text-gray-400 bg-gray-800 px-2 py-0.5 rounded",children:D[Ct.TODO].length})]})}),m.jsx(zd,{droppableId:Ct.TODO,children:(L,H)=>m.jsxs("div",{ref:L.innerRef,...L.droppableProps,className:`flex-1 p-2 overflow-y-auto custom-scrollbar ${H.isDraggingOver?"bg-gray-800/50":""}`,children:[D[Ct.TODO].map((M,N)=>m.jsx(zg,{task:M,index:N},M.id)),L.placeholder]})})]}),m.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-blue-900/30 flex flex-col h-full relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-blue-500 opacity-30 shadow-[0_0_10px_rgba(59,130,246,0.5)]"}),m.jsx("div",{className:"p-3 border-b border-gray-800 bg-gray-900/80 rounded-t-xl backdrop-blur-sm",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h2",{className:"text-xs font-black text-blue-400 uppercase tracking-widest flex items-center shadow-blue-500/20 drop-shadow",children:[m.jsx(LX,{className:"mr-2 text-blue-500 animate-pulse"}),"In Pursuit (Doing)"]}),m.jsx("span",{className:"text-[10px] font-mono text-blue-400 bg-blue-900/20 px-2 py-0.5 rounded border border-blue-900/30",children:D[Ct.IN_PROGRESS].length})]})}),m.jsx(zd,{droppableId:Ct.IN_PROGRESS,children:(L,H)=>m.jsxs("div",{ref:L.innerRef,...L.droppableProps,className:`flex-1 p-2 overflow-y-auto custom-scrollbar ${H.isDraggingOver?"bg-blue-900/10":""}`,children:[D[Ct.IN_PROGRESS].map((M,N)=>m.jsx(zg,{task:M,index:N},M.id)),L.placeholder]})})]}),m.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 flex flex-col h-full",children:[m.jsx("div",{className:"p-3 border-b border-gray-800 bg-gray-900/80 rounded-t-xl backdrop-blur-sm",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h2",{className:"text-xs font-black text-yellow-500 uppercase tracking-widest flex items-center",children:[m.jsx(kX,{className:"mr-2 text-lg"}),"Kill Confirmed"]}),m.jsx("span",{className:"text-[10px] font-mono text-yellow-500 bg-yellow-900/20 px-2 py-0.5 rounded border border-yellow-900/30",children:D[Ct.DONE].length})]})}),m.jsx(zd,{droppableId:Ct.DONE,children:(L,H)=>m.jsxs("div",{ref:L.innerRef,...L.droppableProps,className:`flex-1 p-2 overflow-y-auto custom-scrollbar ${H.isDraggingOver?"bg-yellow-900/10":""}`,children:[D[Ct.DONE].map((M,N)=>m.jsx(zg,{task:M,index:N},M.id)),L.placeholder]})})]})]})}),m.jsx(lM,{isOpen:d,onClose:()=>{f(!1),j(null)},taskToEdit:Q}),p&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-auto bg-black bg-opacity-80 backdrop-blur-sm",children:m.jsxs("div",{className:"relative w-full max-w-4xl p-6 mx-auto bg-gray-900 border border-gray-700 rounded-lg shadow-2xl",children:[m.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white","aria-label":"Close",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),m.jsx("h2",{className:"mb-4 text-2xl font-black text-yellow-500 uppercase tracking-tighter",children:"Mission Intel"}),m.jsx("div",{className:"h-[70vh]",children:m.jsx("iframe",{src:"/assets/Build+Your+Wolfpack+Project+Management.pdf",className:"w-full h-full border border-gray-800 rounded bg-gray-100",title:"Project Management Guide"})})]})}),b&&C&&m.jsx(dre,{cardName:C.name,phase:C.phase,onClose:()=>B(!1)})]})}):m.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-950 text-yellow-500",children:"INITIALIZING MISSION CONTROL..."})},zg=({task:t,index:e})=>{const n=t.pace==="run"?"text-red-500 border-red-500/30 bg-red-500/10":t.pace==="walk"?"text-orange-500 border-orange-500/30 bg-orange-500/10":"text-blue-500 border-blue-500/30 bg-blue-500/10",r=t.pace==="run"?m.jsx(DX,{}):t.pace==="walk"?m.jsx(MX,{}):m.jsx("span",{className:"text-xs font-bold",children:"~"});return m.jsx(sM,{draggableId:t.id,index:e,children:(s,o)=>m.jsxs("div",{ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,className:`p-3 mb-2 bg-gray-800 rounded border border-gray-700 shadow-sm hover:shadow-lg transition-all group ${o.isDragging?"shadow-2xl border-yellow-500/50 rotate-1":""}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("span",{className:"text-[8px] text-gray-500 font-mono",children:["#",t.step_number||"00"]}),m.jsx("h3",{className:"font-bold text-gray-200 leading-tight pr-2 text-xs",children:t.title})]}),t.ivp_value>0&&m.jsxs("span",{className:"text-[9px] font-mono font-bold text-yellow-600 bg-yellow-900/10 px-1 py-0.5 rounded border border-yellow-900/20",children:["IVP",t.ivp_value]})]}),t.objective&&m.jsx("p",{className:"text-[10px] text-gray-400 mb-2 italic border-l-2 border-gray-700 pl-1",children:t.objective}),m.jsxs("div",{className:"flex flex-wrap items-center justify-between mt-2 pt-2 border-t border-gray-700/50",children:[m.jsx("span",{className:"text-[9px] uppercase font-bold tracking-wider text-gray-500",children:t.approach?t.approach:"GENERIC"}),m.jsxs("div",{className:`flex items-center space-x-1 px-1.5 py-0.5 rounded text-[9px] uppercase font-bold tracking-wider border ${n}`,children:[r,m.jsx("span",{children:t.pace||"WALK"})]}),t.assigned_to.length>0&&m.jsx("div",{className:"flex -space-x-1",children:t.assigned_to.map((A,l)=>m.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-600 border border-gray-800 flex items-center justify-center text-[6px] text-white",title:A,children:A.charAt(0)},l))})]})]})})},gre=t=>{var n;if((n=window.pwaThemeVariables)!=null&&n.gameAssets&&window.pwaThemeVariables.gameAssets[t])return window.pwaThemeVariables.gameAssets[t];const e=t.split("/").pop();return window.pwaThemeVariables&&window.pwaThemeVariables.assetsUrl?window.pwaThemeVariables.assetsUrl+e:window.shopifyCdnPath?window.shopifyCdnPath+e:(console.warn(`getAssetUrl: Asset not found for [${t}], falling back to raw path.`),t)},lN=()=>{const{token:t,selectCard:e,currentUser:n}=wn(),{triggerCelebration:r}=Ix(),[s,o]=_.useState([]),[A,l]=_.useState(!0),[c,d]=_.useState(null),[f,p]=_.useState(null),g=Ys();_.useEffect(()=>{console.log("CardSelection component mounted or updated"),console.log("Current user:",n),console.log("Current token:",t),(async()=>{console.log("Loading cards using cardsApi..."),l(!0);try{const C=await SB.getAllCards();console.log("Cards loaded via API:",C),o(C),console.log("Cards state after setCards:",C),n!=null&&n.selected_card_id&&(console.log("Setting selected card ID:",n.selected_card_id),p(n.selected_card_id)),d(null)}catch(C){console.error("Error loading cards:",C),d(typeof C.message=="string"?C.message:"Failed to load startup idea cards")}finally{l(!1),console.log("Loading state set to false")}})()},[n,t]);const b=async B=>{if(t){l(!0);try{await e(B),r("confetti"),setTimeout(()=>{g("/dashboard")},1500)}catch(C){console.error("Error selecting card:",C),d("Failed to select startup idea card")}finally{l(!1)}}};return A?m.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading startup ideas..."}):c?m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"p-4 text-red-700 bg-red-100 rounded-lg",children:c})}):m.jsxs("div",{className:"container p-4 mx-auto text-gray-100",children:[m.jsx("h1",{className:"mb-6 text-3xl font-black text-white uppercase italic tracking-tighter",children:"Select Your Startup Idea"}),m.jsx("p",{className:"mb-6 text-gray-400 font-mono text-sm max-w-2xl",children:"Choose a startup idea card that will represent your profile in the game. This defines your initial resources and strategy."}),m.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 pb-24",children:s.map(B=>m.jsxs("div",{className:`
              p-4 border rounded-lg shadow-sm cursor-pointer transition-all bg-gray-900
              ${f===B.id?"border-yellow-500 ring-2 ring-yellow-500/50 shadow-[0_0_20px_rgba(234,179,8,0.2)]":"border-gray-800 hover:border-yellow-600/50 hover:bg-gray-800"}
            `,onClick:()=>p(B.id),children:[m.jsx("div",{className:"flex items-center justify-center h-40 mb-4 bg-black/50 rounded border border-gray-800 overflow-hidden relative group",children:B.image_url?m.jsx("img",{src:gre(B.image_url),alt:B.name,className:"object-cover w-full h-full transform group-hover:scale-110 transition-transform duration-500"}):m.jsx("div",{className:"text-gray-600 font-mono text-xs uppercase",children:"No Visual"})}),m.jsx("h3",{className:"mb-2 text-lg font-bold text-white uppercase tracking-wide",children:B.name}),m.jsx("p",{className:"mb-3 text-sm text-gray-400 font-mono leading-relaxed line-clamp-3",children:B.description}),B.target_market&&m.jsxs("div",{className:"mb-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-yellow-600 uppercase tracking-wider block mb-1",children:"Target Market"}),m.jsx("p",{className:"text-xs text-gray-500 font-mono",children:B.target_market})]}),m.jsx("div",{className:`mt-4 pt-4 border-t border-gray-800 transition-opacity ${f===B.id?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:m.jsx("button",{onClick:C=>{C.stopPropagation(),b(B.id)},className:`w-full px-4 py-2 text-xs font-bold uppercase tracking-widest rounded transition-all ${f===B.id?"bg-yellow-500 text-black shadow-lg hover:bg-yellow-400":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:f===B.id?"Confirm Selection":"Select"})})]},B.id))})]})},mre=({tiles:t,className:e=""})=>{const[n,r]=_.useState([]),[s,o]=_.useState(Array(40).fill(!1)),[A,l]=_.useState(!0),c=40,d=45,f=50,p=50,g=[];for(let B=0;B<c;B++){const E=(-B*(360/c)-90)*(Math.PI/180),I=f+d*Math.cos(E),F=p+d*Math.sin(E);typeof I=="number"&&typeof F=="number"&&g.push({id:B+1,x:parseFloat(I.toFixed(2)),y:parseFloat(F.toFixed(2))})}_.useEffect(()=>{(async()=>{l(!0);try{r([{number:1,name:"Ideation",description:"Generate ideas for new products or services"},{number:2,name:"Market Research",description:"Conduct market research to determine viability of ideas"},{number:3,name:"Competitive Analysis",description:"Analyze competitors in the market"},{number:4,name:"Target Market",description:"Determine the target market for the product or service"},{number:5,name:"Unique Selling Proposition",description:"Develop a unique selling proposition for the product or service"},{number:6,name:"Minimum Viable Product",description:"Develop a minimum viable product to test in the market"},{number:7,name:"Prototype",description:"Develop a prototype for the product or service"},{number:8,name:"Customer Feedback",description:"Gather feedback from potential customers"},{number:9,name:"Product/Service Refinement",description:"Refine the product or service based on customer feedback"},{number:10,name:"Branding",description:"Develop branding for the product or service"},{number:11,name:"Marketing Plan",description:"Develop a marketing plan for the product or service"},{number:12,name:"Pricing Strategy",description:"Develop a pricing strategy for the product or service"},{number:13,name:"Launch Preparation",description:"Prepare for the launch of the product or service"},{number:14,name:"Launch",description:"Launch the product or service"},{number:15,name:"Early Sales",description:"Generate early sales for the product or service"},{number:16,name:"Customer Retention",description:"Develop strategies to retain customers"},{number:17,name:"Referral Program",description:"Develop a referral program to encourage word-of-mouth marketing"},{number:18,name:"Expansion",description:"Expand the product or service into new markets or offerings"},{number:19,name:"Strategic Partnerships",description:"Develop strategic partnerships to enhance the product or service"},{number:20,name:"Scaling",description:"Develop a plan to scale the product or service"},{number:21,name:"Operations",description:"Develop operational processes to support the product or service"},{number:22,name:"Financial Planning",description:"Develop financial plans to support the product or service"},{number:23,name:"Funding",description:"Secure funding to support the product or service"},{number:24,name:"Investor Relations",description:"Develop relationships with investors"},{number:25,name:"Growth",description:"Continue to grow the product or service"},{number:26,name:"Industry Analysis",description:"Analyze the industry and market trends"},{number:27,name:"Pivot",description:"Determine if a pivot is necessary"},{number:28,name:"Innovation",description:"Explore new innovations for the product or service"},{number:29,name:"Intellectual Property",description:"Develop intellectual property strategies"},{number:30,name:"Talent Acquisition",description:"Develop strategies for talent acquisition"},{number:31,name:"Organizational Structure",description:"Develop the organizational structure to support the product or service"},{number:32,name:"Performance Metrics",description:"Develop performance metrics to measure success"},{number:33,name:"Data Analysis",description:"Analyze data to make informed decisions"},{number:34,name:"Risk Management",description:"Develop strategies for risk management"},{number:35,name:"Legal Compliance",description:"Ensure legal compliance for the product or service"},{number:36,name:"Social Responsibility",description:"Develop strategies for social responsibility"},{number:37,name:"Crisis Management",description:"Develop strategies for crisis management"},{number:38,name:"Reputation Management",description:"Develop strategies for reputation management"},{number:39,name:"Exit Strategy",description:"Develop an exit strategy"},{number:40,name:"Success",description:"Celebrate the success of the product or service"}]),l(!1)}catch(C){console.error("Error loading board tile data:",C),l(!1)}})()},[]);const b=(B,C)=>{const E=[...s];E[B]=C,o(E)};return A?m.jsx("div",{className:"flex items-center justify-center h-full",children:"Loading gameboard data..."}):m.jsx("div",{className:`relative w-full max-w-3xl mx-auto aspect-square [container-type:inline-size] ${e}`,children:m.jsxs("div",{className:"absolute inset-0 rounded-full bg-[#0A0A23] overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-[#1A1A40] via-[#121230] to-[#0A0A23] opacity-80"}),n.map((B,C)=>m.jsxs("div",{className:`absolute w-[7%] aspect-[1.1] flex flex-col items-center justify-center transition-opacity duration-300 cursor-pointer ${s[C]?"opacity-100 bg-opacity-85 border border-[rgba(174,174,174,0.7)]":"opacity-0 pointer-events-none"} rounded -translate-x-1/2 -translate-y-1/2`,style:{left:`${g[C].x}%`,top:`${g[C].y}%`,backgroundColor:s[C]?"rgba(46,8,84,0.85)":"transparent"},onMouseEnter:()=>b(C,!0),onMouseLeave:()=>b(C,!1),onFocus:()=>b(C,!0),onBlur:()=>b(C,!1),tabIndex:0,title:B.description,children:[m.jsx("span",{className:"font-bold text-[#E0E0E0] leading-none text-[length:clamp(10px,2.5cqw,14px)]",children:B.number}),m.jsx("span",{className:"mt-0.5 text-[#E0E0E0] max-h-[40%] overflow-hidden text-ellipsis leading-tight hidden sm:block text-[length:clamp(6px,1.5cqw,10px)]",children:B.name})]},C)),m.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center justify-center z-5",children:[m.jsx("div",{className:"font-bold text-[#FFB74D] mb-[1cqw] text-center text-shadow text-[length:clamp(16px,4cqw,24px)]",children:"BUILD"}),m.jsx("div",{className:"font-bold text-[#AED581] mb-[1cqw] text-center text-shadow text-[length:clamp(16px,4cqw,24px)]",children:"MEASURE"}),m.jsx("div",{className:"font-bold text-[#7986CB] text-center text-shadow text-[length:clamp(16px,4cqw,24px)]",children:"LEARN"})]}),t&&t.map((B,C)=>{if(!B)return null;const E=C/40*2*Math.PI,I=45,F=50+I*Math.cos(E-Math.PI/2),Q=50+I*Math.sin(E-Math.PI/2);let j="#FFEB3B";return C<8?j="#FFEB3B":C<16?j="#FF9800":C<24?j="#F44336":C<32?j="#9C27B0":j="#3F51B5",m.jsx("div",{className:"absolute w-[6%] aspect-square rounded-full flex items-center justify-center font-bold text-white z-10 shadow-[0_0_10px_rgba(255,255,255,0.5)] -translate-x-1/2 -translate-y-1/2 text-[length:clamp(8px,2cqw,14px)]",style:{left:`${F}%`,top:`${Q}%`,backgroundColor:j},title:`${B.task_title} - Completed by ${B.user_name} (${B.ivp_value} IVP)`,children:C+1},`tile-${C}`)}),m.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[15%] aspect-square flex items-center justify-center font-bold text-white bg-[#1A1A40] rounded-full shadow-lg z-20 border-2 border-[rgba(255,255,255,0.2)] text-[length:clamp(14px,3cqw,20px)]",children:[(t==null?void 0:t.filter(B=>B).length)||0," / 40"]})]})})},cN=()=>{const{token:t}=wn(),{messages:e}=lf(),[n,r]=_.useState(Array(40).fill(null)),[s,o]=_.useState([]),[A,l]=_.useState([]),[c,d]=_.useState("ivp"),[f,p]=_.useState(!0),[g,b]=_.useState(null);_.useEffect(()=>{(async()=>{if(!t){p(!1);return}p(!0);try{const[E,I,F]=await Promise.all([aD.getGlobalGameboard(t),sU.getLeaderboardByIVP(t),sU.getLeaderboardByTiles(t)]),Q=Array(40).fill(null);E.tiles&&Array.isArray(E.tiles)&&E.tiles.forEach((j,P)=>{j&&(Q[P]=j)}),r(Q),o(I),l(F),b(null)}catch(E){console.error("Error loading data:",E),b("Failed to load data")}finally{p(!1)}})()},[t]),_.useEffect(()=>{if(e.length===0)return;const C=e[e.length-1];C.type==="task_completed"&&r(E=>{const I=[...E],F=C.data.gameboard.next_available_tile-1;return F>=0&&F<I.length&&(I[F]=C.data.gameboard.tiles[F]),I}),C.type==="leaderboard_updated"&&(C.data.by_ivp&&o(C.data.by_ivp),C.data.by_tiles&&l(C.data.by_tiles))},[e]);const B=c==="ivp"?s:A;return m.jsx("div",{className:"min-h-screen bg-gray-50",children:m.jsxs("div",{className:"container p-4 mx-auto",children:[m.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"Global Gameboard & Leaderboard"}),f?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"text-xl text-gray-500",children:"Loading data..."})}):g?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"p-4 text-red-700 bg-red-100 rounded-lg",children:g})}):m.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg",children:[m.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Gameboard"}),m.jsx("p",{className:"mb-6 text-gray-600",children:"This board shows the progress across all projects. Each tile represents a completed task."}),m.jsx(mre,{tiles:n,className:"mb-8"}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Recent Completions"}),m.jsx("div",{className:"overflow-hidden bg-gray-50 rounded-lg shadow",children:m.jsxs("ul",{className:"divide-y divide-gray-200",children:[n.filter(C=>C!==null).slice(-5).reverse().map((C,E)=>m.jsx("li",{className:"p-4 hover:bg-gray-100",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:C==null?void 0:C.task_title}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Completed by ",C==null?void 0:C.user_name]})]}),m.jsxs("span",{className:"px-2 py-1 text-sm font-semibold text-green-800 bg-green-100 rounded-full",children:[C==null?void 0:C.ivp_value," IVP"]})]})},E)),n.filter(C=>C!==null).length===0&&m.jsx("li",{className:"p-4 text-center text-gray-500",children:"No tasks completed yet"})]})})]})]})}),m.jsx("div",{children:m.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg",children:[m.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Leaderboard"}),m.jsxs("div",{className:"flex mb-6 border-b border-gray-200",children:[m.jsx("button",{className:`px-4 py-2 font-medium ${c==="ivp"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>d("ivp"),children:"By IVP"}),m.jsx("button",{className:`px-4 py-2 font-medium ${c==="tiles"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>d("tiles"),children:"By Tiles"})]}),m.jsx("div",{className:"overflow-hidden bg-white rounded-lg shadow",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Rank"}),m.jsx("th",{scope:"col",className:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Name"}),m.jsx("th",{scope:"col",className:"px-3 py-3 text-xs font-medium tracking-wider text-right text-gray-500 uppercase",children:c==="ivp"?"IVP":"Tiles"})]})}),m.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[B.map((C,E)=>m.jsxs("tr",{className:E<3?"bg-yellow-50":"",children:[m.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:m.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[E+1,E===0&&" ",E===1&&" ",E===2&&" "]})}),m.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name})}),m.jsx("td",{className:"px-3 py-3 text-right whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:c==="ivp"?C.total_ivp:C.total_tiles_filled})})]},C.id)),B.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-3 py-3 text-center text-sm text-gray-500",children:"No data available"})})]})]})})]})})]})]})})},yre=()=>{var o,A;const{currentUser:t,userCard:e,signOut:n}=wn(),r=Ys(),s=async()=>{try{await n(),r("/login")}catch(l){console.error("Error signing out:",l)}};return t?m.jsx("nav",{className:"bg-gray-950 border-b border-gray-800",children:m.jsx("div",{className:"container px-4 mx-auto",children:m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsx("div",{className:"flex items-center",children:m.jsxs(iu,{to:"/dashboard",className:"flex items-center",children:[m.jsx("img",{src:((A=(o=window.pwaThemeVariables)==null?void 0:o.gameAssets)==null?void 0:A.logoGold)||"https://cdn.shopify.com/s/files/1/0861/2764/0916/files/wolfpack-logo.png",alt:"Build Your Wolfpack",className:"h-8 w-auto"}),m.jsx("span",{className:"ml-2 text-sm font-mono font-bold text-gray-200 tracking-wider",children:"WOLFPACK"})]})}),m.jsx("div",{className:"flex-1"}),m.jsxs("div",{className:"flex items-center",children:[e&&m.jsxs("div",{className:"flex items-center mr-4",children:[m.jsx("div",{className:"w-8 h-8 mr-2 bg-gray-900 rounded border border-gray-700",children:e.image_url&&m.jsx("img",{src:e.image_url,alt:e.name,className:"object-cover w-full h-full rounded"})}),m.jsx("span",{className:"text-xs font-mono text-gray-400 hidden md:block",children:t.name})]}),m.jsx("button",{onClick:s,className:"px-3 py-1 text-xs font-mono font-medium text-red-500 border border-red-900/30 hover:bg-red-900/20 rounded bg-black",children:"LOGOUT"})]})]})})}):null},vre=()=>{const{token:t}=wn(),[e,n]=_.useState(null),[r,s]=_.useState(""),[o,A]=_.useState([]),[l,c]=_.useState([]),[d,f]=_.useState(""),[p,g]=_.useState(""),[b,B]=_.useState(!0),[C,E]=_.useState(null),[I,F]=_.useState(!1);_.useEffect(()=>{(async()=>{if(t)try{const D=await ao.getProfile(t);n(D),s(D.bio),A(D.skills),c(D.needs),E(null)}catch(D){console.error("Error loading profile:",D),n(null),s(""),A([]),c([])}finally{B(!1)}})()},[t]);const Q=()=>{d.trim()&&!o.includes(d.trim())&&(A([...o,d.trim()]),f(""))},j=U=>{A(o.filter(D=>D!==U))},P=()=>{p.trim()&&!l.includes(p.trim())&&(c([...l,p.trim()]),g(""))},V=U=>{c(l.filter(D=>D!==U))},R=async U=>{if(U.preventDefault(),!!t){B(!0),E(null),F(!1);try{const D={bio:r,skills:o,needs:l};e?await ao.updateProfile(t,D):await ao.createProfile(t,D),F(!0)}catch(D){console.error("Error saving profile:",D),E("Failed to save profile")}finally{B(!1)}}};return b?m.jsx("div",{className:"flex items-center justify-center p-4",children:"Loading..."}):m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Connection Profile"}),C&&m.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:C}),I&&m.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded",children:"Profile saved successfully!"}),m.jsxs("form",{onSubmit:R,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio - Tell others about yourself"}),m.jsx("textarea",{id:"bio",value:r,onChange:U=>s(U.target.value),className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:3,placeholder:"What makes you unique?",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills - What you're offering"}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:o.map(U=>m.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[U,m.jsx("button",{type:"button",onClick:()=>j(U),className:"ml-1.5 inline-flex items-center justify-center h-4 w-4 rounded-full bg-indigo-200 text-indigo-500 hover:bg-indigo-300",children:""})]},U))}),m.jsxs("div",{className:"flex",children:[m.jsx("input",{type:"text",value:d,onChange:U=>f(U.target.value),className:"flex-grow p-2 border border-gray-300 rounded-l focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add a skill (e.g., design, coding)"}),m.jsx("button",{type:"button",onClick:Q,className:"px-4 bg-indigo-600 text-white rounded-r hover:bg-indigo-700",children:"Add"})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Needs - What you're looking for"}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:l.map(U=>m.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[U,m.jsx("button",{type:"button",onClick:()=>V(U),className:"ml-1.5 inline-flex items-center justify-center h-4 w-4 rounded-full bg-yellow-200 text-yellow-500 hover:bg-yellow-300",children:""})]},U))}),m.jsxs("div",{className:"flex",children:[m.jsx("input",{type:"text",value:p,onChange:U=>g(U.target.value),className:"flex-grow p-2 border border-gray-300 rounded-l focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add a need (e.g., developer, cofounder)"}),m.jsx("button",{type:"button",onClick:P,className:"px-4 bg-indigo-600 text-white rounded-r hover:bg-indigo-700",children:"Add"})]})]}),m.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded",disabled:b,children:b?"Saving...":"Save Profile"})]})]})},wre=()=>{const{token:t}=wn(),{messages:e}=lf(),[n,r]=_.useState([]),[s,o]=_.useState(0),[A,l]=_.useState(!0),[c,d]=_.useState(null),[f,p]=_.useState(!1),[g,b]=_.useState(null);_.useEffect(()=>{(async()=>{if(t){l(!0);try{const Q=await ao.getAvailableProfiles(t);r(Q),d(null)}catch(Q){console.error("Error loading profiles:",Q),d("Failed to load profiles")}finally{l(!1)}}})()},[t]),_.useEffect(()=>{if(e.length===0)return;const F=e[e.length-1];F.type==="new_match"&&(p(!0),b(F.data.name),setTimeout(()=>{p(!1),b(null)},3e3))},[e]);const B=async F=>{if(t)try{(await ao.matchWithUser(t,F)).matched,E()}catch(Q){console.error("Error connecting with user:",Q),d("Failed to connect with user")}},C=()=>{E()},E=()=>{o(F=>{const Q=F+1;return Q>=n.length?(l(!0),ao.getAvailableProfiles(t||"").then(j=>{r(j),o(0),l(!1)}).catch(j=>{console.error("Error reloading profiles:",j),d("Failed to reload profiles"),l(!1)}),F):Q})};if(A)return m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})});if(c)return m.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded",children:c});if(n.length===0)return m.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No profiles available"}),m.jsx("p",{className:"text-gray-600",children:"There are no more profiles to connect with at the moment. Check back later!"})]});const I=n[s];return m.jsxs("div",{className:"relative",children:[f&&m.jsxs("div",{className:"absolute inset-0 bg-indigo-500 bg-opacity-90 flex flex-col items-center justify-center z-10 rounded-lg",children:[m.jsx("div",{className:"text-white text-4xl font-bold mb-4",children:"It's a Match!"}),m.jsxs("div",{className:"text-white text-xl",children:["You and ",g," have connected!"]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:I.name}),m.jsx("div",{className:"mb-4",children:m.jsx("p",{className:"text-gray-700",children:I.bio})}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Skills"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:I.skills.map(F=>m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:F},F))})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Looking For"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:I.needs.map(F=>m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:F},F))})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("button",{onClick:()=>C(),className:"flex-1 mr-2 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded",children:"Skip"}),m.jsx("button",{onClick:()=>B(I.user_id),className:"flex-1 ml-2 py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded",children:"Connect"})]})]})})]})},bre=()=>{const{token:t}=wn(),{messages:e}=lf(),n=Ys(),[r,s]=_.useState([]),[o,A]=_.useState(!0),[l,c]=_.useState(null),[d,f]=_.useState(!1),[p,g]=_.useState(null),[b,B]=_.useState(""),[C,E]=_.useState(""),[I,F]=_.useState(!1);_.useEffect(()=>{(async()=>{if(t){A(!0);try{const V=await ao.getMatches(t);s(V),c(null)}catch(V){console.error("Error loading matches:",V),c("Failed to load matches")}finally{A(!1)}}})()},[t]),_.useEffect(()=>{if(e.length===0)return;const P=e[e.length-1];P.type==="new_match"?t&&ao.getMatches(t).then(V=>s(V)).catch(V=>console.error("Error reloading matches:",V)):P.type==="new_board_invitation"&&n(`/project/${P.data.project_id}`)},[e,t,n]);const Q=P=>{g(P),B(`Collaboration with ${P.name}`),E("A new collaboration project"),f(!0)},j=async P=>{if(P.preventDefault(),!(!t||!p)){F(!0);try{const V={name:b,description:C},R=await ao.createBoardForMatch(t,p.user_id,V);f(!1),n(`/project/${R.id}`)}catch(V){console.error("Error creating board:",V),c("Failed to create board")}finally{F(!1)}}};return o?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):l?m.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded",children:l}):m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Matches"}),r.length===0?m.jsx("div",{className:"text-center py-8",children:m.jsx("p",{className:"text-gray-600",children:"You don't have any matches yet. Start connecting with other users!"})}):m.jsx("div",{className:"space-y-4",children:r.map(P=>m.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold",children:P.name}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Matched on ",new Date(P.matched_on).toLocaleDateString()]})]}),P.board_id?m.jsx("button",{onClick:()=>n(`/project/${P.board_id}`),className:"py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded",children:"View Board"}):m.jsx("button",{onClick:()=>Q(P),className:"py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded",children:"Create Board"})]})},P.user_id))}),d&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[m.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Create a Board with ",p==null?void 0:p.name]}),m.jsxs("form",{onSubmit:j,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"boardName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Board Name"}),m.jsx("input",{type:"text",id:"boardName",value:b,onChange:P=>B(P.target.value),className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"boardDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{id:"boardDescription",value:C,onChange:P=>E(P.target.value),className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:3})]}),m.jsxs("div",{className:"flex justify-end space-x-2",children:[m.jsx("button",{type:"button",onClick:()=>f(!1),className:"py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded",children:"Cancel"}),m.jsx("button",{type:"submit",className:"py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded",disabled:I,children:I?"Creating...":"Create Board"})]})]})]})})]})},Bre=()=>{};var uN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(t,e){if(!t)throw hu(e)},hu=function(t){return new Error("Firebase Database ("+mL.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Cre=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],A=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(A&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],A=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|A&63)}}return e.join("")},kE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],A=s+1<t.length,l=A?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,f=o>>2,p=(o&3)<<4|l>>4;let g=(l&15)<<2|d>>6,b=d&63;c||(b=64,A||(g=64)),r.push(n[f],n[p],n[g],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||d==null||p==null)throw new xre;const g=o<<2|l>>4;if(r.push(g),d!==64){const b=l<<4&240|d>>2;if(r.push(b),p!==64){const B=d<<6&192|p;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vL=function(t){const e=yL(t);return kE.encodeByteArray(e,!0)},r0=function(t){return vL(t).replace(/\./g,"")},s0=function(t){try{return kE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ere(t){return wL(void 0,t)}function wL(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_re(n)||(t[n]=wL(t[n],e[n]));return t}function _re(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre=()=>Sre().__FIREBASE_DEFAULTS__,Ire=()=>{if(typeof process>"u"||typeof uN>"u")return;const t=uN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ure=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&s0(t[1]);return e&&JSON.parse(e)},hy=()=>{try{return Bre()||Tre()||Ire()||Ure()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bL=t=>{var e,n;return(n=(e=hy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},BL=t=>{const e=bL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CL=()=>{var t;return(t=hy())==null?void 0:t.config},xL=t=>{var e;return(e=hy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[r0(JSON.stringify(n)),r0(JSON.stringify(A)),""].join(".")}const fh={};function Fre(){const t={prod:[],emulator:[]};for(const e of Object.keys(fh))fh[e]?t.emulator.push(e):t.prod.push(e);return t}function Nre(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dN=!1;function HE(t,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||fh[t]===e||fh[t]||dN)return;fh[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",o=Fre().prod.length>0;function A(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,b){g.setAttribute("width","24"),g.setAttribute("id",b),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{dN=!0,A()},g}function f(g,b){g.setAttribute("id",b),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=Nre(r),b=n("text"),B=document.getElementById(b)||document.createElement("span"),C=n("learnmore"),E=document.getElementById(C)||document.createElement("a"),I=n("preprendIcon"),F=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const Q=g.element;l(Q),f(E,C);const j=d();c(F,I),Q.append(F,B,E,j),document.body.appendChild(Q)}o?(B.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function Rre(){var e;const t=(e=hy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qre(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _L(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dre(){const t=ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ore(){return mL.NODE_ADMIN===!0}function Mre(){return!Rre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TL(){try{return typeof indexedDB=="object"}catch{return!1}}function IL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function Lre(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kre="FirebaseError";class Js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kre,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],A=o?Pre(o,r):"Error",l=`${this.serviceName}: ${A} (${s}).`;return new Js(s,l,r)}}function Pre(t,e){return t.replace(Hre,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Hre=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){return JSON.parse(t)}function Tn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=Vh(s0(o[0])||""),n=Vh(s0(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},jre=function(t){const e=UL(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Vre=function(t){const e=UL(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function UC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function i0(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Bo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],A=e[s];if(hN(o)&&hN(A)){if(!Bo(o,A))return!1}else if(o!==A)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const g=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(g<<1|g>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],A=this.chain_[2],l=this.chain_[3],c=this.chain_[4],d,f;for(let p=0;p<80;p++){p<40?p<20?(d=l^o&(A^l),f=1518500249):(d=o^A^l,f=1859775393):p<60?(d=o&A|l&(o|A),f=2400959708):(d=o^A^l,f=3395469782);const g=(s<<5|s>>>27)+d+c+f+r[p]&4294967295;c=l,l=A,A=(o<<30|o>>>2)&4294967295,o=s,s=g}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+A&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let A=this.inbuf_;for(;s<n;){if(A===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[A]=e.charCodeAt(s),++A,++s,A===this.blockSize){this.compress_(o),A=0;break}}else for(;s<n;)if(o[A]=e[s],++A,++s,A===this.blockSize){this.compress_(o),A=0;break}}this.inbuf_=A,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function Gre(t,e){const n=new zre(t,e);return n.subscribe.bind(n)}class zre{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Wre(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Xb),s.error===void 0&&(s.error=Xb),s.complete===void 0&&(s.complete=Xb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wre(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xb(){}function VE(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qre=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,he(r<t.length,"Surrogate pair missing trail surrogate.");const A=t.charCodeAt(r)-56320;s=65536+(o<<10)+A}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},py=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $re=1e3,Yre=2,Xre=14400*1e3,Jre=.5;function fN(t,e=$re,n=Yre){const r=e*Math.pow(n,t),s=Math.round(Jre*r*(Math.random()-.5)*2);return Math.min(Xre,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tse(e))try{this.getOrInitializeService({instanceIdentifier:RA})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=RA){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=RA){return this.instances.has(e)}getOptions(e=RA){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,A]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&A.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ese(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=RA){return this.component?this.component.multipleInstances?e:RA:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ese(t){return t===RA?void 0:t}function tse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zre(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const rse={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},sse=Xe.INFO,ise={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},ose=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ise[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vf{constructor(e){this.name=e,this._logLevel=sse,this._logHandler=ose,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rse[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const ase=(t,e)=>e.some(n=>t instanceof n);let pN,gN;function Ase(){return pN||(pN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lse(){return gN||(gN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FL=new WeakMap,FC=new WeakMap,NL=new WeakMap,Jb=new WeakMap,KE=new WeakMap;function cse(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",A)},o=()=>{n(Ta(t.result)),s()},A=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",A)});return e.then(n=>{n instanceof IDBCursor&&FL.set(n,t)}).catch(()=>{}),KE.set(e,t),e}function use(t){if(FC.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",A),t.removeEventListener("abort",A)},o=()=>{n(),s()},A=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",A),t.addEventListener("abort",A)});FC.set(t,e)}let NC={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return FC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dse(t){NC=t(NC)}function hse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zb(this),e,...n);return NL.set(r,e.sort?e.sort():[e]),Ta(r)}:lse().includes(t)?function(...e){return t.apply(Zb(this),e),Ta(FL.get(this))}:function(...e){return Ta(t.apply(Zb(this),e))}}function fse(t){return typeof t=="function"?hse(t):(t instanceof IDBTransaction&&use(t),ase(t,Ase())?new Proxy(t,NC):t)}function Ta(t){if(t instanceof IDBRequest)return cse(t);if(Jb.has(t))return Jb.get(t);const e=fse(t);return e!==t&&(Jb.set(t,e),KE.set(e,t)),e}const Zb=t=>KE.get(t);function RL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const A=indexedDB.open(t,e),l=Ta(A);return r&&A.addEventListener("upgradeneeded",c=>{r(Ta(A.result),c.oldVersion,c.newVersion,Ta(A.transaction),c)}),n&&A.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const pse=["get","getKey","getAll","getAllKeys","count"],gse=["put","add","delete","clear"],eB=new Map;function mN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eB.get(e))return eB.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=gse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pse.includes(n)))return;const o=async function(A,...l){const c=this.transaction(A,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return eB.set(e,o),o}dse(t=>({...t,get:(e,n,r)=>mN(e,n)||t.get(e,n,r),has:(e,n)=>!!mN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const RC="@firebase/app",yN="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new vf("@firebase/app"),vse="@firebase/app-compat",wse="@firebase/analytics-compat",bse="@firebase/analytics",Bse="@firebase/app-check-compat",Cse="@firebase/app-check",xse="@firebase/auth",Ese="@firebase/auth-compat",_se="@firebase/database",Sse="@firebase/data-connect",Tse="@firebase/database-compat",Ise="@firebase/functions",Use="@firebase/functions-compat",Fse="@firebase/installations",Nse="@firebase/installations-compat",Rse="@firebase/messaging",Qse="@firebase/messaging-compat",Dse="@firebase/performance",Ose="@firebase/performance-compat",Mse="@firebase/remote-config",Lse="@firebase/remote-config-compat",kse="@firebase/storage",Pse="@firebase/storage-compat",Hse="@firebase/firestore",jse="@firebase/ai",Vse="@firebase/firestore-compat",Kse="firebase",Gse="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="[DEFAULT]",zse={[RC]:"fire-core",[vse]:"fire-core-compat",[bse]:"fire-analytics",[wse]:"fire-analytics-compat",[Cse]:"fire-app-check",[Bse]:"fire-app-check-compat",[xse]:"fire-auth",[Ese]:"fire-auth-compat",[_se]:"fire-rtdb",[Sse]:"fire-data-connect",[Tse]:"fire-rtdb-compat",[Ise]:"fire-fn",[Use]:"fire-fn-compat",[Fse]:"fire-iid",[Nse]:"fire-iid-compat",[Rse]:"fire-fcm",[Qse]:"fire-fcm-compat",[Dse]:"fire-perf",[Ose]:"fire-perf-compat",[Mse]:"fire-rc",[Lse]:"fire-rc-compat",[kse]:"fire-gcs",[Pse]:"fire-gcs-compat",[Hse]:"fire-fst",[Vse]:"fire-fst-compat",[jse]:"fire-vertex","fire-js":"fire-js",[Kse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map,Wse=new Map,DC=new Map;function vN(t,e){try{t.container.addComponent(e)}catch(n){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ws(t){const e=t.name;if(DC.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;DC.set(e,t);for(const n of o0.values())vN(n,t);for(const n of Wse.values())vN(n,t);return!0}function Ga(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ms(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ia=new ml("app","Firebase",qse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=Gse;function QL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:QC,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ia.create("bad-app-name",{appName:String(s)});if(n||(n=CL()),!n)throw Ia.create("no-options");const o=o0.get(s);if(o){if(Bo(n,o.options)&&Bo(r,o.config))return o;throw Ia.create("duplicate-app",{appName:s})}const A=new nse(s);for(const c of DC.values())A.addComponent(c);const l=new $se(n,r,A);return o0.set(s,l),l}function gy(t=QC){const e=o0.get(t);if(!e&&t===QC&&CL())return QL();if(!e)throw Ia.create("no-app",{appName:t});return e}function Tr(t,e,n){let r=zse[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const A=[`Unable to register library "${r}" with version "${e}":`];s&&A.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&A.push("and"),o&&A.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(A.join(" "));return}Ws(new ws(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yse="firebase-heartbeat-database",Xse=1,Kh="firebase-heartbeat-store";let tB=null;function DL(){return tB||(tB=RL(Yse,Xse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ia.create("idb-open",{originalErrorMessage:t.message})})),tB}async function Jse(t){try{const n=(await DL()).transaction(Kh),r=await n.objectStore(Kh).get(OL(t));return await n.done,r}catch(e){if(e instanceof Js)Co.warn(e.message);else{const n=Ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Co.warn(n.message)}}}async function wN(t,e){try{const r=(await DL()).transaction(Kh,"readwrite");await r.objectStore(Kh).put(e,OL(t)),await r.done}catch(n){if(n instanceof Js)Co.warn(n.message);else{const r=Ia.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Co.warn(r.message)}}}function OL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zse=1024,eie=30;class tie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(A=>A.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>eie){const A=sie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(A,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Co.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bN(),{heartbeatsToSend:r,unsentEntries:s}=nie(this._heartbeatsCache.heartbeats),o=r0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Co.warn(n),""}}}function bN(){return new Date().toISOString().substring(0,10)}function nie(t,e=Zse){const n=[];let r=t.slice();for(const s of t){const o=n.find(A=>A.agent===s.agent);if(o){if(o.dates.push(s.date),BN(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),BN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TL()?IL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jse(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function BN(t){return r0(JSON.stringify({version:2,heartbeats:t})).length}function sie(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(t){Ws(new ws("platform-logger",e=>new mse(e),"PRIVATE")),Ws(new ws("heartbeat",e=>new tie(e),"PRIVATE")),Tr(RC,yN,t),Tr(RC,yN,"esm2020"),Tr("fire-js","")}iie("");var oie="firebase",aie="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(oie,aie,"app");const ML="@firebase/installations",GE="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=1e4,kL=`w:${GE}`,PL="FIS_v2",Aie="https://firebaseinstallations.googleapis.com/v1",lie=3600*1e3,cie="installations",uie="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const die={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},tl=new ml(cie,uie,die);function HL(t){return t instanceof Js&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL({projectId:t}){return`${Aie}/projects/${t}/installations`}function VL(t){return{token:t.token,requestStatus:2,expiresIn:fie(t.expiresIn),creationTime:Date.now()}}async function KL(t,e){const r=(await e.json()).error;return tl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function GL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hie(t,{refreshToken:e}){const n=GL(t);return n.append("Authorization",pie(e)),n}async function zL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fie(t){return Number(t.replace("s","000"))}function pie(t){return`${PL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gie({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=jL(t),s=GL(t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const A={fid:n,authVersion:PL,appId:t.appId,sdkVersion:kL},l={method:"POST",headers:s,body:JSON.stringify(A)},c=await zL(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:VL(d.authToken)}}else throw await KL("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie=/^[cdef][\w-]{21}$/,OC="";function vie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=wie(t);return yie.test(n)?n:OC}catch{return OC}}function wie(t){return mie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new Map;function $L(t,e){const n=my(t);YL(n,e),bie(n,e)}function YL(t,e){const n=qL.get(t);if(n)for(const r of n)r(e)}function bie(t,e){const n=Bie();n&&n.postMessage({key:t,fid:e}),Cie()}let HA=null;function Bie(){return!HA&&"BroadcastChannel"in self&&(HA=new BroadcastChannel("[Firebase] FID Change"),HA.onmessage=t=>{YL(t.data.key,t.data.fid)}),HA}function Cie(){qL.size===0&&HA&&(HA.close(),HA=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie="firebase-installations-database",Eie=1,nl="firebase-installations-store";let nB=null;function zE(){return nB||(nB=RL(xie,Eie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(nl)}}})),nB}async function a0(t,e){const n=my(t),s=(await zE()).transaction(nl,"readwrite"),o=s.objectStore(nl),A=await o.get(n);return await o.put(e,n),await s.done,(!A||A.fid!==e.fid)&&$L(t,e.fid),e}async function XL(t){const e=my(t),r=(await zE()).transaction(nl,"readwrite");await r.objectStore(nl).delete(e),await r.done}async function yy(t,e){const n=my(t),s=(await zE()).transaction(nl,"readwrite"),o=s.objectStore(nl),A=await o.get(n),l=e(A);return l===void 0?await o.delete(n):await o.put(l,n),await s.done,l&&(!A||A.fid!==l.fid)&&$L(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(t){let e;const n=await yy(t.appConfig,r=>{const s=_ie(r),o=Sie(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===OC?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _ie(t){const e=t||{fid:vie(),registrationStatus:0};return JL(e)}function Sie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(tl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Tie(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Iie(t)}:{installationEntry:e}}async function Tie(t,e){try{const n=await gie(t,e);return a0(t.appConfig,n)}catch(n){throw HL(n)&&n.customData.serverCode===409?await XL(t.appConfig):await a0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Iie(t){let e=await CN(t.appConfig);for(;e.registrationStatus===1;)await WL(100),e=await CN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await WE(t);return r||n}return e}function CN(t){return yy(t,e=>{if(!e)throw tl.create("installation-not-found");return JL(e)})}function JL(t){return Uie(t)?{fid:t.fid,registrationStatus:0}:t}function Uie(t){return t.registrationStatus===1&&t.registrationTime+LL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fie({appConfig:t,heartbeatServiceProvider:e},n){const r=Nie(t,n),s=hie(t,n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const A={installation:{sdkVersion:kL,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(A)},c=await zL(()=>fetch(r,l));if(c.ok){const d=await c.json();return VL(d)}else throw await KL("Generate Auth Token",c)}function Nie(t,{fid:e}){return`${jL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(t,e=!1){let n;const r=await yy(t.appConfig,o=>{if(!ZL(o))throw tl.create("not-registered");const A=o.authToken;if(!e&&Die(A))return o;if(A.requestStatus===1)return n=Rie(t,e),o;{if(!navigator.onLine)throw tl.create("app-offline");const l=Mie(o);return n=Qie(t,l),l}});return n?await n:r.authToken}async function Rie(t,e){let n=await xN(t.appConfig);for(;n.authToken.requestStatus===1;)await WL(100),n=await xN(t.appConfig);const r=n.authToken;return r.requestStatus===0?qE(t,e):r}function xN(t){return yy(t,e=>{if(!ZL(e))throw tl.create("not-registered");const n=e.authToken;return Lie(n)?{...e,authToken:{requestStatus:0}}:e})}async function Qie(t,e){try{const n=await Fie(t,e),r={...e,authToken:n};return await a0(t.appConfig,r),n}catch(n){if(HL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await XL(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await a0(t.appConfig,r)}throw n}}function ZL(t){return t!==void 0&&t.registrationStatus===2}function Die(t){return t.requestStatus===2&&!Oie(t)}function Oie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+lie}function Mie(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Lie(t){return t.requestStatus===1&&t.requestTime+LL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kie(t){const e=t,{installationEntry:n,registrationPromise:r}=await WE(e);return r?r.catch(console.error):qE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pie(t,e=!1){const n=t;return await Hie(n),(await qE(n,e)).token}async function Hie(t){const{registrationPromise:e}=await WE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jie(t){if(!t||!t.options)throw rB("App Configuration");if(!t.name)throw rB("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw rB(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function rB(t){return tl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="installations",Vie="installations-internal",Kie=t=>{const e=t.getProvider("app").getImmediate(),n=jie(e),r=Ga(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Gie=t=>{const e=t.getProvider("app").getImmediate(),n=Ga(e,ek).getImmediate();return{getId:()=>kie(n),getToken:s=>Pie(n,s)}};function zie(){Ws(new ws(ek,Kie,"PUBLIC")),Ws(new ws(Vie,Gie,"PRIVATE"))}zie();Tr(ML,GE);Tr(ML,GE,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="analytics",Wie="firebase_id",qie="origin",$ie=60*1e3,Yie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$E="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new vf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zr=new ml("analytics","Analytics",Xie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jie(t){if(!t.startsWith($E)){const e=zr.create("invalid-gtag-resource",{gtagURL:t});return hr.warn(e.message),""}return t}function tk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Zie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function eoe(t,e){const n=Zie("firebase-js-sdk-policy",{createScriptURL:Jie}),r=document.createElement("script"),s=`${$E}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function toe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function noe(t,e,n,r,s,o){const A=r[s];try{if(A)await e[A];else{const c=(await tk(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){hr.error(l)}t("config",s,o)}async function roe(t,e,n,r,s){try{let o=[];if(s&&s.send_to){let A=s.send_to;Array.isArray(A)||(A=[A]);const l=await tk(n);for(const c of A){const d=l.find(p=>p.measurementId===c),f=d&&e[d.appId];if(f)o.push(f);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,s||{})}catch(o){hr.error(o)}}function soe(t,e,n,r){async function s(o,...A){try{if(o==="event"){const[l,c]=A;await roe(t,e,n,l,c)}else if(o==="config"){const[l,c]=A;await noe(t,e,n,r,l,c)}else if(o==="consent"){const[l,c]=A;t("consent",l,c)}else if(o==="get"){const[l,c,d]=A;t("get",l,c,d)}else if(o==="set"){const[l]=A;t("set",l)}else t(o,...A)}catch(l){hr.error(l)}}return s}function ioe(t,e,n,r,s){let o=function(...A){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=soe(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function ooe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($E)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aoe=30,Aoe=1e3;class loe{constructor(e={},n=Aoe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nk=new loe;function coe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function uoe(t){var A;const{appId:e,apiKey:n}=t,r={method:"GET",headers:coe(n)},s=Yie.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();(A=c.error)!=null&&A.message&&(l=c.error.message)}catch{}throw zr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function doe(t,e=nk,n){const{appId:r,apiKey:s,measurementId:o}=t.options;if(!r)throw zr.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw zr.create("no-api-key")}const A=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new poe;return setTimeout(async()=>{l.abort()},$ie),rk({appId:r,apiKey:s,measurementId:o},A,l,e)}async function rk(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=nk){var l;const{appId:o,measurementId:A}=t;try{await hoe(r,e)}catch(c){if(A)return hr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${A} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:A};throw c}try{const c=await uoe(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!foe(d)){if(s.deleteThrottleMetadata(o),A)return hr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${A} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:A};throw c}const f=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?fN(n,s.intervalMillis,aoe):fN(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,p),hr.debug(`Calling attemptFetch again in ${f} millis`),rk(t,p,r,s)}}function hoe(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),r(zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function foe(t){if(!(t instanceof Js)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class poe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function goe(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const o=await e,A={...r,send_to:o};t("event",n,A)}}async function moe(t,e,n,r){if(r&&r.global){const s={};for(const o of Object.keys(n))s[`user_properties.${o}`]=n[o];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yoe(){if(TL())try{await IL()}catch(t){return hr.warn(zr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hr.warn(zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function voe(t,e,n,r,s,o,A){const l=doe(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&hr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>hr.error(g)),e.push(l);const c=yoe().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,c]);ooe(o)||eoe(o,d.measurementId),s("js",new Date);const p=(A==null?void 0:A.config)??{};return p[qie]="firebase",p.update=!0,f!=null&&(p[Wie]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class woe{constructor(e){this.app=e}_delete(){return delete Dc[this.app.options.appId],Promise.resolve()}}let Dc={},EN=[];const _N={};let sB="dataLayer",boe="gtag",SN,YE,TN=!1;function Boe(){const t=[];if(_L()&&t.push("This is a browser extension environment."),Lre()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=zr.create("invalid-analytics-context",{errorInfo:e});hr.warn(n.message)}}function Coe(t,e,n){Boe();const r=t.options.appId;if(!r)throw zr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zr.create("no-api-key");if(Dc[r]!=null)throw zr.create("already-exists",{id:r});if(!TN){toe(sB);const{wrappedGtag:o,gtagCore:A}=ioe(Dc,EN,_N,sB,boe);YE=o,SN=A,TN=!0}return Dc[r]=voe(t,EN,_N,e,SN,sB,n),new woe(t)}function xoe(t=gy()){t=dn(t);const e=Ga(t,A0);return e.isInitialized()?e.getImmediate():Eoe(t)}function Eoe(t,e={}){const n=Ga(t,A0);if(n.isInitialized()){const s=n.getImmediate();if(Bo(e,n.getOptions()))return s;throw zr.create("already-initialized")}return n.initialize({options:e})}function _oe(t,e,n){t=dn(t),moe(YE,Dc[t.app.options.appId],e,n).catch(r=>hr.error(r))}function Soe(t,e,n,r){t=dn(t),goe(YE,Dc[t.app.options.appId],e,n,r).catch(s=>hr.error(s))}const IN="@firebase/analytics",UN="0.10.19";function Toe(){Ws(new ws(A0,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Coe(r,s,n)},"PUBLIC")),Ws(new ws("analytics-internal",t,"PRIVATE")),Tr(IN,UN),Tr(IN,UN,"esm2020");function t(e){try{const n=e.getProvider(A0).getImmediate();return{logEvent:(r,s,o)=>Soe(n,r,s,o),setUserProperties:(r,s)=>_oe(n,r,s)}}catch(n){throw zr.create("interop-component-reg-failed",{reason:n})}}}Toe();var FN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,U){function D(){}D.prototype=U.prototype,R.F=U.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(L,H,M){for(var N=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)N[Y-2]=arguments[Y];return U.prototype[H].apply(L,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,U,D){D||(D=0);const L=Array(16);if(typeof U=="string")for(var H=0;H<16;++H)L[H]=U.charCodeAt(D++)|U.charCodeAt(D++)<<8|U.charCodeAt(D++)<<16|U.charCodeAt(D++)<<24;else for(H=0;H<16;++H)L[H]=U[D++]|U[D++]<<8|U[D++]<<16|U[D++]<<24;U=R.g[0],D=R.g[1],H=R.g[2];let M=R.g[3],N;N=U+(M^D&(H^M))+L[0]+3614090360&4294967295,U=D+(N<<7&4294967295|N>>>25),N=M+(H^U&(D^H))+L[1]+3905402710&4294967295,M=U+(N<<12&4294967295|N>>>20),N=H+(D^M&(U^D))+L[2]+606105819&4294967295,H=M+(N<<17&4294967295|N>>>15),N=D+(U^H&(M^U))+L[3]+3250441966&4294967295,D=H+(N<<22&4294967295|N>>>10),N=U+(M^D&(H^M))+L[4]+4118548399&4294967295,U=D+(N<<7&4294967295|N>>>25),N=M+(H^U&(D^H))+L[5]+1200080426&4294967295,M=U+(N<<12&4294967295|N>>>20),N=H+(D^M&(U^D))+L[6]+2821735955&4294967295,H=M+(N<<17&4294967295|N>>>15),N=D+(U^H&(M^U))+L[7]+4249261313&4294967295,D=H+(N<<22&4294967295|N>>>10),N=U+(M^D&(H^M))+L[8]+1770035416&4294967295,U=D+(N<<7&4294967295|N>>>25),N=M+(H^U&(D^H))+L[9]+2336552879&4294967295,M=U+(N<<12&4294967295|N>>>20),N=H+(D^M&(U^D))+L[10]+4294925233&4294967295,H=M+(N<<17&4294967295|N>>>15),N=D+(U^H&(M^U))+L[11]+2304563134&4294967295,D=H+(N<<22&4294967295|N>>>10),N=U+(M^D&(H^M))+L[12]+1804603682&4294967295,U=D+(N<<7&4294967295|N>>>25),N=M+(H^U&(D^H))+L[13]+4254626195&4294967295,M=U+(N<<12&4294967295|N>>>20),N=H+(D^M&(U^D))+L[14]+2792965006&4294967295,H=M+(N<<17&4294967295|N>>>15),N=D+(U^H&(M^U))+L[15]+1236535329&4294967295,D=H+(N<<22&4294967295|N>>>10),N=U+(H^M&(D^H))+L[1]+4129170786&4294967295,U=D+(N<<5&4294967295|N>>>27),N=M+(D^H&(U^D))+L[6]+3225465664&4294967295,M=U+(N<<9&4294967295|N>>>23),N=H+(U^D&(M^U))+L[11]+643717713&4294967295,H=M+(N<<14&4294967295|N>>>18),N=D+(M^U&(H^M))+L[0]+3921069994&4294967295,D=H+(N<<20&4294967295|N>>>12),N=U+(H^M&(D^H))+L[5]+3593408605&4294967295,U=D+(N<<5&4294967295|N>>>27),N=M+(D^H&(U^D))+L[10]+38016083&4294967295,M=U+(N<<9&4294967295|N>>>23),N=H+(U^D&(M^U))+L[15]+3634488961&4294967295,H=M+(N<<14&4294967295|N>>>18),N=D+(M^U&(H^M))+L[4]+3889429448&4294967295,D=H+(N<<20&4294967295|N>>>12),N=U+(H^M&(D^H))+L[9]+568446438&4294967295,U=D+(N<<5&4294967295|N>>>27),N=M+(D^H&(U^D))+L[14]+3275163606&4294967295,M=U+(N<<9&4294967295|N>>>23),N=H+(U^D&(M^U))+L[3]+4107603335&4294967295,H=M+(N<<14&4294967295|N>>>18),N=D+(M^U&(H^M))+L[8]+1163531501&4294967295,D=H+(N<<20&4294967295|N>>>12),N=U+(H^M&(D^H))+L[13]+2850285829&4294967295,U=D+(N<<5&4294967295|N>>>27),N=M+(D^H&(U^D))+L[2]+4243563512&4294967295,M=U+(N<<9&4294967295|N>>>23),N=H+(U^D&(M^U))+L[7]+1735328473&4294967295,H=M+(N<<14&4294967295|N>>>18),N=D+(M^U&(H^M))+L[12]+2368359562&4294967295,D=H+(N<<20&4294967295|N>>>12),N=U+(D^H^M)+L[5]+4294588738&4294967295,U=D+(N<<4&4294967295|N>>>28),N=M+(U^D^H)+L[8]+2272392833&4294967295,M=U+(N<<11&4294967295|N>>>21),N=H+(M^U^D)+L[11]+1839030562&4294967295,H=M+(N<<16&4294967295|N>>>16),N=D+(H^M^U)+L[14]+4259657740&4294967295,D=H+(N<<23&4294967295|N>>>9),N=U+(D^H^M)+L[1]+2763975236&4294967295,U=D+(N<<4&4294967295|N>>>28),N=M+(U^D^H)+L[4]+1272893353&4294967295,M=U+(N<<11&4294967295|N>>>21),N=H+(M^U^D)+L[7]+4139469664&4294967295,H=M+(N<<16&4294967295|N>>>16),N=D+(H^M^U)+L[10]+3200236656&4294967295,D=H+(N<<23&4294967295|N>>>9),N=U+(D^H^M)+L[13]+681279174&4294967295,U=D+(N<<4&4294967295|N>>>28),N=M+(U^D^H)+L[0]+3936430074&4294967295,M=U+(N<<11&4294967295|N>>>21),N=H+(M^U^D)+L[3]+3572445317&4294967295,H=M+(N<<16&4294967295|N>>>16),N=D+(H^M^U)+L[6]+76029189&4294967295,D=H+(N<<23&4294967295|N>>>9),N=U+(D^H^M)+L[9]+3654602809&4294967295,U=D+(N<<4&4294967295|N>>>28),N=M+(U^D^H)+L[12]+3873151461&4294967295,M=U+(N<<11&4294967295|N>>>21),N=H+(M^U^D)+L[15]+530742520&4294967295,H=M+(N<<16&4294967295|N>>>16),N=D+(H^M^U)+L[2]+3299628645&4294967295,D=H+(N<<23&4294967295|N>>>9),N=U+(H^(D|~M))+L[0]+4096336452&4294967295,U=D+(N<<6&4294967295|N>>>26),N=M+(D^(U|~H))+L[7]+1126891415&4294967295,M=U+(N<<10&4294967295|N>>>22),N=H+(U^(M|~D))+L[14]+2878612391&4294967295,H=M+(N<<15&4294967295|N>>>17),N=D+(M^(H|~U))+L[5]+4237533241&4294967295,D=H+(N<<21&4294967295|N>>>11),N=U+(H^(D|~M))+L[12]+1700485571&4294967295,U=D+(N<<6&4294967295|N>>>26),N=M+(D^(U|~H))+L[3]+2399980690&4294967295,M=U+(N<<10&4294967295|N>>>22),N=H+(U^(M|~D))+L[10]+4293915773&4294967295,H=M+(N<<15&4294967295|N>>>17),N=D+(M^(H|~U))+L[1]+2240044497&4294967295,D=H+(N<<21&4294967295|N>>>11),N=U+(H^(D|~M))+L[8]+1873313359&4294967295,U=D+(N<<6&4294967295|N>>>26),N=M+(D^(U|~H))+L[15]+4264355552&4294967295,M=U+(N<<10&4294967295|N>>>22),N=H+(U^(M|~D))+L[6]+2734768916&4294967295,H=M+(N<<15&4294967295|N>>>17),N=D+(M^(H|~U))+L[13]+1309151649&4294967295,D=H+(N<<21&4294967295|N>>>11),N=U+(H^(D|~M))+L[4]+4149444226&4294967295,U=D+(N<<6&4294967295|N>>>26),N=M+(D^(U|~H))+L[11]+3174756917&4294967295,M=U+(N<<10&4294967295|N>>>22),N=H+(U^(M|~D))+L[2]+718787259&4294967295,H=M+(N<<15&4294967295|N>>>17),N=D+(M^(H|~U))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+U&4294967295,R.g[1]=R.g[1]+(H+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+H&4294967295,R.g[3]=R.g[3]+M&4294967295}r.prototype.v=function(R,U){U===void 0&&(U=R.length);const D=U-this.blockSize,L=this.C;let H=this.h,M=0;for(;M<U;){if(H==0)for(;M<=D;)s(this,R,M),M+=this.blockSize;if(typeof R=="string"){for(;M<U;)if(L[H++]=R.charCodeAt(M++),H==this.blockSize){s(this,L),H=0;break}}else for(;M<U;)if(L[H++]=R[M++],H==this.blockSize){s(this,L),H=0;break}}this.h=H,this.o+=U},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var U=1;U<R.length-8;++U)R[U]=0;U=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=U&255,U/=256;for(this.v(R),R=Array(16),U=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)R[U++]=this.g[D]>>>L&255;return R};function o(R,U){var D=l;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=U(R)}function A(R,U){this.h=U;const D=[];let L=!0;for(let H=R.length-1;H>=0;H--){const M=R[H]|0;L&&M==U||(D[H]=M,L=!1)}this.g=D}var l={};function c(R){return-128<=R&&R<128?o(R,function(U){return new A([U|0],U<0?-1:0)}):new A([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return E(d(-R));const U=[];let D=1;for(let L=0;R>=D;L++)U[L]=R/D|0,D*=4294967296;return new A(U,0)}function f(R,U){if(R.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(R.charAt(0)=="-")return E(f(R.substring(1),U));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(U,8));let L=p;for(let M=0;M<R.length;M+=8){var H=Math.min(8,R.length-M);const N=parseInt(R.substring(M,M+H),U);H<8?(H=d(Math.pow(U,H)),L=L.j(H).add(d(N))):(L=L.j(D),L=L.add(d(N)))}return L}var p=c(0),g=c(1),b=c(16777216);t=A.prototype,t.m=function(){if(C(this))return-E(this).m();let R=0,U=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);R+=(L>=0?L:4294967296+L)*U,U*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(B(this))return"0";if(C(this))return"-"+E(this).toString(R);const U=d(Math.pow(R,6));var D=this;let L="";for(;;){const H=j(D,U).g;D=I(D,H.j(U));let M=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=H,B(D))return M+L;for(;M.length<6;)M="0"+M;L=M+L}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function B(R){if(R.h!=0)return!1;for(let U=0;U<R.g.length;U++)if(R.g[U]!=0)return!1;return!0}function C(R){return R.h==-1}t.l=function(R){return R=I(this,R),C(R)?-1:B(R)?0:1};function E(R){const U=R.g.length,D=[];for(let L=0;L<U;L++)D[L]=~R.g[L];return new A(D,~R.h).add(g)}t.abs=function(){return C(this)?E(this):this},t.add=function(R){const U=Math.max(this.g.length,R.g.length),D=[];let L=0;for(let H=0;H<=U;H++){let M=L+(this.i(H)&65535)+(R.i(H)&65535),N=(M>>>16)+(this.i(H)>>>16)+(R.i(H)>>>16);L=N>>>16,M&=65535,N&=65535,D[H]=N<<16|M}return new A(D,D[D.length-1]&-2147483648?-1:0)};function I(R,U){return R.add(E(U))}t.j=function(R){if(B(this)||B(R))return p;if(C(this))return C(R)?E(this).j(E(R)):E(E(this).j(R));if(C(R))return E(this.j(E(R)));if(this.l(b)<0&&R.l(b)<0)return d(this.m()*R.m());const U=this.g.length+R.g.length,D=[];for(var L=0;L<2*U;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let H=0;H<R.g.length;H++){const M=this.i(L)>>>16,N=this.i(L)&65535,Y=R.i(H)>>>16,ce=R.i(H)&65535;D[2*L+2*H]+=N*ce,F(D,2*L+2*H),D[2*L+2*H+1]+=M*ce,F(D,2*L+2*H+1),D[2*L+2*H+1]+=N*Y,F(D,2*L+2*H+1),D[2*L+2*H+2]+=M*Y,F(D,2*L+2*H+2)}for(R=0;R<U;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=U;R<2*U;R++)D[R]=0;return new A(D,0)};function F(R,U){for(;(R[U]&65535)!=R[U];)R[U+1]+=R[U]>>>16,R[U]&=65535,U++}function Q(R,U){this.g=R,this.h=U}function j(R,U){if(B(U))throw Error("division by zero");if(B(R))return new Q(p,p);if(C(R))return U=j(E(R),U),new Q(E(U.g),E(U.h));if(C(U))return U=j(R,E(U)),new Q(E(U.g),U.h);if(R.g.length>30){if(C(R)||C(U))throw Error("slowDivide_ only works with positive integers.");for(var D=g,L=U;L.l(R)<=0;)D=P(D),L=P(L);var H=V(D,1),M=V(L,1);for(L=V(L,2),D=V(D,2);!B(L);){var N=M.add(L);N.l(R)<=0&&(H=H.add(D),M=N),L=V(L,1),D=V(D,1)}return U=I(R,H.j(U)),new Q(H,U)}for(H=p;R.l(U)>=0;){for(D=Math.max(1,Math.floor(R.m()/U.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),M=d(D),N=M.j(U);C(N)||N.l(R)>0;)D-=L,M=d(D),N=M.j(U);B(M)&&(M=g),H=H.add(M),R=I(R,N)}return new Q(H,R)}t.B=function(R){return j(this,R).h},t.and=function(R){const U=Math.max(this.g.length,R.g.length),D=[];for(let L=0;L<U;L++)D[L]=this.i(L)&R.i(L);return new A(D,this.h&R.h)},t.or=function(R){const U=Math.max(this.g.length,R.g.length),D=[];for(let L=0;L<U;L++)D[L]=this.i(L)|R.i(L);return new A(D,this.h|R.h)},t.xor=function(R){const U=Math.max(this.g.length,R.g.length),D=[];for(let L=0;L<U;L++)D[L]=this.i(L)^R.i(L);return new A(D,this.h^R.h)};function P(R){const U=R.g.length+1,D=[];for(let L=0;L<U;L++)D[L]=R.i(L)<<1|R.i(L-1)>>>31;return new A(D,R.h)}function V(R,U){const D=U>>5;U%=32;const L=R.g.length-D,H=[];for(let M=0;M<L;M++)H[M]=U>0?R.i(M+D)>>>U|R.i(M+D+1)<<32-U:R.i(M+D);return new A(H,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.B,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=d,A.fromString=f,XE=A}).apply(typeof FN<"u"?FN:typeof self<"u"?self:typeof window<"u"?window:{});var Wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sk,eh,ik,gm,MC,ok,ak,Ak;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wg=="object"&&Wg];for(var x=0;x<y.length;++x){var T=y[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(y,x){if(x)e:{var T=r;y=y.split(".");for(var k=0;k<y.length-1;k++){var $=y[k];if(!($ in T))break e;T=T[$]}y=y[y.length-1],k=T[y],x=x(k),x!=k&&x!=null&&e(T,y,{configurable:!0,writable:!0,value:x})}}s("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(y){return y||function(x){var T=[],k;for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&T.push([k,x[k]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},A=this||self;function l(y){var x=typeof y;return x=="object"&&y!=null||x=="function"}function c(y,x,T){return y.call.apply(y.bind,arguments)}function d(y,x,T){return d=c,d.apply(null,arguments)}function f(y,x){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),y.apply(this,k)}}function p(y,x){function T(){}T.prototype=x.prototype,y.Z=x.prototype,y.prototype=new T,y.prototype.constructor=y,y.Ob=function(k,$,ee){for(var pe=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)pe[Me-2]=arguments[Me];return x.prototype[$].apply(k,pe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function b(y){const x=y.length;if(x>0){const T=Array(x);for(let k=0;k<x;k++)T[k]=y[k];return T}return[]}function B(y,x){for(let k=1;k<arguments.length;k++){const $=arguments[k];var T=typeof $;if(T=T!="object"?T:$?Array.isArray($)?"array":T:"null",T=="array"||T=="object"&&typeof $.length=="number"){T=y.length||0;const ee=$.length||0;y.length=T+ee;for(let pe=0;pe<ee;pe++)y[T+pe]=$[pe]}else y.push($)}}class C{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function E(y){A.setTimeout(()=>{throw y},0)}function I(){var y=R;let x=null;return y.g&&(x=y.g,y.g=y.g.next,y.g||(y.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,T){const k=Q.get();k.set(x,T),this.h?this.h.next=k:this.g=k,this.h=k}}var Q=new C(()=>new j,y=>y.reset());class j{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let P,V=!1,R=new F,U=()=>{const y=Promise.resolve(void 0);P=()=>{y.then(D)}};function D(){for(var y;y=I();){try{y.h.call(y.g)}catch(T){E(T)}var x=Q;x.j(y),x.h<100&&(x.h++,y.next=x.g,x.g=y)}V=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(y,x){this.type=y,this.g=this.target=x,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!A.addEventListener||!Object.defineProperty)return!1;var y=!1,x=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const T=()=>{};A.addEventListener("test",T,x),A.removeEventListener("test",T,x)}catch{}return y})();function N(y){return/^[\s\xa0]*$/.test(y)}function Y(y,x){H.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,x)}p(Y,H),Y.prototype.init=function(y,x){const T=this.type=y.type,k=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=x,x=y.relatedTarget,x||(T=="mouseover"?x=y.fromElement:T=="mouseout"&&(x=y.toElement)),this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),W=0;function se(y,x,T,k,$){this.listener=y,this.proxy=null,this.src=x,this.type=T,this.capture=!!k,this.ha=$,this.key=++W,this.da=this.fa=!1}function ne(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ve(y,x,T){for(const k in y)x.call(T,y[k],k,y)}function Se(y,x){for(const T in y)x.call(void 0,y[T],T,y)}function G(y){const x={};for(const T in y)x[T]=y[T];return x}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(y,x){let T,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(T in k)y[T]=k[T];for(let ee=0;ee<re.length;ee++)T=re[ee],Object.prototype.hasOwnProperty.call(k,T)&&(y[T]=k[T])}}function ue(y){this.src=y,this.g={},this.h=0}ue.prototype.add=function(y,x,T,k,$){const ee=y.toString();y=this.g[ee],y||(y=this.g[ee]=[],this.h++);const pe=Te(y,x,k,$);return pe>-1?(x=y[pe],T||(x.fa=!1)):(x=new se(x,this.src,ee,!!k,$),x.fa=T,y.push(x)),x};function ge(y,x){const T=x.type;if(T in y.g){var k=y.g[T],$=Array.prototype.indexOf.call(k,x,void 0),ee;(ee=$>=0)&&Array.prototype.splice.call(k,$,1),ee&&(ne(x),y.g[T].length==0&&(delete y.g[T],y.h--))}}function Te(y,x,T,k){for(let $=0;$<y.length;++$){const ee=y[$];if(!ee.da&&ee.listener==x&&ee.capture==!!T&&ee.ha==k)return $}return-1}var we="closure_lm_"+(Math.random()*1e6|0),pt={};function Ke(y,x,T,k,$){if(Array.isArray(x)){for(let ee=0;ee<x.length;ee++)Ke(y,x[ee],T,k,$);return null}return T=_u(T),y&&y[ce]?y.J(x,T,l(k)?!!k.capture:!1,$):hn(y,x,T,!1,k,$)}function hn(y,x,T,k,$,ee){if(!x)throw Error("Invalid event type");const pe=l($)?!!$.capture:!!$;let Me=Wa(y);if(Me||(y[we]=Me=new ue(y)),T=Me.add(x,T,k,pe,ee),T.proxy)return T;if(k=fr(),T.proxy=k,k.src=y,k.listener=T,y.addEventListener)M||($=pe),$===void 0&&($=!1),y.addEventListener(x.toString(),k,$);else if(y.attachEvent)y.attachEvent(Zs(x.toString()),k);else if(y.addListener&&y.removeListener)y.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function fr(){function y(T){return x.call(y.src,y.listener,T)}const x=xu;return y}function Ft(y,x,T,k,$){if(Array.isArray(x))for(var ee=0;ee<x.length;ee++)Ft(y,x[ee],T,k,$);else k=l(k)?!!k.capture:!!k,T=_u(T),y&&y[ce]?(y=y.i,ee=String(x).toString(),ee in y.g&&(x=y.g[ee],T=Te(x,T,k,$),T>-1&&(ne(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete y.g[ee],y.h--)))):y&&(y=Wa(y))&&(x=y.g[x.toString()],y=-1,x&&(y=Te(x,T,k,$)),(T=y>-1?x[y]:null)&&qr(T))}function qr(y){if(typeof y!="number"&&y&&!y.da){var x=y.src;if(x&&x[ce])ge(x.i,y);else{var T=y.type,k=y.proxy;x.removeEventListener?x.removeEventListener(T,k,y.capture):x.detachEvent?x.detachEvent(Zs(T),k):x.addListener&&x.removeListener&&x.removeListener(k),(T=Wa(x))?(ge(T,y),T.h==0&&(T.src=null,x[we]=null)):ne(y)}}}function Zs(y){return y in pt?pt[y]:pt[y]="on"+y}function xu(y,x){if(y.da)y=!0;else{x=new Y(x,this);const T=y.listener,k=y.ha||y.src;y.fa&&qr(y),y=T.call(k,x)}return y}function Wa(y){return y=y[we],y instanceof ue?y:null}var Eu="__closure_events_fn_"+(Math.random()*1e9>>>0);function _u(y){return typeof y=="function"?y:(y[Eu]||(y[Eu]=function(x){return y.handleEvent(x)}),y[Eu])}function Jt(){L.call(this),this.i=new ue(this),this.M=this,this.G=null}p(Jt,L),Jt.prototype[ce]=!0,Jt.prototype.removeEventListener=function(y,x,T,k){Ft(this,y,x,T,k)};function fn(y,x){var T,k=y.G;if(k)for(T=[];k;k=k.G)T.push(k);if(y=y.M,k=x.type||x,typeof x=="string")x=new H(x,y);else if(x instanceof H)x.target=x.target||y;else{var $=x;x=new H(k,y),Ae(x,$)}$=!0;let ee,pe;if(T)for(pe=T.length-1;pe>=0;pe--)ee=x.g=T[pe],$=Io(ee,k,!0,x)&&$;if(ee=x.g=y,$=Io(ee,k,!0,x)&&$,$=Io(ee,k,!1,x)&&$,T)for(pe=0;pe<T.length;pe++)ee=x.g=T[pe],$=Io(ee,k,!1,x)&&$}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var y=this.i;for(const x in y.g){const T=y.g[x];for(let k=0;k<T.length;k++)ne(T[k]);delete y.g[x],y.h--}}this.G=null},Jt.prototype.J=function(y,x,T,k){return this.i.add(String(y),x,!1,T,k)},Jt.prototype.K=function(y,x,T,k){return this.i.add(String(y),x,!0,T,k)};function Io(y,x,T,k){if(x=y.i.g[String(x)],!x)return!0;x=x.concat();let $=!0;for(let ee=0;ee<x.length;++ee){const pe=x[ee];if(pe&&!pe.da&&pe.capture==T){const Me=pe.listener,zt=pe.ha||pe.src;pe.fa&&ge(y.i,pe),$=Me.call(zt,k)!==!1&&$}}return $&&!k.defaultPrevented}function Gy(y,x){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=d(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:A.setTimeout(y,x||0)}function Mf(y){y.g=Gy(()=>{y.g=null,y.i&&(y.i=!1,Mf(y))},y.l);const x=y.h;y.h=null,y.m.apply(null,x)}class or extends L{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Mf(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(y){L.call(this),this.h=y,this.g={}}p(qa,L);var Su=[];function Tu(y){ve(y.g,function(x,T){this.g.hasOwnProperty(T)&&qr(x)},y),y.g={}}qa.prototype.N=function(){qa.Z.N.call(this),Tu(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uo=A.JSON.stringify,zy=A.JSON.parse,Lf=class{stringify(y){return A.JSON.stringify(y,void 0)}parse(y){return A.JSON.parse(y,void 0)}};function kf(){}function Pf(){}var bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nn(){H.call(this,"d")}p(Nn,H);function $r(){H.call(this,"c")}p($r,H);var Gt={},Hf=null;function Bl(){return Hf=Hf||new Jt}Gt.Ia="serverreachability";function jf(y){H.call(this,Gt.Ia,y)}p(jf,H);function ei(y){const x=Bl();fn(x,new jf(x))}Gt.STAT_EVENT="statevent";function $a(y,x){H.call(this,Gt.STAT_EVENT,y),this.stat=x}p($a,H);function Zt(y){const x=Bl();fn(x,new $a(x,y))}Gt.Ja="timingevent";function ti(y,x){H.call(this,Gt.Ja,y),this.size=x}p(ti,H);function ni(y,x){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){y()},x)}function Bs(){this.g=!0}Bs.prototype.ua=function(){this.g=!1};function Wy(y,x,T,k,$,ee){y.info(function(){if(y.g)if(ee){var pe="",Me=ee.split("&");for(let ot=0;ot<Me.length;ot++){var zt=Me[ot].split("=");if(zt.length>1){const Nt=zt[0];zt=zt[1];const Zr=Nt.split("_");pe=Zr.length>=2&&Zr[1]=="type"?pe+(Nt+"="+zt+"&"):pe+(Nt+"=redacted&")}}}else pe=null;else pe=ee;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+x+`
`+T+`
`+pe})}function Vf(y,x,T,k,$,ee,pe){y.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+x+`
`+T+`
`+ee+" "+pe})}function ri(y,x,T,k){y.info(function(){return"XMLHTTP TEXT ("+x+"): "+qy(y,T)+(k?" "+k:"")})}function Ya(y,x){y.info(function(){return"TIMEOUT: "+x})}Bs.prototype.info=function(){};function qy(y,x){if(!y.g)return x;if(!x)return null;try{const ee=JSON.parse(x);if(ee){for(y=0;y<ee.length;y++)if(Array.isArray(ee[y])){var T=ee[y];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var $=k[0];if($!="noop"&&$!="stop"&&$!="close")for(let pe=1;pe<k.length;pe++)k[pe]=""}}}}return Uo(ee)}catch{return x}}var Xa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Iu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uu;function Ja(){}p(Ja,kf),Ja.prototype.g=function(){return new XMLHttpRequest},Uu=new Ja;function Qi(y){return encodeURIComponent(String(y))}function Kf(y){var x=1;y=y.split(":");const T=[];for(;x>0&&y.length;)T.push(y.shift()),x--;return y.length&&T.push(y.join(":")),T}function Cs(y,x,T,k){this.j=y,this.i=x,this.l=T,this.S=k||1,this.V=new qa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xs}function xs(){this.i=null,this.g="",this.h=!1}var en={},bn={};function si(y,x,T){y.M=1,y.A=Za(nn(x)),y.u=T,y.R=!0,Cl(y,null)}function Cl(y,x){y.F=Date.now(),ii(y),y.B=nn(y.A);var T=y.B,k=y.S;Array.isArray(k)||(k=[String(k)]),Sl(T.i,"t",k),y.C=0,T=y.j.L,y.h=new xs,y.g=ip(y.j,T?x:null,!y.u),y.P>0&&(y.O=new or(d(y.Y,y,y.g),y.P)),x=y.V,T=y.g,k=y.ba;var $="readystatechange";Array.isArray($)||($&&(Su[0]=$.toString()),$=Su);for(let ee=0;ee<$.length;ee++){const pe=Ke(T,$[ee],k||x.handleEvent,!1,x.h||x);if(!pe)break;x.g[pe.key]=pe}x=y.J?G(y.J):{},y.u?(y.v||(y.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,x)):(y.v="GET",y.g.ea(y.B,y.v,null,x)),ei(),Wy(y.i,y.v,y.B,y.l,y.S,y.u)}Cs.prototype.ba=function(y){y=y.target;const x=this.O;x&&Ss(y)==3?x.j():this.Y(y)},Cs.prototype.Y=function(y){try{if(y==this.g)e:{const Me=Ss(this.g),zt=this.g.ya(),ot=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Rn(this.g)))){this.K||Me!=4||zt==7||(zt==8||ot<=0?ei(3):ei(2)),oi(this);var x=this.g.ca();this.X=x;var T=$y(this);if(this.o=x==200,Vf(this.i,this.v,this.B,this.l,this.S,Me,x),this.o){if(this.U&&!this.L){t:{if(this.g){var k,$=this.g;if((k=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(k)){var ee=k;break t}}ee=null}if(y=ee)ri(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,y);else{this.o=!1,this.m=3,Zt(12),Nr(this),Yr(this);break e}}if(this.R){y=!0;let Nt;for(;!this.K&&this.C<T.length;)if(Nt=zf(this,T),Nt==bn){Me==4&&(this.m=4,Zt(14),y=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==en){this.m=4,Zt(15),ri(this.i,this.l,T,"[Invalid Chunk]"),y=!1;break}else ri(this.i,this.l,Nt,null),ai(this,Nt);if(Gf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||T.length!=0||this.h.h||(this.m=1,Zt(16),y=!1),this.o=this.o&&y,!y)ri(this.i,this.l,T,"[Invalid Chunked Response]"),Nr(this),Yr(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Gu(pe),pe.P=!0,Zt(11))}}else ri(this.i,this.l,T,null),ai(this,T);Me==4&&Nr(this),this.o&&!this.K&&(Me==4?tp(this.j,this):(this.o=!1,ii(this)))}else Oi(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Zt(12)):(this.m=0,Zt(13)),Nr(this),Yr(this)}}}catch{}finally{}};function $y(y){if(!Gf(y))return y.g.la();const x=Rn(y.g);if(x==="")return"";let T="";const k=x.length,$=Ss(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Nr(y),Yr(y),"";y.h.i=new A.TextDecoder}for(let ee=0;ee<k;ee++)y.h.h=!0,T+=y.h.i.decode(x[ee],{stream:!($&&ee==k-1)});return x.length=0,y.h.g+=T,y.C=0,y.h.g}function Gf(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function zf(y,x){var T=y.C,k=x.indexOf(`
`,T);return k==-1?bn:(T=Number(x.substring(T,k)),isNaN(T)?en:(k+=1,k+T>x.length?bn:(x=x.slice(k,k+T),y.C=k+T,x)))}Cs.prototype.cancel=function(){this.K=!0,Nr(this)};function ii(y){y.T=Date.now()+y.H,xl(y,y.H)}function xl(y,x){if(y.D!=null)throw Error("WatchDog timer not null");y.D=ni(d(y.aa,y),x)}function oi(y){y.D&&(A.clearTimeout(y.D),y.D=null)}Cs.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Ya(this.i,this.B),this.M!=2&&(ei(),Zt(17)),Nr(this),this.m=2,Yr(this)):xl(this,this.T-y)};function Yr(y){y.j.I==0||y.K||tp(y.j,y)}function Nr(y){oi(y);var x=y.O;x&&typeof x.dispose=="function"&&x.dispose(),y.O=null,Tu(y.V),y.g&&(x=y.g,y.g=null,x.abort(),x.dispose())}function ai(y,x){try{var T=y.j;if(T.I!=0&&(T.g==y||li(T.h,y))){if(!y.L&&li(T.h,y)&&T.I==3){try{var k=T.Ba.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<y.F)Nl(T),Lo(T);else break e;oA(T),Zt(18)}}else T.xa=$[1],0<T.xa-T.K&&$[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ni(d(T.Va,T),6e3));Ai(T.h)<=1&&T.ta&&(T.ta=void 0)}else pi(T,11)}else if((y.L||T.g==y)&&Nl(T),!N(x))for($=T.Ba.g.parse(x),x=0;x<$.length;x++){let ot=$[x];const Nt=ot[0];if(!(Nt<=T.K))if(T.K=Nt,ot=ot[1],T.I==2)if(ot[0]=="c"){T.M=ot[1],T.ba=ot[2];const Zr=ot[3];Zr!=null&&(T.ka=Zr,T.j.info("VER="+T.ka));const gi=ot[4];gi!=null&&(T.za=gi,T.j.info("SVER="+T.za));const Ts=ot[5];Ts!=null&&typeof Ts=="number"&&Ts>0&&(k=1.5*Ts,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Is=y.g;if(Is){const aA=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aA){var ee=k.h;ee.g||aA.indexOf("spdy")==-1&&aA.indexOf("quic")==-1&&aA.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ru(ee,ee.h),ee.h=null))}if(k.G){const Rl=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(k.wa=Rl,dt(k.J,k.G,Rl))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-y.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var pe=y;if(k.na=sp(k,k.L?k.ba:null,k.W),pe.L){Qu(k.h,pe);var Me=pe,zt=k.O;zt&&(Me.H=zt),Me.D&&(oi(Me),ii(Me)),k.g=pe}else Zf(k);T.i.length>0&&fi(T)}else ot[0]!="stop"&&ot[0]!="close"||pi(T,7);else T.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?pi(T,7):Vu(T):ot[0]!="noop"&&T.l&&T.l.qa(ot),T.A=0)}}ei(4)}catch{}}var tn=class{constructor(y,x){this.g=y,this.map=x}};function Fu(y){this.l=y||10,A.PerformanceNavigationTiming?(y=A.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(A.chrome&&A.chrome.loadTimes&&A.chrome.loadTimes()&&A.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nu(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ai(y){return y.h?1:y.g?y.g.size:0}function li(y,x){return y.h?y.h==x:y.g?y.g.has(x):!1}function Ru(y,x){y.g?y.g.add(x):y.h=x}function Qu(y,x){y.h&&y.h==x?y.h=null:y.g&&y.g.has(x)&&y.g.delete(x)}Fu.prototype.cancel=function(){if(this.i=Du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Du(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let x=y.i;for(const T of y.g.values())x=x.concat(T.G);return x}return b(y.i)}var Wf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function El(y,x){if(y){y=y.split("&");for(let T=0;T<y.length;T++){const k=y[T].indexOf("=");let $,ee=null;k>=0?($=y[T].substring(0,k),ee=y[T].substring(k+1)):$=y[T],x($,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Rr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;y instanceof Rr?(this.l=y.l,Bn(this,y.j),this.o=y.o,this.g=y.g,Fo(this,y.u),this.h=y.h,Ou(this,Xf(y.i)),this.m=y.m):y&&(x=String(y).match(Wf))?(this.l=!1,Bn(this,x[1]||"",!0),this.o=ci(x[2]||""),this.g=ci(x[3]||"",!0),Fo(this,x[4]),this.h=ci(x[5]||"",!0),Ou(this,x[6]||"",!0),this.m=ci(x[7]||"")):(this.l=!1,this.i=new Ro(null,this.l))}Rr.prototype.toString=function(){const y=[];var x=this.j;x&&y.push(eA(x,_l,!0),":");var T=this.g;return(T||x=="file")&&(y.push("//"),(x=this.o)&&y.push(eA(x,_l,!0),"@"),y.push(Qi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&y.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&y.push("/"),y.push(eA(T,T.charAt(0)=="/"?Mu:qf,!0))),(T=this.i.toString())&&y.push("?",T),(T=this.m)&&y.push("#",eA(T,$f)),y.join("")},Rr.prototype.resolve=function(y){const x=nn(this);let T=!!y.j;T?Bn(x,y.j):T=!!y.o,T?x.o=y.o:T=!!y.g,T?x.g=y.g:T=y.u!=null;var k=y.h;if(T)Fo(x,y.u);else if(T=!!y.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var $=x.h.lastIndexOf("/");$!=-1&&(k=x.h.slice(0,$+1)+k)}if($=k,$==".."||$==".")k="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){k=$.lastIndexOf("/",0)==0,$=$.split("/");const ee=[];for(let pe=0;pe<$.length;){const Me=$[pe++];Me=="."?k&&pe==$.length&&ee.push(""):Me==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),k&&pe==$.length&&ee.push("")):(ee.push(Me),k=!0)}k=ee.join("/")}else k=$}return T?x.h=k:T=y.i.toString()!=="",T?Ou(x,Xf(y.i)):T=!!y.m,T&&(x.m=y.m),x};function nn(y){return new Rr(y)}function Bn(y,x,T){y.j=T?ci(x,!0):x,y.j&&(y.j=y.j.replace(/:$/,""))}function Fo(y,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);y.u=x}else y.u=null}function Ou(y,x,T){x instanceof Ro?(y.i=x,Tl(y.i,y.l)):(T||(x=eA(x,No)),y.i=new Ro(x,y.l))}function dt(y,x,T){y.i.set(x,T)}function Za(y){return dt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function ci(y,x){return y?x?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function eA(y,x,T){return typeof y=="string"?(y=encodeURI(y).replace(x,pr),T&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function pr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var _l=/[#\/\?@]/g,qf=/[#\?:]/g,Mu=/[#\?]/g,No=/[#\?@]/g,$f=/#/g;function Ro(y,x){this.h=this.g=null,this.i=y||null,this.j=!!x}function gr(y){y.g||(y.g=new Map,y.h=0,y.i&&El(y.i,function(x,T){y.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=Ro.prototype,t.add=function(y,x){gr(this),this.i=null,y=Qo(this,y);let T=this.g.get(y);return T||this.g.set(y,T=[]),T.push(x),this.h+=1,this};function Yf(y,x){gr(y),x=Qo(y,x),y.g.has(x)&&(y.i=null,y.h-=y.g.get(x).length,y.g.delete(x))}function Lu(y,x){return gr(y),x=Qo(y,x),y.g.has(x)}t.forEach=function(y,x){gr(this),this.g.forEach(function(T,k){T.forEach(function($){y.call(x,$,k,this)},this)},this)};function ku(y,x){gr(y);let T=[];if(typeof x=="string")Lu(y,x)&&(T=T.concat(y.g.get(Qo(y,x))));else for(y=Array.from(y.g.values()),x=0;x<y.length;x++)T=T.concat(y[x]);return T}t.set=function(y,x){return gr(this),this.i=null,y=Qo(this,y),Lu(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[x]),this.h+=1,this},t.get=function(y,x){return y?(y=ku(this,y),y.length>0?String(y[0]):x):x};function Sl(y,x,T){Yf(y,x),T.length>0&&(y.i=null,y.g.set(Qo(y,x),b(T)),y.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],x=Array.from(this.g.keys());for(let k=0;k<x.length;k++){var T=x[k];const $=Qi(T);T=ku(this,T);for(let ee=0;ee<T.length;ee++){let pe=$;T[ee]!==""&&(pe+="="+Qi(T[ee])),y.push(pe)}}return this.i=y.join("&")};function Xf(y){const x=new Ro;return x.i=y.i,y.g&&(x.g=new Map(y.g),x.h=y.h),x}function Qo(y,x){return x=String(x),y.j&&(x=x.toLowerCase()),x}function Tl(y,x){x&&!y.j&&(gr(y),y.i=null,y.g.forEach(function(T,k){const $=k.toLowerCase();k!=$&&(Yf(this,k),Sl(this,$,T))},y)),y.j=x}function Es(y,x){const T=new Bs;if(A.Image){const k=new Image;k.onload=f(Xr,T,"TestLoadImage: loaded",!0,x,k),k.onerror=f(Xr,T,"TestLoadImage: error",!1,x,k),k.onabort=f(Xr,T,"TestLoadImage: abort",!1,x,k),k.ontimeout=f(Xr,T,"TestLoadImage: timeout",!1,x,k),A.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=y}else x(!1)}function Pu(y,x){const T=new Bs,k=new AbortController,$=setTimeout(()=>{k.abort(),Xr(T,"TestPingServer: timeout",!1,x)},1e4);fetch(y,{signal:k.signal}).then(ee=>{clearTimeout($),ee.ok?Xr(T,"TestPingServer: ok",!0,x):Xr(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout($),Xr(T,"TestPingServer: error",!1,x)})}function Xr(y,x,T,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(T)}catch{}}function Do(){this.g=new Lf}function ui(y){this.i=y.Sb||null,this.h=y.ab||!1}p(ui,kf),ui.prototype.g=function(){return new tA(this.i,this.h)};function tA(y,x){Jt.call(this),this.H=y,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(tA,Jt),t=tA.prototype,t.open=function(y,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=x,this.readyState=1,_s(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(x.body=y),(this.H||A).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Oo(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Il(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Il(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var x=y.value?y.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!y.done}))&&(this.response=this.responseText+=x)}y.done?Oo(this):_s(this),this.readyState==3&&Il(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Oo(this))},t.Na=function(y){this.g&&(this.response=y,Oo(this))},t.ga=function(){this.g&&Oo(this)};function Oo(y){y.readyState=4,y.l=null,y.j=null,y.B=null,_s(y)}t.setRequestHeader=function(y,x){this.A.append(y,x)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,y.push(T[0]+": "+T[1]),T=x.next();return y.join(`\r
`)};function _s(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(tA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Jr(y){let x="";return ve(y,function(T,k){x+=k,x+=":",x+=T,x+=`\r
`}),x}function nA(y,x,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Jr(T),typeof y=="string"?T!=null&&Qi(T):dt(y,x,T))}function gt(y){Jt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(gt,Jt);var di=/^https?$/i,Hu=["POST","PUT"];t=gt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,x,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);x=x?x.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uu.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(x,String(y),!0),this.B=!1}catch(ee){rA(this,ee);return}if(y=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)T.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ee of k.keys())T.set(ee,k.get(ee));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),$=A.FormData&&y instanceof A.FormData,!(Array.prototype.indexOf.call(Hu,x,void 0)>=0)||k||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,pe]of T)this.g.setRequestHeader(ee,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ee){rA(this,ee)}};function rA(y,x){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=x,y.o=5,ju(y),Di(y)}function ju(y){y.A||(y.A=!0,fn(y,"complete"),fn(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,fn(this,"complete"),fn(this,"abort"),Di(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sA(this):this.Xa())},t.Xa=function(){sA(this)};function sA(y){if(y.h&&typeof o<"u"){if(y.v&&Ss(y)==4)setTimeout(y.Ca.bind(y),0);else if(fn(y,"readystatechange"),Ss(y)==4){y.h=!1;try{const ee=y.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var k;if(k=ee===0){let pe=String(y.D).match(Wf)[1]||null;!pe&&A.self&&A.self.location&&(pe=A.self.location.protocol.slice(0,-1)),k=!di.test(pe?pe.toLowerCase():"")}T=k}if(T)fn(y,"complete"),fn(y,"success");else{y.o=6;try{var $=Ss(y)>2?y.g.statusText:""}catch{$=""}y.l=$+" ["+y.ca()+"]",ju(y)}}finally{Di(y)}}}}function Di(y,x){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const T=y.g;y.g=null,x||fn(y,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ss(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var x=this.g.responseText;return y&&x.indexOf(y)==0&&(x=x.substring(y.length)),zy(x)}};function Rn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(y){const x={};y=(y.g&&Ss(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<y.length;k++){if(N(y[k]))continue;var T=Kf(y[k]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=x[$]||[];x[$]=ee,ee.push(T)}Se(x,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(y,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[y]||x}function Mo(y){this.za=0,this.i=[],this.j=new Bs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,y),this.Za=hi("retryDelaySeedMs",1e4,y),this.Ta=hi("forwardChannelMaxRetries",2,y),this.va=hi("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Fu(y&&y.concurrentRequestLimit),this.Ba=new Do,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Mo.prototype,t.ka=8,t.I=1,t.connect=function(y,x,T,k){Zt(0),this.W=y,this.H=x||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=sp(this,null,this.W),fi(this)};function Vu(y){if(Ul(y),y.I==3){var x=y.V++,T=nn(y.J);if(dt(T,"SID",y.M),dt(T,"RID",x),dt(T,"TYPE","terminate"),iA(y,T),x=new Cs(y,y.j,x),x.M=2,x.A=Za(nn(T)),T=!1,A.navigator&&A.navigator.sendBeacon)try{T=A.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&A.Image&&(new Image().src=x.A,T=!0),T||(x.g=ip(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ii(x)}rp(y)}function Lo(y){y.g&&(Gu(y),y.g.cancel(),y.g=null)}function Ul(y){Lo(y),y.v&&(A.clearTimeout(y.v),y.v=null),Nl(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&A.clearTimeout(y.m),y.m=null)}function fi(y){if(!Nu(y.h)&&!y.m){y.m=!0;var x=y.Ea;P||U(),V||(P(),V=!0),R.add(x,y),y.D=0}}function Fl(y,x){return Ai(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=x.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=ni(d(y.Ea,y,x),np(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const $=new Cs(this,this.j,y);let ee=this.o;if(this.U&&(ee?(ee=G(ee),Ae(ee,this.U)):ee=this.U),this.u!==null||this.R||($.J=ee,ee=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(x+=k,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=Jf(this,$,x),T=nn(this.J),dt(T,"RID",y),dt(T,"CVER",22),this.G&&dt(T,"X-HTTP-Session-Id",this.G),iA(this,T),ee&&(this.R?x="headers="+Qi(Jr(ee))+"&"+x:this.u&&nA(T,this.u,ee)),Ru(this.h,$),this.Ra&&dt(T,"TYPE","init"),this.S?(dt(T,"$req",x),dt(T,"SID","null"),$.U=!0,si($,T,null)):si($,T,x),this.I=2}}else this.I==3&&(y?Ku(this,y):this.i.length==0||Nu(this.h)||Ku(this))};function Ku(y,x){var T;x?T=x.l:T=y.V++;const k=nn(y.J);dt(k,"SID",y.M),dt(k,"RID",T),dt(k,"AID",y.K),iA(y,k),y.u&&y.o&&nA(k,y.u,y.o),T=new Cs(y,y.j,T,y.D+1),y.u===null&&(T.J=y.o),x&&(y.i=x.G.concat(y.i)),x=Jf(y,T,1e3),T.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Ru(y.h,T),si(T,k,x)}function iA(y,x){y.H&&ve(y.H,function(T,k){dt(x,k,T)}),y.l&&ve({},function(T,k){dt(x,k,T)})}function Jf(y,x,T){T=Math.min(y.i.length,T);const k=y.l?d(y.l.Ka,y.l,y):null;e:{var $=y.i;let Me=-1;for(;;){const zt=["count="+T];Me==-1?T>0?(Me=$[0].g,zt.push("ofs="+Me)):Me=0:zt.push("ofs="+Me);let ot=!0;for(let Nt=0;Nt<T;Nt++){var ee=$[Nt].g;const Zr=$[Nt].map;if(ee-=Me,ee<0)Me=Math.max(0,$[Nt].g-100),ot=!1;else try{ee="req"+ee+"_"||"";try{var pe=Zr instanceof Map?Zr:Object.entries(Zr);for(const[gi,Ts]of pe){let Is=Ts;l(Ts)&&(Is=Uo(Ts)),zt.push(ee+gi+"="+encodeURIComponent(Is))}}catch(gi){throw zt.push(ee+"type="+encodeURIComponent("_badmap")),gi}}catch{k&&k(Zr)}}if(ot){pe=zt.join("&");break e}}pe=void 0}return y=y.i.splice(0,T),x.G=y,pe}function Zf(y){if(!y.g&&!y.v){y.Y=1;var x=y.Da;P||U(),V||(P(),V=!0),R.add(x,y),y.A=0}}function oA(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=ni(d(y.Da,y),np(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,ep(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=ni(d(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Zt(10),Lo(this),ep(this))};function Gu(y){y.B!=null&&(A.clearTimeout(y.B),y.B=null)}function ep(y){y.g=new Cs(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var x=nn(y.na);dt(x,"RID","rpc"),dt(x,"SID",y.M),dt(x,"AID",y.K),dt(x,"CI",y.F?"0":"1"),!y.F&&y.ia&&dt(x,"TO",y.ia),dt(x,"TYPE","xmlhttp"),iA(y,x),y.u&&y.o&&nA(x,y.u,y.o),y.O&&(y.g.H=y.O);var T=y.g;y=y.ba,T.M=1,T.A=Za(nn(x)),T.u=null,T.R=!0,Cl(T,y)}t.Va=function(){this.C!=null&&(this.C=null,Lo(this),oA(this),Zt(19))};function Nl(y){y.C!=null&&(A.clearTimeout(y.C),y.C=null)}function tp(y,x){var T=null;if(y.g==x){Nl(y),Gu(y),y.g=null;var k=2}else if(li(y.h,x))T=x.G,Qu(y.h,x),k=1;else return;if(y.I!=0){if(x.o)if(k==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var $=y.D;k=Bl(),fn(k,new ti(k,T)),fi(y)}else Zf(y);else if($=x.m,$==3||$==0&&x.X>0||!(k==1&&Fl(y,x)||k==2&&oA(y)))switch(T&&T.length>0&&(x=y.h,x.i=x.i.concat(T)),$){case 1:pi(y,5);break;case 4:pi(y,10);break;case 3:pi(y,6);break;default:pi(y,2)}}}function np(y,x){let T=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(T*=2),T*x}function pi(y,x){if(y.j.info("Error code "+x),x==2){var T=d(y.bb,y),k=y.Ua;const $=!k;k=new Rr(k||"//www.google.com/images/cleardot.gif"),A.location&&A.location.protocol=="http"||Bn(k,"https"),Za(k),$?Es(k.toString(),T):Pu(k.toString(),T)}else Zt(2);y.I=0,y.l&&y.l.pa(x),rp(y),Ul(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function rp(y){if(y.I=0,y.ja=[],y.l){const x=Du(y.h);(x.length!=0||y.i.length!=0)&&(B(y.ja,x),B(y.ja,y.i),y.h.i.length=0,b(y.i),y.i.length=0),y.l.oa()}}function sp(y,x,T){var k=T instanceof Rr?nn(T):new Rr(T);if(k.g!="")x&&(k.g=x+"."+k.g),Fo(k,k.u);else{var $=A.location;k=$.protocol,x=x?x+"."+$.hostname:$.hostname,$=+$.port;const ee=new Rr(null);k&&Bn(ee,k),x&&(ee.g=x),$&&Fo(ee,$),T&&(ee.h=T),k=ee}return T=y.G,x=y.wa,T&&x&&dt(k,T,x),dt(k,"VER",y.ka),iA(y,k),k}function ip(y,x,T){if(x&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=y.Aa&&!y.ma?new gt(new ui({ab:T})):new gt(y.ma),x.Fa(y.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function op(){}t=op.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ko(){}ko.prototype.g=function(y,x){return new ar(y,x)};function ar(y,x){Jt.call(this),this.g=new Mo(x),this.l=y,this.h=x&&x.messageUrlParams||null,y=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(y?y["X-WebChannel-Content-Type"]=x.messageContentType:y={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(y?y["X-WebChannel-Client-Profile"]=x.sa:y={"X-WebChannel-Client-Profile":x.sa}),this.g.U=y,(y=x&&x.Qb)&&!N(y)&&(this.g.u=y),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!N(x)&&(this.g.G=x,y=this.h,y!==null&&x in y&&(y=this.h,x in y&&delete y[x])),this.j=new Mi(this)}p(ar,Jt),ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){Vu(this.g)},ar.prototype.o=function(y){var x=this.g;if(typeof y=="string"){var T={};T.__data__=y,y=T}else this.v&&(T={},T.__data__=Uo(y),y=T);x.i.push(new tn(x.Ya++,y)),x.I==3&&fi(x)},ar.prototype.N=function(){this.g.l=null,delete this.j,Vu(this.g),delete this.g,ar.Z.N.call(this)};function ap(y){Nn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var x=y.__sm__;if(x){e:{for(const T in x){y=T;break e}y=void 0}(this.i=y)&&(y=this.i,x=x!==null&&y in x?x[y]:void 0),this.data=x}else this.data=y}p(ap,Nn);function Ap(){$r.call(this),this.status=1}p(Ap,$r);function Mi(y){this.g=y}p(Mi,op),Mi.prototype.ra=function(){fn(this.g,"a")},Mi.prototype.qa=function(y){fn(this.g,new ap(y))},Mi.prototype.pa=function(y){fn(this.g,new Ap)},Mi.prototype.oa=function(){fn(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,Ak=function(){return new ko},ak=function(){return Bl()},ok=Gt,MC={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,gm=Xa,Iu.COMPLETE="complete",ik=Iu,Pf.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,eh=Pf,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,sk=gt}).apply(typeof Wg<"u"?Wg:typeof self<"u"?self:typeof window<"u"?window:{});const NN="@firebase/firestore",RN="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new vf("@firebase/firestore");function bc(){return rl.logLevel}function _e(t,...e){if(rl.logLevel<=Xe.DEBUG){const n=e.map(JE);rl.debug(`Firestore (${pu}): ${t}`,...n)}}function sl(t,...e){if(rl.logLevel<=Xe.ERROR){const n=e.map(JE);rl.error(`Firestore (${pu}): ${t}`,...n)}}function vy(t,...e){if(rl.logLevel<=Xe.WARN){const n=e.map(JE);rl.warn(`Firestore (${pu}): ${t}`,...n)}}function JE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lk(t,r,n)}function lk(t,e,n){let r=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sl(r),new Error(r)}function Kt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||lk(e,s,r)}function _t(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ioe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zn.UNAUTHENTICATED)))}shutdown(){}}class Uoe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Foe{constructor(e){this.t=e,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new $A;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $A,e.enqueueRetryable((()=>s(this.currentUser)))};const A=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $A)}}),0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new ck(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new Zn(e)}}class Noe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Roe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Noe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qoe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ms(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Kt(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const A=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Doe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Doe(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function LC(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return iB(s)===iB(o)?ct(s,o):iB(s)?1:-1}return ct(t.length,e.length)}const Ooe=55296,Moe=57343;function iB(t){const e=t.charCodeAt(0);return e>=Ooe&&e<=Moe}function $c(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="__name__";class Ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Ci.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ct(e.length,n.length)}static compareSegments(e,n){const r=Ci.isNumericId(e),s=Ci.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):LC(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return XE.fromString(e.substring(4,e.length-2))}}class Xt extends Ci{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Xt(n)}static emptyPath(){return new Xt([])}}const Loe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Ci{construct(e,n,r){return new jn(e,n,r)}static isValidIdentifier(e){return Loe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DN}static keyField(){return new jn([DN])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Fe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let A=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Fe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Fe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(A=!A,s++):l!=="."||A?(r+=l,s++):(o(),s++)}if(o(),A)throw new Fe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(n)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Xt.fromString(e))}static fromName(e){return new Pe(Xt.fromString(e).popFirst(5))}static empty(){return new Pe(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function koe(t,e,n){if(!n)throw new Fe(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Poe(t,e,n,r){if(e===!0&&r===!0)throw new Fe(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ON(t){if(!Pe.isDocumentKey(t))throw new Fe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function e_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function kC(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=e_(t);throw new Fe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function wf(t,e){if(!uk(t))throw new Fe(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const A=t[r];if(s&&typeof A!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&A!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Fe(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=-62135596800,LN=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LN);return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<MN)throw new Fe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LN}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wf(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-MN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:un("string",Ot._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Ot(0,0))}static max(){return new Dt(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=-1;function Hoe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Dt.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Oa(s,Pe.empty(),e)}function joe(t){return new Oa(t.readTime,t.key,Gh)}class Oa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oa(Dt.min(),Pe.empty(),Gh)}static max(){return new Oa(Dt.max(),Pe.empty(),Gh)}}function Voe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Koe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Goe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t_(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==Koe)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let s=0,o=0,A=!1;e.forEach((l=>{++s,l.next((()=>{++o,A&&o===s&&n()}),(c=>r(c)))})),A=!0,o===s&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((s=>s?le.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,s)=>{const o=e.length,A=new Array(o);let l=0;for(let c=0;c<o;c++){const d=c;n(e[d]).next((f=>{A[d]=f,++l,l===o&&r(A)}),(f=>s(f)))}}))}static doWhile(e,n){return new le(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function zoe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}n_.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=-1;function s_(t){return t==null}function l0(t){return t===0&&1/t==-1/0}function Woe(t){return typeof t=="number"&&Number.isInteger(t)&&!l0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="";function qoe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kN(e)),e=$oe(t.get(n),e);return kN(e)}function $oe(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case dk:n+="";break;default:n+=o}}return n}function kN(t){return t+dk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs=class PC{constructor(e,n){this.comparator=e,this.root=n||Ua.EMPTY}insert(e,n){return new PC(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ua.BLACK,null,null))}remove(e){return new PC(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ua.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qg(this.root,e,this.comparator,!1)}getReverseIterator(){return new qg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qg(this.root,e,this.comparator,!0)}},qg=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ua=class no{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??no.RED,this.left=s??no.EMPTY,this.right=o??no.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new no(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return no.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}};Ua.EMPTY=null,Ua.RED=!0,Ua.BLACK=!1;Ua.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Ua(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.comparator=e,this.data=new qs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HN(this.data.getIterator())}getIteratorFrom(e){return new HN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gn(this.comparator);return n.data=e,n}}class HN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new js([])}unionWith(e){let n=new Gn(jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new js(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yoe("Invalid base64 string: "+o):o}})(e);return new Ti(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let A=0;A<s.length;++A)o+=String.fromCharCode(s[A]);return o})(e);return new Ti(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const Xoe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(t){if(Kt(!!t,39018),typeof t=="string"){let e=0;const n=Xoe.exec(t);if(Kt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(t.seconds),nanos:Pn(t.nanos)}}function Pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yc(t){return typeof t=="string"?Ti.fromBase64String(t):Ti.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="server_timestamp",pk="__type__",gk="__previous_value__",mk="__local_write_time__";function i_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pk])==null?void 0:r.stringValue)===fk}function o_(t){const e=t.mapValue.fields[gk];return i_(e)?o_(e):e}function c0(t){const e=il(t.mapValue.fields[mk].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(e,n,r,s,o,A,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=A,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const u0="(default)";class d0{constructor(e,n){this.projectId=e,this.database=n||u0}static empty(){return new d0("","")}get isDefaultDatabase(){return this.database===u0}isEqual(e){return e instanceof d0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="__type__",Zoe="__max__",$g={mapValue:{}},vk="__vector__",HC="value";function ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i_(t)?4:tae(t)?9007199254740991:eae(t)?10:11:Ve(28295,{value:t})}function Ii(t,e){if(t===e)return!0;const n=ol(t);if(n!==ol(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return c0(t).isEqual(c0(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const A=il(s.timestampValue),l=il(o.timestampValue);return A.seconds===l.seconds&&A.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Yc(s.bytesValue).isEqual(Yc(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Pn(s.geoPointValue.latitude)===Pn(o.geoPointValue.latitude)&&Pn(s.geoPointValue.longitude)===Pn(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Pn(s.integerValue)===Pn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const A=Pn(s.doubleValue),l=Pn(o.doubleValue);return A===l?l0(A)===l0(l):isNaN(A)&&isNaN(l)}return!1})(t,e);case 9:return $c(t.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(s,o){const A=s.mapValue.fields||{},l=o.mapValue.fields||{};if(PN(A)!==PN(l))return!1;for(const c in A)if(A.hasOwnProperty(c)&&(l[c]===void 0||!Ii(A[c],l[c])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function zh(t,e){return(t.values||[]).find((n=>Ii(n,e)))!==void 0}function Xc(t,e){if(t===e)return 0;const n=ol(t),r=ol(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(o,A){const l=Pn(o.integerValue||o.doubleValue),c=Pn(A.integerValue||A.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return jN(t.timestampValue,e.timestampValue);case 4:return jN(c0(t),c0(e));case 5:return LC(t.stringValue,e.stringValue);case 6:return(function(o,A){const l=Yc(o),c=Yc(A);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,A){const l=o.split("/"),c=A.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=ct(l[d],c[d]);if(f!==0)return f}return ct(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,A){const l=ct(Pn(o.latitude),Pn(A.latitude));return l!==0?l:ct(Pn(o.longitude),Pn(A.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return VN(t.arrayValue,e.arrayValue);case 10:return(function(o,A){var g,b,B,C;const l=o.fields||{},c=A.fields||{},d=(g=l[HC])==null?void 0:g.arrayValue,f=(b=c[HC])==null?void 0:b.arrayValue,p=ct(((B=d==null?void 0:d.values)==null?void 0:B.length)||0,((C=f==null?void 0:f.values)==null?void 0:C.length)||0);return p!==0?p:VN(d,f)})(t.mapValue,e.mapValue);case 11:return(function(o,A){if(o===$g.mapValue&&A===$g.mapValue)return 0;if(o===$g.mapValue)return 1;if(A===$g.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),d=A.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const g=LC(c[p],f[p]);if(g!==0)return g;const b=Xc(l[c[p]],d[f[p]]);if(b!==0)return b}return ct(c.length,f.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function jN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=il(t),r=il(e),s=ct(n.seconds,r.seconds);return s!==0?s:ct(n.nanos,r.nanos)}function VN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Xc(n[s],r[s]);if(o)return o}return ct(n.length,r.length)}function Jc(t){return jC(t)}function jC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=il(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Yc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=jC(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const A of r)o?o=!1:s+=",",s+=`${A}:${jC(n.fields[A])}`;return s+"}"})(t.mapValue):Ve(61005,{value:t})}function mm(t){switch(ol(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=o_(t);return e?16+mm(e):16;case 5:return 2*t.stringValue.length;case 6:return Yc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+mm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return gu(r.fields,((o,A)=>{s+=o.length+mm(A)})),s})(t.mapValue);default:throw Ve(13486,{value:t})}}function VC(t){return!!t&&"integerValue"in t}function a_(t){return!!t&&"arrayValue"in t}function ym(t){return!!t&&"mapValue"in t}function eae(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yk])==null?void 0:r.stringValue)===vk}function ph(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ph(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ph(t.arrayValue.values[n]);return e}return{...t}}function tae(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Zoe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.value=e}static empty(){return new Ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ym(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ph(n)}setAll(e){let n=jn.emptyPath(),r={},s=[];e.forEach(((A,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}A?r[l.lastSegment()]=ph(A):s.push(l.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());ym(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ym(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){gu(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Ls(ph(this.value))}}function wk(t){const e=[];return gu(t.fields,((n,r)=>{const s=new jn([n]);if(ym(r)){const o=wk(r.mapValue).fields;if(o.length===0)e.push(s);else for(const A of o)e.push(s.child(A))}else e.push(s)})),new js(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r,s,o,A,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=A,this.documentState=l}static newInvalidDocument(e){return new Os(e,0,Dt.min(),Dt.min(),Dt.min(),Ls.empty(),0)}static newFoundDocument(e,n,r,s){return new Os(e,1,n,Dt.min(),r,s,0)}static newNoDocument(e,n){return new Os(e,2,n,Dt.min(),Dt.min(),Ls.empty(),0)}static newUnknownDocument(e,n){return new Os(e,3,n,Dt.min(),Dt.min(),Ls.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this.position=e,this.inclusive=n}}function KN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],A=t.position[s];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(A.referenceValue),n.key):r=Xc(A,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function GN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n="asc"){this.field=e,this.dir=n}}function nae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{}class In extends bk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sae(e,n,r):n==="array-contains"?new aae(e,r):n==="in"?new Aae(e,r):n==="not-in"?new lae(e,r):n==="array-contains-any"?new cae(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iae(e,r):new oae(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xc(n,this.value)):n!==null&&ol(this.value)===ol(n)&&this.matchesComparison(Xc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ma extends bk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ma(e,n)}matches(e){return Bk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bk(t){return t.op==="and"}function Ck(t){return rae(t)&&Bk(t)}function rae(t){for(const e of t.filters)if(e instanceof Ma)return!1;return!0}function KC(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+Jc(t.value);if(Ck(t))return t.filters.map((e=>KC(e))).join(",");{const e=t.filters.map((n=>KC(n))).join(",");return`${t.op}(${e})`}}function xk(t,e){return t instanceof In?(function(r,s){return s instanceof In&&r.op===s.op&&r.field.isEqual(s.field)&&Ii(r.value,s.value)})(t,e):t instanceof Ma?(function(r,s){return s instanceof Ma&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,A,l)=>o&&xk(A,s.filters[l])),!0):!1})(t,e):void Ve(19439)}function Ek(t){return t instanceof In?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jc(n.value)}`})(t):t instanceof Ma?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ek).join(" ,")+"}"})(t):"Filter"}class sae extends In{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class iae extends In{constructor(e,n){super(e,"in",n),this.keys=_k("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oae extends In{constructor(e,n){super(e,"not-in",n),this.keys=_k("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _k(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Pe.fromName(r.referenceValue)))}class aae extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a_(n)&&zh(n.arrayValue,this.value)}}class Aae extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zh(this.value.arrayValue,n)}}class lae extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zh(this.value.arrayValue,n)}}class cae extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>zh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uae{constructor(e,n=null,r=[],s=[],o=null,A=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=A,this.endAt=l,this.Te=null}}function zN(t,e=null,n=[],r=[],s=null,o=null,A=null){return new uae(t,e,n,r,s,o,A)}function A_(t){const e=_t(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>KC(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),s_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Jc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Jc(r))).join(",")),e.Te=n}return e.Te}function l_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GN(t.startAt,e.startAt)&&GN(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n=null,r=[],s=[],o=null,A="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=A,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dae(t,e,n,r,s,o,A,l){return new wy(t,e,n,r,s,o,A,l)}function hae(t){return new wy(t)}function WN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fae(t){return t.collectionGroup!==null}function gh(t){const e=_t(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let l=new Gn(jn.comparator);return A.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new f0(o,r))})),n.has(jn.keyField().canonicalString())||e.Ie.push(new f0(jn.keyField(),r))}return e.Ie}function YA(t){const e=_t(t);return e.Ee||(e.Ee=pae(e,gh(t))),e.Ee}function pae(t,e){if(t.limitType==="F")return zN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new f0(s.field,o)}));const n=t.endAt?new h0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new h0(t.startAt.position,t.startAt.inclusive):null;return zN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function GC(t,e,n){return new wy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sk(t,e){return l_(YA(t),YA(e))&&t.limitType===e.limitType}function Tk(t){return`${A_(YA(t))}|lt:${t.limitType}`}function kd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>Ek(s))).join(", ")}]`),s_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(A){return`${A.field.canonicalString()} (${A.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Jc(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Jc(s))).join(",")),`Target(${r})`})(YA(t))}; limitType=${t.limitType})`}function c_(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of gh(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(A,l,c){const d=KN(A,l,c);return A.inclusive?d<=0:d<0})(r.startAt,gh(r),s)||r.endAt&&!(function(A,l,c){const d=KN(A,l,c);return A.inclusive?d>=0:d>0})(r.endAt,gh(r),s))})(t,e)}function gae(t){return(e,n)=>{let r=!1;for(const s of gh(t)){const o=mae(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function mae(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):(function(o,A,l){const c=A.data.field(o),d=l.data.field(o);return c!==null&&d!==null?Xc(c,d):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){gu(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return hk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yae=new qs(Pe.comparator);function p0(){return yae}const Ik=new qs(Pe.comparator);function Yg(...t){let e=Ik;for(const n of t)e=e.insert(n.key,n);return e}function Uk(t){let e=Ik;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jA(){return mh()}function Fk(){return mh()}function mh(){return new vl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const vae=new qs(Pe.comparator),wae=new Gn(Pe.comparator);function tr(...t){let e=wae;for(const n of t)e=e.add(n);return e}const bae=new Gn(ct);function Bae(){return bae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l0(e)?"-0":e}}function Nk(t){return{integerValue:""+t}}function Cae(t,e){return Woe(e)?Nk(e):u_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this._=void 0}}function xae(t,e,n){return t instanceof Wh?(function(s,o){const A={fields:{[pk]:{stringValue:fk},[mk]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&i_(o)&&(o=o_(o)),o&&(A.fields[gk]=o),{mapValue:A}})(n,e):t instanceof qh?Qk(t,e):t instanceof $h?Dk(t,e):(function(s,o){const A=Rk(s,o),l=qN(A)+qN(s.Ae);return VC(A)&&VC(s.Ae)?Nk(l):u_(s.serializer,l)})(t,e)}function Eae(t,e,n){return t instanceof qh?Qk(t,e):t instanceof $h?Dk(t,e):n}function Rk(t,e){return t instanceof g0?(function(r){return VC(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Wh extends by{}class qh extends by{constructor(e){super(),this.elements=e}}function Qk(t,e){const n=Ok(e);for(const r of t.elements)n.some((s=>Ii(s,r)))||n.push(r);return{arrayValue:{values:n}}}class $h extends by{constructor(e){super(),this.elements=e}}function Dk(t,e){let n=Ok(e);for(const r of t.elements)n=n.filter((s=>!Ii(s,r)));return{arrayValue:{values:n}}}class g0 extends by{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qN(t){return Pn(t.integerValue||t.doubleValue)}function Ok(t){return a_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(e,n){this.field=e,this.transform=n}}function Sae(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof qh&&s instanceof qh||r instanceof $h&&s instanceof $h?$c(r.elements,s.elements,Ii):r instanceof g0&&s instanceof g0?Ii(r.Ae,s.Ae):r instanceof Wh&&s instanceof Wh})(t.transform,e.transform)}class Tae{constructor(e,n){this.version=e,this.transformResults=n}}class lo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lo}static exists(e){return new lo(void 0,e)}static updateTime(e){return new lo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class By{}function Mk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kk(t.key,lo.none()):new Bf(t.key,t.data,lo.none());{const n=t.data,r=Ls.empty();let s=new Gn(jn.comparator);for(let o of e.fields)if(!s.has(o)){let A=n.field(o);A===null&&o.length>1&&(o=o.popLast(),A=n.field(o)),A===null?r.delete(o):r.set(o,A),s=s.add(o)}return new wl(t.key,r,new js(s.toArray()),lo.none())}}function Iae(t,e,n){t instanceof Bf?(function(s,o,A){const l=s.value.clone(),c=YN(s.fieldTransforms,o,A.transformResults);l.setAll(c),o.convertToFoundDocument(A.version,l).setHasCommittedMutations()})(t,e,n):t instanceof wl?(function(s,o,A){if(!vm(s.precondition,o))return void o.convertToUnknownDocument(A.version);const l=YN(s.fieldTransforms,o,A.transformResults),c=o.data;c.setAll(Lk(s)),c.setAll(l),o.convertToFoundDocument(A.version,c).setHasCommittedMutations()})(t,e,n):(function(s,o,A){o.convertToNoDocument(A.version).setHasCommittedMutations()})(0,e,n)}function yh(t,e,n,r){return t instanceof Bf?(function(o,A,l,c){if(!vm(o.precondition,A))return l;const d=o.value.clone(),f=XN(o.fieldTransforms,c,A);return d.setAll(f),A.convertToFoundDocument(A.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof wl?(function(o,A,l,c){if(!vm(o.precondition,A))return l;const d=XN(o.fieldTransforms,c,A),f=A.data;return f.setAll(Lk(o)),f.setAll(d),A.convertToFoundDocument(A.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,A,l){return vm(o.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):l})(t,e,n)}function Uae(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=Rk(r.transform,s||null);o!=null&&(n===null&&(n=Ls.empty()),n.set(r.field,o))}return n||null}function $N(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$c(r,s,((o,A)=>Sae(o,A)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bf extends By{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wl extends By{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Lk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function YN(t,e,n){const r=new Map;Kt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],A=o.transform,l=e.data.field(o.field);r.set(o.field,Eae(A,l,n[s]))}return r}function XN(t,e,n){const r=new Map;for(const s of t){const o=s.transform,A=n.data.field(s.field);r.set(s.field,xae(o,A,e))}return r}class kk extends By{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fae extends By{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&Iae(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Fk();return this.mutations.forEach((s=>{const o=e.get(s.key),A=o.overlayedDocument;let l=this.applyToLocalView(A,o.mutatedFields);l=n.has(s.key)?null:l;const c=Mk(A,l);c!==null&&r.set(s.key,c),A.isValidDocument()||A.convertToNoDocument(Dt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tr())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,((n,r)=>$N(n,r)))&&$c(this.baseMutations,e.baseMutations,((n,r)=>$N(n,r)))}}class d_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return vae})();const o=e.mutations;for(let A=0;A<o.length;A++)s=s.insert(o[A].key,r[A].version);return new d_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,nt;function Qae(t){switch(t){case de.OK:return Ve(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function Dae(t){if(t===void 0)return sl("GRPC error has no .code"),de.UNKNOWN;switch(t){case An.OK:return de.OK;case An.CANCELLED:return de.CANCELLED;case An.UNKNOWN:return de.UNKNOWN;case An.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case An.INTERNAL:return de.INTERNAL;case An.UNAVAILABLE:return de.UNAVAILABLE;case An.UNAUTHENTICATED:return de.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case An.NOT_FOUND:return de.NOT_FOUND;case An.ALREADY_EXISTS:return de.ALREADY_EXISTS;case An.PERMISSION_DENIED:return de.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case An.ABORTED:return de.ABORTED;case An.OUT_OF_RANGE:return de.OUT_OF_RANGE;case An.UNIMPLEMENTED:return de.UNIMPLEMENTED;case An.DATA_LOSS:return de.DATA_LOSS;default:return Ve(39323,{code:t})}}(nt=An||(An={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new XE([4294967295,4294967295],0);class Oae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zC(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mae(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lae(t,e){return zC(t,e.toTimestamp())}function Oc(t){return Kt(!!t,49232),Dt.fromTimestamp((function(n){const r=il(n);return new Ot(r.seconds,r.nanos)})(t))}function Pk(t,e){return WC(t,e).canonicalString()}function WC(t,e){const n=(function(s){return new Xt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function kae(t){const e=Xt.fromString(t);return Kt(Wae(e),10190,{key:e.toString()}),e}function qC(t,e){return Pk(t.databaseId,e.path)}function Pae(t){const e=kae(t);return e.length===4?Xt.emptyPath():jae(e)}function Hae(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jae(t){return Kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JN(t,e,n){return{name:qC(t,e),fields:n.value.mapValue.fields}}function Vae(t,e){let n;if(e instanceof Bf)n={update:JN(t,e.key,e.value)};else if(e instanceof kk)n={delete:qC(t,e.key)};else if(e instanceof wl)n={update:JN(t,e.key,e.data),updateMask:zae(e.fieldMask)};else{if(!(e instanceof Fae))return Ve(16599,{Vt:e.type});n={verify:qC(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,A){const l=A.transform;if(l instanceof Wh)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof qh)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $h)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof g0)return{fieldPath:A.field.canonicalString(),increment:l.Ae};throw Ve(20930,{transform:A.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:Lae(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve(27497)})(t,e.precondition)),n}function Kae(t,e){return t&&t.length>0?(Kt(e!==void 0,14353),t.map((n=>(function(s,o){let A=s.updateTime?Oc(s.updateTime):Oc(o);return A.isEqual(Dt.min())&&(A=Oc(o)),new Tae(A,s.transformResults||[])})(n,e)))):[]}function Gae(t){let e=Pae(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Kt(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(p){const g=Hk(p);return g instanceof Ma&&Ck(g)?g.getFilters():[g]})(n.where));let A=[];n.orderBy&&(A=(function(p){return p.map((g=>(function(B){return new f0(Bc(B.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,s_(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,b=p.values||[];return new h0(b,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const g=!p.before,b=p.values||[];return new h0(b,g)})(n.endAt)),dae(e,s,A,o,l,"F",c,d)}function Hk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bc(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bc(n.unaryFilter.field);return In.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bc(n.unaryFilter.field);return In.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Bc(n.unaryFilter.field);return In.create(A,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return In.create(Bc(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ma.create(n.compositeFilter.filters.map((r=>Hk(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function Bc(t){return jn.fromServerFormat(t.fieldPath)}function zae(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Wae(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qae{constructor(e){this.yt=e}}function $ae(t){const e=Gae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?GC(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yae{constructor(){this.Cn=new Xae}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Oa.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class Xae{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Gn(Xt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Gn(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jk=41943040;class Cr{static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(jk,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zc(0)}static cr(){return new Zc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="LruGarbageCollector",Jae=1048576;function tR([t,e],[n,r]){const s=ct(t,n);return s===0?ct(e,r):s}class Zae{constructor(e){this.Ir=e,this.buffer=new Gn(tR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eAe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(eR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bf(n)?_e(eR,"Ignoring IndexedDB error during garbage collection: ",n):await t_(n)}await this.Vr(3e5)}))}}class tAe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(n_.ce);const r=new Zae(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(ZN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZN):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,A,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,A=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),bc()<=Xe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${A-f}ms
	Determined least recently used ${s} in `+(l-A)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:p}))))}}function nAe(t,e){return new tAe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rAe{constructor(){this.changes=new vl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Os.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sAe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iAe{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&yh(r.mutation,s,js.empty(),Ot.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tr()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tr()){const s=jA();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let A=Yg();return o.forEach(((l,c)=>{A=A.insert(l,c.overlayedDocument)})),A}))))}getOverlayedDocuments(e,n){const r=jA();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tr())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((A,l)=>{n.set(A,l)}))}))}computeViews(e,n,r,s){let o=p0();const A=mh(),l=(function(){return mh()})();return n.forEach(((c,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof wl)?o=o.insert(d.key,d):f!==void 0?(A.set(d.key,f.mutation.getFieldMask()),yh(f.mutation,d,f.mutation.getFieldMask(),Ot.now())):A.set(d.key,js.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((d,f)=>A.set(d,f))),n.forEach(((d,f)=>l.set(d,new sAe(f,A.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=mh();let s=new qs(((A,l)=>A-l)),o=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((A=>{for(const l of A)l.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||js.empty();f=l.applyToLocalView(d,f),r.set(c,f);const p=(s.get(l.batchId)||tr()).add(c);s=s.insert(l.batchId,p)}))})).next((()=>{const A=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,p=Fk();f.forEach((g=>{if(!o.has(g)){const b=Mk(n.get(g),r.get(g));b!==null&&p.set(g,b),o=o.add(g)}})),A.push(this.documentOverlayCache.saveOverlays(e,d,p))}return le.waitFor(A)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(A){return Pe.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fae(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const A=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):le.resolve(jA());let l=Gh,c=o;return A.next((d=>le.forEach(d,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(f)?le.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{c=c.insert(f,g)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,c,d,tr()))).next((f=>({batchId:l,changes:Uk(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next((r=>{let s=Yg();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let A=Yg();return this.indexManager.getCollectionParents(e,o).next((l=>le.forEach(l,(c=>{const d=(function(p,g){return new wy(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((f=>{f.forEach(((p,g)=>{A=A.insert(p,g)}))}))})).next((()=>A))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((A=>(o=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((A=>{o.forEach(((c,d)=>{const f=d.getKey();A.get(f)===null&&(A=A.insert(f,Os.newInvalidDocument(f)))}));let l=Yg();return A.forEach(((c,d)=>{const f=o.get(c);f!==void 0&&yh(f.mutation,d,js.empty(),Ot.now()),c_(n,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oAe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Oc(s.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:$ae(s.bundledQuery),readTime:Oc(s.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aAe{constructor(){this.overlays=new qs(Pe.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jA();return le.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.St(e,n,o)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const s=jA(),o=n.length+1,A=new Pe(n.child("")),l=this.overlays.getIteratorFrom(A);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return le.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new qs(((d,f)=>d-f));const A=this.overlays.getIterator();for(;A.hasNext();){const d=A.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=o.get(d.largestBatchId);f===null&&(f=jA(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=jA(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=s)););return le.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const A=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(r.key,new Rae(n,r));let o=this.qr.get(n);o===void 0&&(o=tr(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AAe{constructor(){this.sessionToken=Ti.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.Qr=new Gn(_n.$r),this.Ur=new Gn(_n.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _n(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new _n(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Pe(new Xt([])),r=new _n(n,e),s=new _n(n,e+1),o=[];return this.Ur.forEachInRange([r,s],(A=>{this.Gr(A),o.push(A.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Pe(new Xt([])),r=new _n(n,e),s=new _n(n,e+1);let o=tr();return this.Ur.forEachInRange([r,s],(A=>{o=o.add(A.key)})),o}containsKey(e){const n=new _n(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _n{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Pe.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lAe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gn(_n.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new Nae(o,n,r,s);this.mutationQueue.push(A);for(const l of s)this.Zr=this.Zr.add(new _n(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(A)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?r_:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _n(n,0),s=new _n(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(A=>{const l=this.Xr(A.Yr);o.push(l)})),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gn(ct);return n.forEach((s=>{const o=new _n(s,0),A=new _n(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,A],(l=>{r=r.add(l.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const A=new _n(new Pe(o),0);let l=new Gn(ct);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)}),A),le.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(s=>{const o=new _n(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new _n(n,0),s=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cAe{constructor(e){this.ri=e,this.docs=(function(){return new qs(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,A=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:A}),this.size+=A-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Os.newInvalidDocument(n))}getEntries(e,n){let r=p0();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Os.newInvalidDocument(s))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=p0();const A=n.path,l=new Pe(A.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!A.isPrefixOf(d.path))break;d.path.length>A.length+1||Voe(joe(f),r)<=0||(s.has(f.key)||c_(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ve(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new uAe(this)}getSize(e){return le.resolve(this.size)}}class uAe extends rAe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dAe{constructor(e){this.persistence=e,this.si=new vl((n=>A_(n)),l_),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new h_,this.targetCount=0,this.ai=Zc.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach(((A,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(A),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)})),le.waitFor(o).next((()=>s))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((A=>{o.push(s.markPotentiallyOrphaned(e,A))})),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n){this.ui={},this.overlays={},this.ci=new n_(0),this.li=!1,this.li=!0,this.hi=new AAe,this.referenceDelegate=e(this),this.Pi=new dAe(this),this.indexManager=new Yae,this.remoteDocumentCache=(function(s){return new cAe(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qae(n),this.Ii=new oAe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aAe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new lAe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const s=new hAe(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class hAe extends Goe{constructor(e){super(),this.currentSequenceNumber=e}}class f_{constructor(e){this.persistence=e,this.Ri=new h_,this.Vi=null}static mi(e){return new f_(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const s=Pe.fromPath(r);return this.gi(e,s).next((o=>{o||n.removeEntry(s,Dt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class m0{constructor(e,n){this.persistence=e,this.pi=new vl((r=>qoe(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=nAe(this,n)}static mi(e,n){return new m0(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?le.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(A=>this.br(e,A,n).next((l=>{l||(r++,o.removeEntry(A,Dt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mm(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return le.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=tr(),s=tr();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new p_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fAe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pAe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Mre()?8:zoe(ir())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next((A=>{o.result=A})).next((()=>{if(!o.result)return this.ws(e,n,s,r).next((A=>{o.result=A}))})).next((()=>{if(o.result)return;const A=new fAe;return this.Ss(e,n,A).next((l=>{if(o.result=l,this.Vs)return this.bs(e,n,A,l.size)}))})).next((()=>o.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(bc()<=Xe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",kd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(bc()<=Xe.DEBUG&&_e("QueryEngine","Query:",kd(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(bc()<=Xe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",kd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,YA(n))):le.resolve())}ys(e,n){if(WN(n))return le.resolve(null);let r=YA(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=GC(n,null,"F"),r=YA(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const A=tr(...o);return this.ps.getDocuments(e,A).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,l);return this.Cs(n,d,A,c.readTime)?this.ys(e,GC(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,s){return WN(n)||s.isEqual(Dt.min())?le.resolve(null):this.ps.getDocuments(e,r).next((o=>{const A=this.Ds(n,o);return this.Cs(n,A,r,s)?le.resolve(null):(bc()<=Xe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),kd(n)),this.vs(e,A,n,Hoe(s,Gh)).next((l=>l)))}))}Ds(e,n){let r=new Gn(gae(e));return n.forEach(((s,o)=>{c_(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return bc()<=Xe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",kd(n)),this.ps.getDocumentsMatchingQuery(e,n,Oa.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((A=>{o=o.insert(A.key,A)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gAe="LocalStore";class mAe{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new qs(ct),this.xs=new vl((o=>A_(o)),l_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iAe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function yAe(t,e,n,r){return new mAe(t,e,n,r)}async function Kk(t,e){const n=_t(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const A=[],l=[];let c=tr();for(const d of s){A.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of o){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:A,addedBatchIds:l})))}))}))}function vAe(t,e){const n=_t(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const p=d.batch,g=p.keys();let b=le.resolve();return g.forEach((B=>{b=b.next((()=>f.getEntry(c,B))).next((C=>{const E=d.docVersions.get(B);Kt(E!==null,48541),C.version.compareTo(E)<0&&(p.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),f.addEntry(C)))}))})),b.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=tr();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function wAe(t){const e=_t(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bAe(t,e){const n=_t(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=r_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}class nR{constructor(){this.activeTargetIds=Bae()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BAe{constructor(){this.Mo=new nR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CAe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="ConnectivityMonitor";class sR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(rR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(rR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg=null;function $C(){return Xg===null?Xg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xg++,"0x"+Xg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="RestConnection",xAe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EAe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===u0?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const A=$C(),l=this.zo(e,n.toUriEncodedString());_e(oB,`Sending RPC '${e}' ${A}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,o);const{host:d}=new URL(l),f=Ka(d);return this.Jo(e,l,c,r,f).then((p=>(_e(oB,`Received RPC '${e}' ${A}: `,p),p)),(p=>{throw vy(oB,`RPC '${e}' ${A} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,s,o,A){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const r=xAe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ae{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class SAe extends EAe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const A=$C();return new Promise(((l,c)=>{const d=new sk;d.setWithCredentials(!0),d.listenOnce(ik.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case gm.NO_ERROR:const p=d.getResponseJson();_e(Yn,`XHR for RPC '${e}' ${A} received:`,JSON.stringify(p)),l(p);break;case gm.TIMEOUT:_e(Yn,`RPC '${e}' ${A} timed out`),c(new Fe(de.DEADLINE_EXCEEDED,"Request time out"));break;case gm.HTTP_ERROR:const g=d.getStatus();if(_e(Yn,`RPC '${e}' ${A} failed with status:`,g,"response text:",d.getResponseText()),g>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const B=b==null?void 0:b.error;if(B&&B.status&&B.message){const C=(function(I){const F=I.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(F)>=0?F:de.UNKNOWN})(B.status);c(new Fe(C,B.message))}else c(new Fe(de.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Fe(de.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:A,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{_e(Yn,`RPC '${e}' ${A} completed.`)}}));const f=JSON.stringify(s);_e(Yn,`RPC '${e}' ${A} sending request:`,s),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const s=$C(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=Ak(),l=ak(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=o.join("");_e(Yn,`Creating RPC '${e}' stream ${s}: ${f}`,c);const p=A.createWebChannel(f,c);this.I_(p);let g=!1,b=!1;const B=new _Ae({Yo:E=>{b?_e(Yn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(g||(_e(Yn,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),_e(Yn,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},Zo:()=>p.close()}),C=(E,I,F)=>{E.listen(I,(Q=>{try{F(Q)}catch(j){setTimeout((()=>{throw j}),0)}}))};return C(p,eh.EventType.OPEN,(()=>{b||(_e(Yn,`RPC '${e}' stream ${s} transport opened.`),B.o_())})),C(p,eh.EventType.CLOSE,(()=>{b||(b=!0,_e(Yn,`RPC '${e}' stream ${s} transport closed`),B.a_(),this.E_(p))})),C(p,eh.EventType.ERROR,(E=>{b||(b=!0,vy(Yn,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),B.a_(new Fe(de.UNAVAILABLE,"The operation could not be completed")))})),C(p,eh.EventType.MESSAGE,(E=>{var I;if(!b){const F=E.data[0];Kt(!!F,16349);const Q=F,j=(Q==null?void 0:Q.error)||((I=Q[0])==null?void 0:I.error);if(j){_e(Yn,`RPC '${e}' stream ${s} received error:`,j);const P=j.status;let V=(function(D){const L=An[D];if(L!==void 0)return Dae(L)})(P),R=j.message;V===void 0&&(V=de.INTERNAL,R="Unknown error status: "+P+" with message "+j.message),b=!0,B.a_(new Fe(V,R)),p.close()}else _e(Yn,`RPC '${e}' stream ${s} received:`,F),B.u_(F)}})),C(l,ok.STAT_EVENT,(E=>{E.stat===MC.PROXY?_e(Yn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===MC.NOPROXY&&_e(Yn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function aB(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){return new Oae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="PersistentStream";class TAe{constructor(e,n,r,s,o,A,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(sl(n.toString()),sl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Fe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(iR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(iR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IAe extends TAe{constructor(e,n,r,s,o,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,A),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Kae(e.writeResults,e.commitTime),r=Oc(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hae(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Vae(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UAe{}class FAe extends UAe{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Fe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,A])=>this.connection.Go(e,WC(n,r),s,o,A))).catch((o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(de.UNKNOWN,o.toString())}))}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([A,l])=>this.connection.Ho(e,WC(n,r),s,A,l,o))).catch((A=>{throw A.name==="FirebaseError"?(A.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new Fe(de.UNKNOWN,A.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NAe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sl(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="RemoteStore";class RAe{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((A=>{r.enqueueAndForget((async()=>{Ef(this)&&(_e(Cf,"Restarting streams for network reachability change."),await(async function(c){const d=_t(c);d.Ea.add(4),await xf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await xy(d)})(this))}))})),this.Ra=new NAe(r,s)}}async function xy(t){if(Ef(t))for(const e of t.da)await e(!0)}async function xf(t){for(const e of t.da)await e(!1)}function Ef(t){return _t(t).Ea.size===0}async function zk(t,e,n){if(!bf(e))throw e;t.Ea.add(1),await xf(t),t.Ra.set("Offline"),n||(n=()=>wAe(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(Cf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xy(t)}))}function Wk(t,e){return e().catch((n=>zk(t,n,e)))}async function Ey(t){const e=_t(t),n=La(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:r_;for(;QAe(e);)try{const s=await bAe(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,DAe(e,s)}catch(s){await zk(e,s)}qk(e)&&$k(e)}function QAe(t){return Ef(t)&&t.Ta.length<10}function DAe(t,e){t.Ta.push(e);const n=La(t);n.O_()&&n.X_&&n.ea(e.mutations)}function qk(t){return Ef(t)&&!La(t).x_()&&t.Ta.length>0}function $k(t){La(t).start()}async function OAe(t){La(t).ra()}async function MAe(t){const e=La(t);for(const n of t.Ta)e.ea(n.mutations)}async function LAe(t,e,n){const r=t.Ta.shift(),s=d_.from(r,e,n);await Wk(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Ey(t)}async function kAe(t,e){e&&La(t).X_&&await(async function(r,s){if((function(A){return Qae(A)&&A!==de.ABORTED})(s.code)){const o=r.Ta.shift();La(r).B_(),await Wk(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Ey(r)}})(t,e),qk(t)&&$k(t)}async function oR(t,e){const n=_t(t);n.asyncQueue.verifyOperationInProgress(),_e(Cf,"RemoteStore received new credentials");const r=Ef(n);n.Ea.add(3),await xf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xy(n)}async function PAe(t,e){const n=_t(t);e?(n.Ea.delete(2),await xy(n)):e||(n.Ea.add(2),await xf(n),n.Ra.set("Unknown"))}function La(t){return t.fa||(t.fa=(function(n,r,s){const o=_t(n);return o.sa(),new IAe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:OAe.bind(null,t),r_:kAe.bind(null,t),ta:MAe.bind(null,t),na:LAe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ey(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(Cf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new $A,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((A=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const A=Date.now()+r,l=new g_(e,n,A,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yk(t,e){if(sl("AsyncQueue",`${e}: ${t}`),bf(t))return new Fe(de.UNAVAILABLE,`${e}: ${t}`);throw t}class HAe{constructor(){this.queries=aR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=_t(n),o=s.queries;s.queries=aR(),o.forEach(((A,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new Fe(de.ABORTED,"Firestore shutting down"))}}function aR(){return new vl((t=>Tk(t)),Sk)}function jAe(t){t.Ca.forEach((e=>{e.next()}))}var AR,lR;(lR=AR||(AR={})).Ma="default",lR.Cache="cache";const VAe="SyncEngine";class KAe{constructor(e,n,r,s,o,A){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=A,this.Pu={},this.Tu=new vl((l=>Tk(l)),Sk),this.Iu=new Map,this.Eu=new Set,this.du=new qs(Pe.comparator),this.Au=new Map,this.Ru=new h_,this.Vu={},this.mu=new Map,this.fu=Zc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GAe(t,e,n){const r=$Ae(t);try{const s=await(function(A,l){const c=_t(A),d=Ot.now(),f=l.reduce(((b,B)=>b.add(B.key)),tr());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let B=p0(),C=tr();return c.Ns.getEntries(b,f).next((E=>{B=E,B.forEach(((I,F)=>{F.isValidDocument()||(C=C.add(I))}))})).next((()=>c.localDocuments.getOverlayedDocuments(b,B))).next((E=>{p=E;const I=[];for(const F of l){const Q=Uae(F,p.get(F.key).overlayedDocument);Q!=null&&I.push(new wl(F.key,Q,wk(Q.value.mapValue),lo.exists(!0)))}return c.mutationQueue.addMutationBatch(b,d,I,l)})).next((E=>{g=E;const I=E.applyToLocalDocumentSet(p,C);return c.documentOverlayCache.saveOverlays(b,E.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:Uk(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(A,l,c){let d=A.Vu[A.currentUser.toKey()];d||(d=new qs(ct)),d=d.insert(l,c),A.Vu[A.currentUser.toKey()]=d})(r,s.batchId,n),await _y(r,s.changes),await Ey(r.remoteStore)}catch(s){const o=Yk(s,"Failed to persist write");n.reject(o)}}function cR(t,e,n){const r=_t(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,A)=>{const l=A.view.va(e);l.snapshot&&s.push(l.snapshot)})),(function(A,l){const c=_t(A);c.onlineState=l;let d=!1;c.queries.forEach(((f,p)=>{for(const g of p.Sa)g.va(l)&&(d=!0)})),d&&jAe(c)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zAe(t,e){const n=_t(t),r=e.batch.batchId;try{const s=await vAe(n.localStore,e);Jk(n,r,null),Xk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _y(n,s)}catch(s){await t_(s)}}async function WAe(t,e,n){const r=_t(t);try{const s=await(function(A,l){const c=_t(A);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((p=>(Kt(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(d,p)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);Jk(r,e,n),Xk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _y(r,s)}catch(s){await t_(s)}}function Xk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Jk(t,e,n){const r=_t(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}async function _y(t,e,n){const r=_t(t),s=[],o=[],A=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{A.push(r.pu(c,e,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){s.push(d);const p=p_.As(c.targetId,d);o.push(p)}})))})),await Promise.all(A),r.Pu.H_(s),await(async function(c,d){const f=_t(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>le.forEach(d,(g=>le.forEach(g.Es,(b=>f.persistence.referenceDelegate.addReference(p,g.targetId,b))).next((()=>le.forEach(g.ds,(b=>f.persistence.referenceDelegate.removeReference(p,g.targetId,b)))))))))}catch(p){if(!bf(p))throw p;_e(gAe,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const b=f.Ms.get(g),B=b.snapshotVersion,C=b.withLastLimboFreeSnapshotVersion(B);f.Ms=f.Ms.insert(g,C)}}})(r.localStore,o))}async function qAe(t,e){const n=_t(t);if(!n.currentUser.isEqual(e)){_e(VAe,"User change. New user:",e.toKey());const r=await Kk(n.localStore,e);n.currentUser=e,(function(o,A){o.mu.forEach((l=>{l.forEach((c=>{c.reject(new Fe(de.CANCELLED,A))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _y(n,r.Ls)}}function $Ae(t){const e=_t(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zAe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WAe.bind(null,e),e}class y0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yAe(this.persistence,new pAe,e.initialUser,this.serializer)}Cu(e){return new Vk(f_.mi,this.serializer)}Du(e){return new BAe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}y0.provider={build:()=>new y0};class YAe extends y0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Kt(this.persistence.referenceDelegate instanceof m0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eAe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new Vk((r=>m0.mi(r,n)),this.serializer)}}class YC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qAe.bind(null,this.syncEngine),await PAe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HAe})()}createDatastore(e){const n=Cy(e.databaseInfo.databaseId),r=(function(o){return new SAe(o)})(e.databaseInfo);return(function(o,A,l,c){return new FAe(o,A,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,A,l){return new RAe(r,s,o,A,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>cR(this.syncEngine,n,0)),(function(){return sR.v()?new sR:new CAe})())}createSyncEngine(e,n){return(function(s,o,A,l,c,d,f){const p=new KAe(s,o,A,l,c,d);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=_t(s);_e(Cf,"RemoteStore shutting down."),o.Ea.add(5),await xf(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}YC.provider={build:()=>new YC};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class XAe{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zn.UNAUTHENTICATED,this.clientId=ZE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async A=>{_e(ka,"Received user=",A.uid),await this.authCredentialListener(A),this.user=A})),this.appCheckCredentials.start(r,(A=>(_e(ka,"Received new app check token=",A),this.appCheckCredentialListener(A,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $A;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yk(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function AB(t,e){t.asyncQueue.verifyOperationInProgress(),_e(ka,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Kk(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function uR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JAe(t);_e(ka,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>oR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>oR(e.remoteStore,s))),t._onlineComponents=e}async function JAe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(ka,"Using user provided OfflineComponentProvider");try{await AB(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;vy("Error using user provided cache. Falling back to memory cache: "+n),await AB(t,new y0)}}else _e(ka,"Using default OfflineComponentProvider"),await AB(t,new YAe(void 0));return t._offlineComponents}async function ZAe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(ka,"Using user provided OnlineComponentProvider"),await uR(t,t._uninitializedComponentsProvider._online)):(_e(ka,"Using default OnlineComponentProvider"),await uR(t,new YC))),t._onlineComponents}function ele(t){return ZAe(t).then((e=>e.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="firestore.googleapis.com",hR=!0;class fR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eP,this.ssl=hR}else this.host=e.host,this.ssl=e.ssl??hR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jae)throw new Fe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Poe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zk(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Fe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Fe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Fe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m_{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ioe;switch(r.type){case"firstParty":return new Roe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=dR.get(n);r&&(_e("ComponentProvider","Removing Datastore"),dR.delete(n),r.terminate())})(this),Promise.resolve()}}function tle(t,e,n,r={}){var d;t=kC(t,m_);const s=Ka(e),o=t._getSettings(),A={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(PE(`https://${l}`),HE("Firestore",!0)),o.host!==eP&&o.host!==l&&vy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:s,emulatorOptions:r};if(!Bo(c,A)&&(t._setSettings(c),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Zn.MOCK_USER;else{f=EL(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Fe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Zn(g)}t._authCredentials=new Uoe(new ck(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new y_(this.firestore,e,this._query)}}class sr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}toJSON(){return{type:sr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wf(n,sr._jsonSchema))return new sr(e,r||null,new Pe(Xt.fromString(n.referencePath)))}}sr._jsonSchemaVersion="firestore/documentReference/1.0",sr._jsonSchema={type:un("string",sr._jsonSchemaVersion),referencePath:un("string")};class Yh extends y_{constructor(e,n,r){super(e,n,hae(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Pe(e))}withConverter(e){return new Yh(this.firestore,e,this._path)}}function pR(t,e,...n){if(t=dn(t),arguments.length===1&&(e=ZE.newId()),koe("doc","path",e),t instanceof m_){const r=Xt.fromString(e,...n);return ON(r),new sr(t,null,new Pe(r))}{if(!(t instanceof sr||t instanceof Yh))throw new Fe(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return ON(r),new sr(t.firestore,t instanceof Yh?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="AsyncQueue";class mR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gk(this,"async_queue_retry"),this._c=()=>{const r=aB();r&&_e(gR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=aB();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=aB();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $A;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bf(e))throw e;_e(gR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,sl("INTERNAL UNHANDLED ERROR: ",yR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=g_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ve(47125,{Pc:yR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class tP extends m_{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new mR,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mR(e),this._firestoreClient=void 0,await e}}}function nle(t,e){const n=typeof t=="object"?t:gy(),r=typeof t=="string"?t:u0,s=Ga(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=BL("firestore");o&&tle(s,...o)}return s}function rle(t){if(t._terminated)throw new Fe(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sle(t),t._firestoreClient}function sle(t){var r,s,o;const e=t._freezeSettings(),n=(function(l,c,d,f){return new Joe(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Zk(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new XAe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(Ti.fromBase64String(e))}catch(n){throw new Fe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wf(e,ks._jsonSchema))return ks.fromBase64String(e.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:un("string",ks._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:co._jsonSchemaVersion}}static fromJSON(e){if(wf(e,co._jsonSchema))return new co(e.latitude,e.longitude)}}co._jsonSchemaVersion="firestore/geoPoint/1.0",co._jsonSchema={type:un("string",co._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:uo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wf(e,uo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new uo(e.vectorValues);throw new Fe(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uo._jsonSchemaVersion="firestore/vectorValue/1.0",uo._jsonSchema={type:un("string",uo._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ile=/^__.*__$/;class ole{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bf(e,this.data,n,this.fieldTransforms)}}function nP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class b_{constructor(e,n,r,s,o,A){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new b_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return v0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nP(this.Ac)&&ile.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ale{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cy(e)}Cc(e,n,r,s=!1){return new b_({Ac:e,methodName:n,Dc:r,path:jn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ale(t){const e=t._freezeSettings(),n=Cy(t._databaseId);return new ale(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lle(t,e,n,r,s,o={}){const A=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);oP("Data must be an object, but it was:",A,r);const l=sP(r,A);let c,d;if(o.merge)c=new js(A.fieldMask),d=A.fieldTransforms;else if(o.mergeFields){const f=[];for(const p of o.mergeFields){const g=cle(e,p,n);if(!A.contains(g))throw new Fe(de.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);dle(f,g)||f.push(g)}c=new js(f),d=A.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,d=A.fieldTransforms;return new ole(new Ls(l),c,d)}class B_ extends w_{_toFieldTransform(e){return new _ae(e.path,new Wh)}isEqual(e){return e instanceof B_}}function rP(t,e){if(iP(t=dn(t)))return oP("Unsupported field value:",e,t),sP(t,e);if(t instanceof w_)return(function(r,s){if(!nP(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let A=0;for(const l of r){let c=rP(l,s.wc(A));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),A++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Cae(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ot.fromDate(r);return{timestampValue:zC(s.serializer,o)}}if(r instanceof Ot){const o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zC(s.serializer,o)}}if(r instanceof co)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ks)return{bytesValue:Mae(s.serializer,r._byteString)};if(r instanceof sr){const o=s.databaseId,A=r.firestore._databaseId;if(!A.isEqual(o))throw s.Sc(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Pk(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof uo)return(function(A,l){return{mapValue:{fields:{[yk]:{stringValue:vk},[HC]:{arrayValue:{values:A.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return u_(l.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${e_(r)}`)})(t,e)}function sP(t,e){const n={};return hk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gu(t,((r,s)=>{const o=rP(s,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function iP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof co||t instanceof ks||t instanceof sr||t instanceof w_||t instanceof uo)}function oP(t,e,n){if(!iP(n)||!uk(n)){const r=e_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cle(t,e,n){if((e=dn(e))instanceof v_)return e._internalPath;if(typeof e=="string")return aP(t,e);throw v0("Field path arguments must be of type string or ",t,!1,void 0,n)}const ule=new RegExp("[~\\*/\\[\\]]");function aP(t,e,n){if(e.search(ule)>=0)throw v0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new v_(...e.split("."))._internalPath}catch{throw v0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function v0(t,e,n,r,s){const o=r&&!r.isEmpty(),A=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||A)&&(c+=" (found",o&&(c+=` in field ${r}`),A&&(c+=` in document ${s}`),c+=")"),new Fe(de.INVALID_ARGUMENT,l+t+c)}function dle(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hle extends AP{data(){return super.data()}}function lP(t,e){return typeof e=="string"?aP(t,e):e instanceof v_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fle(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Jg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mc extends AP{constructor(e,n,r,s,o,A){super(e,n,r,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mc._jsonSchema={type:un("string",Mc._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class wm extends Mc{data(e={}){return super.data(e)}}class vh{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Jg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new wm(this._firestore,this._userDataWriter,r.key,r,new Jg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map((l=>{const c=new wm(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Jg(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:A++}}))}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>o||l.type!==3)).map((l=>{const c=new wm(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Jg(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return l.type!==0&&(d=A.indexOf(l.doc.key),A=A.delete(l.doc.key)),l.type!==1&&(A=A.add(l.doc),f=A.indexOf(l.doc.key)),{type:ple(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ZE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ple(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}vh._jsonSchemaVersion="firestore/querySnapshot/1.0",vh._jsonSchema={type:un("string",vh._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};function vR(t,e,n){t=kC(t,sr);const r=kC(t.firestore,tP),s=fle(t.converter,e);return gle(r,[lle(Ale(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,lo.none())])}function gle(t,e){return(function(r,s){const o=new $A;return r.asyncQueue.enqueueAndForget((async()=>GAe(await ele(r),s,o))),o.promise})(rle(t),e)}function wR(){return new B_("serverTimestamp")}(function(e,n=!0){(function(s){pu=s})(yl),Ws(new ws("firestore",((r,{instanceIdentifier:s,options:o})=>{const A=r.getProvider("app").getImmediate(),l=new tP(new Foe(r.getProvider("auth-internal")),new Qoe(A,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Fe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new d0(d.options.projectId,f)})(A,s),A);return o={useFetchStreams:n,...o},l._setSettings(o),l}),"PUBLIC").setMultipleInstances(!0)),Tr(NN,RN,e),Tr(NN,RN,"esm2020")})();var bR={};const BR="@firebase/database",CR="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cP="";function mle(t){cP=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yle{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vle{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ri(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yle(e)}}catch{}return new vle},VA=uP("localStorage"),wle=uP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new vf("@firebase/database"),ble=(function(){let t=1;return function(){return t++}})(),dP=function(t){const e=qre(t),n=new Kre;n.update(e);const r=n.digest();return kE.encodeByteArray(r)},_f=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=_f.apply(null,r):typeof r=="object"?e+=Tn(r):e+=r,e+=" "}return e};let wh=null,xR=!0;const Ble=function(t,e){he(!0,"Can't turn on custom loggers persistently."),Lc.logLevel=Xe.VERBOSE,wh=Lc.log.bind(Lc)},nr=function(...t){if(xR===!0&&(xR=!1,wh===null&&wle.get("logging_enabled")===!0&&Ble()),wh){const e=_f.apply(null,t);wh(e)}},Sf=function(t){return function(...e){nr(t,...e)}},XC=function(...t){const e="FIREBASE INTERNAL ERROR: "+_f(...t);Lc.error(e)},xo=function(...t){const e=`FIREBASE FATAL ERROR: ${_f(...t)}`;throw Lc.error(e),new Error(e)},Ir=function(...t){const e="FIREBASE WARNING: "+_f(...t);Lc.warn(e)},Cle=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ir("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},C_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},xle=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},al="[MIN_NAME]",Pa="[MAX_NAME]",mu=function(t,e){if(t===e)return 0;if(t===al||e===Pa)return-1;if(e===al||t===Pa)return 1;{const n=ER(t),r=ER(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ele=function(t,e){return t===e?0:t<e?-1:1},Pd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Tn(e))},x_=function(t){if(typeof t!="object"||t===null)return Tn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Tn(e[r]),n+=":",n+=x_(t[e[r]]);return n+="}",n},hP=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Fr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const fP=function(t){he(!C_(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,A,l,c;t===0?(o=0,A=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,A=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,A=Math.round(t/Math.pow(2,1-r-n))));const d=[];for(c=n;c;c-=1)d.push(A%2?1:0),A=Math.floor(A/2);for(c=e;c;c-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(s?1:0),d.reverse();const f=d.join("");let p="";for(c=0;c<64;c+=8){let g=parseInt(f.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},_le=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Sle=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Tle(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Ile=new RegExp("^-?(0*)\\d{1,10}$"),Ule=-2147483648,Fle=2147483647,ER=function(t){if(Ile.test(t)){const e=Number(t);if(e>=Ule&&e<=Fle)return e}return null},yu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ir("Exception was thrown by user callback.",n),e},Math.floor(0))}},Nle=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rle{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ms(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ir(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ir(e)}}class bm{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bm.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="5",pP="v",gP="s",mP="r",yP="f",vP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wP="ls",bP="p",JC="ac",BP="websocket",CP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n,r,s,o=!1,A="",l=!1,c=!1,d=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=A,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=VA.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&VA.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Dle(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function EP(t,e,n){he(typeof e=="string","typeof type must == string"),he(typeof n=="object","typeof params must == object");let r;if(e===BP)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===CP)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Dle(t)&&(n.ns=t.namespace);const s=[];return Fr(n,(o,A)=>{s.push(o+"="+A)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ole{constructor(){this.counters_={}}incrementCounter(e,n=1){Ri(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Ere(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB={},cB={};function __(t){const e=t.toString();return lB[e]||(lB[e]=new Ole),lB[e]}function Mle(t,e){const n=t.toString();return cB[n]||(cB[n]=e()),cB[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lle{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&yu(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="start",kle="close",Ple="pLPCommand",Hle="pRTLPCB",_P="id",SP="pw",TP="ser",jle="cb",Vle="seg",Kle="ts",Gle="d",zle="dframe",IP=1870,UP=30,Wle=IP-UP,qle=25e3,$le=3e4;class Uc{constructor(e,n,r,s,o,A,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=A,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sf(e),this.stats_=__(n),this.urlFn=c=>(this.appCheckToken&&(c[JC]=this.appCheckToken),EP(n,CP,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Lle(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($le)),xle(()=>{if(this.isClosed_)return;this.scriptTagHolder=new S_((...o)=>{const[A,l,c,d,f]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,A===_R)this.id=l,this.password=c;else if(A===kle)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+A)},(...o)=>{const[A,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(A,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[_R]="t",r[TP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[jle]=this.scriptTagHolder.uniqueCallbackIdentifier),r[pP]=E_,this.transportSessionId&&(r[gP]=this.transportSessionId),this.lastSessionId&&(r[wP]=this.lastSessionId),this.applicationId&&(r[bP]=this.applicationId),this.appCheckToken&&(r[JC]=this.appCheckToken),typeof location<"u"&&location.hostname&&vP.test(location.hostname)&&(r[mP]=yP);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Uc.forceAllow_=!0}static forceDisallow(){Uc.forceDisallow_=!0}static isAvailable(){return Uc.forceAllow_?!0:!Uc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_le()&&!Sle()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Tn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=vL(n),s=hP(r,Wle);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[zle]="t",r[_P]=e,r[SP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Tn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class S_{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ble(),window[Ple+this.uniqueCallbackIdentifier]=e,window[Hle+this.uniqueCallbackIdentifier]=n,this.myIFrame=S_.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const A="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(A),this.myIFrame.doc.close()}catch(l){nr("frame writing exception"),l.stack&&nr(l.stack),nr(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[_P]=this.myID,e[SP]=this.myPW,e[TP]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+UP+r.length<=IP;){const A=this.pendingSegs.shift();r=r+"&"+Vle+s+"="+A.seg+"&"+Kle+s+"="+A.ts+"&"+Gle+s+"="+A.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(qle)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{nr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yle=16384,Xle=45e3;let w0=null;typeof MozWebSocket<"u"?w0=MozWebSocket:typeof WebSocket<"u"&&(w0=WebSocket);class Ps{constructor(e,n,r,s,o,A,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sf(this.connId),this.stats_=__(n),this.connURL=Ps.connectionURL_(n,A,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const A={};return A[pP]=E_,typeof location<"u"&&location.hostname&&vP.test(location.hostname)&&(A[mP]=yP),n&&(A[gP]=n),r&&(A[wP]=r),s&&(A[JC]=s),o&&(A[bP]=o),EP(e,BP,A)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,VA.set("previous_websocket_failure",!0);try{let r;Ore(),this.mySock=new w0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ps.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&w0!==null&&!Ps.forceDisallow_}static previouslyFailed(){return VA.isInMemoryStorage||VA.get("previous_websocket_failure")===!0}markConnectionHealthy(){VA.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Vh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Tn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hP(n,Yle);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Xle))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ps.responsesRequiredToBeHealthy=2;Ps.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{static get ALL_TRANSPORTS(){return[Uc,Ps]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ps&&Ps.isAvailable();let r=n&&!Ps.previouslyFailed();if(e.webSocketOnly&&(n||Ir("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ps];else{const s=this.transports_=[];for(const o of Xh.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);Xh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jle=6e4,Zle=5e3,ece=10*1024,tce=100*1024,uB="t",SR="d",nce="s",TR="r",rce="e",IR="o",UR="a",FR="n",NR="p",sce="h";class ice{constructor(e,n,r,s,o,A,l,c,d,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=A,this.onReady_=l,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sf("c:"+this.id+":"),this.transportManager_=new Xh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=bh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>tce?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ece?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(uB in e){const n=e[uB];n===UR?this.upgradeIfSecondaryHealthy_():n===TR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===IR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Pd("t",e),r=Pd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:NR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:FR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Pd("t",e),r=Pd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Pd(uB,e);if(SR in e){const r=e[SR];if(n===sce){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===FR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===nce?this.onConnectionShutdown_(r):n===TR?this.onReset_(r):n===rce?XC("Server Error: "+r):n===IR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):XC("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),E_!==r&&Ir("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),bh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Jle))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Zle))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:NR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(VA.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){he(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends NP{static getInstance(){return new b0}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!jE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=32,QR=768;class bt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function At(){return new bt("")}function Ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ha(t){return t.pieces_.length-t.pieceNum_}function xt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new bt(t.pieces_,e)}function RP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function oce(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function QP(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function DP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new bt(e,0)}function vn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof bt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new bt(n,0)}function ze(t){return t.pieceNum_>=t.pieces_.length}function _r(t,e){const n=Ge(t),r=Ge(e);if(n===null)return e;if(n===r)return _r(xt(t),xt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function T_(t,e){if(Ha(t)!==Ha(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Vs(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ha(t)>Ha(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ace{constructor(e,n){this.errorPrefix_=n,this.parts_=QP(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=py(this.parts_[r]);OP(this)}}function Ace(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=py(e),OP(t)}function lce(t){const e=t.parts_.pop();t.byteLength_-=py(e),t.parts_.length>0&&(t.byteLength_-=1)}function OP(t){if(t.byteLength_>QR)throw new Error(t.errorPrefix_+"has a key path longer than "+QR+" bytes ("+t.byteLength_+").");if(t.parts_.length>RR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+RR+") or object contains a cycle "+QA(t))}function QA(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_ extends NP{static getInstance(){return new I_}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=1e3,cce=300*1e3,DR=30*1e3,uce=1.3,dce=3e4,hce="server_kill",OR=3;class ho extends FP{constructor(e,n,r,s,o,A,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=A,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=ho.nextPersistentConnectionId_++,this.log_=Sf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hd,this.maxReconnectDelay_=cce,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");I_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&b0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(Tn(o)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new fy,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:A=>{const l=A.d;A.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,A=e._path.toString();this.log_("Listen called for "+A+" "+o),this.listens.has(A)||this.listens.set(A,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(A).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(A).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},A="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(A,o,l=>{const c=l.d,d=l.s;ho.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ri(e,"w")){const r=qc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Ir(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Vre(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=DR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=jre(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,A=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,A))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},A="n";s&&(o.q=r,o.t=s),this.sendRequest(A,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,A=>{s&&setTimeout(()=>{s(A.s,A.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const A={p:n,d:r};o!==void 0&&(A.h=o),this.outstandingPuts_.push({action:e,request:A,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):XC("Unrecognized action received from server: "+Tn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dce&&(this.reconnectDelay_=Hd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uce)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+ho.nextConnectionId_++,o=this.lastSessionId;let A=!1,l=null;const c=function(){l?l.close():(A=!0,r())},d=function(p){he(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:d};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);A?nr("getToken() completed but was canceled"):(nr("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,l=new ice(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,b=>{Ir(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(hce)},o))}catch(p){this.log_("Failed to get token: "+p),A||(this.repoInfo_.nodeAdmin&&Ir(p),c())}}}interrupt(e){nr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],UC(this.interruptReasons_)&&(this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>x_(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new bt(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){nr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=OR&&(this.reconnectDelay_=DR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){nr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=OR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+cP.replace(/\./g,"-")]=1,jE()?e["framework.cordova"]=1:SL()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=b0.getInstance().currentlyOnline();return UC(this.interruptReasons_)&&e}}ho.nextPersistentConnectionId_=0;ho.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new We(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new We(al,e),s=new We(al,n);return this.compare(r,s)!==0}minPost(){return We.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg;class MP extends Sy{static get __EMPTY_NODE(){return Zg}static set __EMPTY_NODE(e){Zg=e}compare(e,n){return mu(e.name,n.name)}isDefinedOn(e){throw hu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return We.MIN}maxPost(){return new We(Pa,Zg)}makePost(e,n){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new We(e,Zg)}toString(){return".key"}}const XA=new MP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let A=1;for(;!e.isEmpty();)if(e=e,A=n?r(e.key,n):1,s&&(A*=-1),A<0)this.isReverse_?e=e.left:e=e.right;else if(A===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Sn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Sn.RED,this.left=s??Sr.EMPTY_NODE,this.right=o??Sr.EMPTY_NODE}copy(e,n,r,s,o){return new Sn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Sr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Sr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Sn.RED=!0;Sn.BLACK=!1;class fce{copy(e,n,r,s,o){return this}insert(e,n,r){return new Sn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Sr{constructor(e,n=Sr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Sr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Sr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Sn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new em(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new em(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new em(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new em(this.root_,null,this.comparator_,!0,e)}}Sr.EMPTY_NODE=new fce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pce(t,e){return mu(t.name,e.name)}function U_(t,e){return mu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZC;function gce(t){ZC=t}const LP=function(t){return typeof t=="number"?"number:"+fP(t):"string:"+t},kP=function(t){if(t.isLeafNode()){const e=t.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ri(e,".sv"),"Priority must be a string or number.")}else he(t===ZC||t.isEmpty(),"priority of unexpected type.");he(t===ZC||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MR;class En{static set __childrenNodeConstructor(e){MR=e}static get __childrenNodeConstructor(){return MR}constructor(e,n=En.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),kP(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new En(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:En.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ze(e)?this:Ge(e)===".priority"?this.priorityNode_:En.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:En.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ge(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(he(r!==".priority"||Ha(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,En.__childrenNodeConstructor.EMPTY_NODE.updateChild(xt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+LP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=fP(this.value_):e+=this.value_,this.lazyHash_=dP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===En.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof En.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=En.VALUE_TYPE_ORDER.indexOf(n),o=En.VALUE_TYPE_ORDER.indexOf(r);return he(s>=0,"Unknown leaf type: "+n),he(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}En.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PP,HP;function mce(t){PP=t}function yce(t){HP=t}class vce extends Sy{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?mu(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return We.MIN}maxPost(){return new We(Pa,new En("[PRIORITY-POST]",HP))}makePost(e,n){const r=PP(e);return new We(n,new En("[PRIORITY-POST]",r))}toString(){return".priority"}}const kt=new vce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wce=Math.log(2);class bce{constructor(e){const n=o=>parseInt(Math.log(o)/wce,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const B0=function(t,e,n,r){t.sort(e);const s=function(c,d){const f=d-c;let p,g;if(f===0)return null;if(f===1)return p=t[c],g=n?n(p):p,new Sn(g,p.node,Sn.BLACK,null,null);{const b=parseInt(f/2,10)+c,B=s(c,b),C=s(b+1,d);return p=t[b],g=n?n(p):p,new Sn(g,p.node,Sn.BLACK,B,C)}},o=function(c){let d=null,f=null,p=t.length;const g=function(B,C){const E=p-B,I=p;p-=B;const F=s(E+1,I),Q=t[E],j=n?n(Q):Q;b(new Sn(j,Q.node,C,null,F))},b=function(B){d?(d.left=B,d=B):(f=B,d=B)};for(let B=0;B<c.count;++B){const C=c.nextBitIsOne(),E=Math.pow(2,c.count-(B+1));C?g(E,Sn.BLACK):(g(E,Sn.BLACK),g(E,Sn.RED))}return f},A=new bce(t.length),l=o(A);return new Sr(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dB;const mc={};class ro{static get Default(){return he(mc&&kt,"ChildrenNode.ts has not been loaded"),dB=dB||new ro({".priority":mc},{".priority":kt}),dB}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=qc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Sr?n:null}hasIndex(e){return Ri(this.indexSet_,e.toString())}addIndex(e,n){he(e!==XA,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(We.Wrap);let A=o.getNext();for(;A;)s=s||e.isDefinedOn(A.node),r.push(A),A=o.getNext();let l;s?l=B0(r,e.getCompare()):l=mc;const c=e.toString(),d={...this.indexSet_};d[c]=e;const f={...this.indexes_};return f[c]=l,new ro(f,d)}addToIndexes(e,n){const r=i0(this.indexes_,(s,o)=>{const A=qc(this.indexSet_,o);if(he(A,"Missing index implementation for "+o),s===mc)if(A.isDefinedOn(e.node)){const l=[],c=n.getIterator(We.Wrap);let d=c.getNext();for(;d;)d.name!==e.name&&l.push(d),d=c.getNext();return l.push(e),B0(l,A.getCompare())}else return mc;else{const l=n.get(e.name);let c=s;return l&&(c=c.remove(new We(e.name,l))),c.insert(e,e.node)}});return new ro(r,this.indexSet_)}removeFromIndexes(e,n){const r=i0(this.indexes_,s=>{if(s===mc)return s;{const o=n.get(e.name);return o?s.remove(new We(e.name,o)):s}});return new ro(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd;class Qe{static get EMPTY_NODE(){return jd||(jd=new Qe(new Sr(U_),null,ro.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&kP(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jd}updatePriority(e){return this.children_.isEmpty()?this:new Qe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?jd:n}}getChild(e){const n=Ge(e);return n===null?this:this.getImmediateChild(n).getChild(xt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new We(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const A=s.isEmpty()?jd:this.priorityNode_;return new Qe(s,A,o)}}updateChild(e,n){const r=Ge(e);if(r===null)return n;{he(Ge(e)!==".priority"||Ha(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(xt(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(kt,(A,l)=>{n[A]=l.val(e),r++,o&&Qe.INTEGER_REGEXP_.test(A)?s=Math.max(s,Number(A)):o=!1}),!e&&o&&s<2*r){const A=[];for(const l in n)A[l]=n[l];return A}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+LP(this.getPriority().val())+":"),this.forEachChild(kt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":dP(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new We(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new We(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new We(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,We.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,We.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tf?-1:0}withIndex(e){if(e===XA||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Qe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===XA||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(kt),s=n.getIterator(kt);let o=r.getNext(),A=s.getNext();for(;o&&A;){if(o.name!==A.name||!o.node.equals(A.node))return!1;o=r.getNext(),A=s.getNext()}return o===null&&A===null}else return!1;else return!1}}resolveIndex_(e){return e===XA?null:this.indexMap_.get(e.toString())}}Qe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Bce extends Qe{constructor(){super(new Sr(U_),Qe.EMPTY_NODE,ro.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Qe.EMPTY_NODE}isEmpty(){return!1}}const Tf=new Bce;Object.defineProperties(We,{MIN:{value:new We(al,Qe.EMPTY_NODE)},MAX:{value:new We(Pa,Tf)}});MP.__EMPTY_NODE=Qe.EMPTY_NODE;En.__childrenNodeConstructor=Qe;gce(Tf);yce(Tf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cce=!0;function Hn(t,e=null){if(t===null)return Qe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new En(n,Hn(e))}if(!(t instanceof Array)&&Cce){const n=[];let r=!1;if(Fr(t,(A,l)=>{if(A.substring(0,1)!=="."){const c=Hn(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new We(A,c)))}}),n.length===0)return Qe.EMPTY_NODE;const o=B0(n,pce,A=>A.name,U_);if(r){const A=B0(n,kt.getCompare());return new Qe(o,Hn(e),new ro({".priority":A},{".priority":kt}))}else return new Qe(o,Hn(e),ro.Default)}else{let n=Qe.EMPTY_NODE;return Fr(t,(r,s)=>{if(Ri(t,r)&&r.substring(0,1)!=="."){const o=Hn(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Hn(e))}}mce(Hn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends Sy{constructor(e){super(),this.indexPath_=e,he(!ze(e)&&Ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?mu(e.name,n.name):o}makePost(e,n){const r=Hn(e),s=Qe.EMPTY_NODE.updateChild(this.indexPath_,r);return new We(n,s)}maxPost(){const e=Qe.EMPTY_NODE.updateChild(this.indexPath_,Tf);return new We(Pa,e)}toString(){return QP(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xce extends Sy{compare(e,n){const r=e.node.compareTo(n.node);return r===0?mu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return We.MIN}maxPost(){return We.MAX}makePost(e,n){const r=Hn(e);return new We(n,r)}toString(){return".value"}}const jP=new xce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){return{type:"value",snapshotNode:t}}function eu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Jh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Zh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Ece(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this.index_=e}updateChild(e,n,r,s,o,A){he(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(A!=null&&(r.isEmpty()?e.hasChild(n)?A.trackChildChange(Jh(n,l)):he(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?A.trackChildChange(eu(n,r)):A.trackChildChange(Zh(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(kt,(s,o)=>{n.hasChild(s)||r.trackChildChange(Jh(s,o))}),n.isLeafNode()||n.forEachChild(kt,(s,o)=>{if(e.hasChild(s)){const A=e.getImmediateChild(s);A.equals(o)||r.trackChildChange(Zh(s,o,A))}else r.trackChildChange(eu(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Qe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.indexedFilter_=new N_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ef.getStartPost_(e),this.endPost_=ef.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,o,A){return this.matches(new We(n,r))||(r=Qe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,o,A)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Qe.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Qe.EMPTY_NODE);const o=this;return n.forEachChild(kt,(A,l)=>{o.matches(new We(A,l))||(s=s.updateImmediateChild(A,Qe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ef(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,o,A){return this.rangedFilter_.matches(new We(n,r))||(r=Qe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,o,A):this.fullLimitUpdateChild_(e,n,r,o,A)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Qe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Qe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let A=0;for(;o.hasNext()&&A<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),A++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Qe.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let A=0;for(;o.hasNext();){const l=o.getNext();A<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?A++:s=s.updateImmediateChild(l.name,Qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,o){let A;if(this.reverse_){const p=this.index_.getCompare();A=(g,b)=>p(b,g)}else A=this.index_.getCompare();const l=e;he(l.numChildren()===this.limit_,"");const c=new We(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(l.hasChild(n)){const p=l.getImmediateChild(n);let g=s.getChildAfterChild(this.index_,d,this.reverse_);for(;g!=null&&(g.name===n||l.hasChild(g.name));)g=s.getChildAfterChild(this.index_,g,this.reverse_);const b=g==null?1:A(g,c);if(f&&!r.isEmpty()&&b>=0)return o!=null&&o.trackChildChange(Zh(n,r,p)),l.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Jh(n,p));const C=l.updateImmediateChild(n,Qe.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(o!=null&&o.trackChildChange(eu(g.name,g.node)),C.updateImmediateChild(g.name,g.node)):C}}else return r.isEmpty()?e:f&&A(d,c)>=0?(o!=null&&(o.trackChildChange(Jh(d.name,d.node)),o.trackChildChange(eu(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,Qe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:al}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kt}copy(){const e=new R_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Sce(t){return t.loadsAllData()?new N_(t.getIndex()):t.hasLimit()?new _ce(t):new ef(t)}function Tce(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Ice(t,e){const n=t.copy();return n.index_=e,n}function LR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===kt?n="$priority":t.index_===jP?n="$value":t.index_===XA?n="$key":(he(t.index_ instanceof F_,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Tn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Tn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Tn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Tn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Tn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function kR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==kt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends FP{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Sf("p:rest:"),this.listens_={}}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const A=C0.getListenId_(e,r),l={};this.listens_[A]=l;const c=LR(e._queryParams);this.restRequest_(o+".json",c,(d,f)=>{let p=f;if(d===404&&(p=null,d=null),d===null&&this.onDataUpdate_(o,p,!1,r),qc(this.listens_,A)===l){let g;d?d===401?g="permission_denied":g="rest_error:"+d:g="ok",s(g,null)}})}unlisten(e,n){const r=C0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=LR(e._queryParams),r=e._path.toString(),s=new fy;return this.restRequest_(r+".json",n,(o,A)=>{let l=A;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const A=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fu(n);this.log_("Sending REST request for "+A);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+A+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Vh(l.responseText)}catch{Ir("Failed to parse JSON response for "+A+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Ir("Got unsuccessful REST response for "+A+" Status: "+l.status),r(l.status);r=null}},l.open("GET",A,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uce{constructor(){this.rootNode_=Qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return{value:null,children:new Map}}function KP(t,e,n){if(ze(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ge(e);t.children.has(r)||t.children.set(r,x0());const s=t.children.get(r);e=xt(e),KP(s,e,n)}}function ex(t,e,n){t.value!==null?n(e,t.value):Fce(t,(r,s)=>{const o=new bt(e.toString()+"/"+r);ex(s,o,n)})}function Fce(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nce{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Fr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=10*1e3,Rce=30*1e3,Qce=300*1e3;class Dce{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Nce(e);const r=PR+(Rce-PR)*Math.random();bh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Fr(e,(s,o)=>{o>0&&Ri(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),bh(this.reportStats_.bind(this),Math.floor(Math.random()*2*Qce))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ks;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ks||(Ks={}));function GP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Q_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function D_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ks.ACK_USER_WRITE,this.source=GP()}operationForChild(e){if(ze(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new bt(e));return new E0(At(),n,this.revert)}}else return he(Ge(this.path)===e,"operationForChild called for unrelated child."),new E0(xt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.source=e,this.path=n,this.type=Ks.LISTEN_COMPLETE}operationForChild(e){return ze(this.path)?new tf(this.source,At()):new tf(this.source,xt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ks.OVERWRITE}operationForChild(e){return ze(this.path)?new Al(this.source,At(),this.snap.getImmediateChild(e)):new Al(this.source,xt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ks.MERGE}operationForChild(e){if(ze(this.path)){const n=this.children.subtree(new bt(e));return n.isEmpty()?null:n.value?new Al(this.source,At(),n.value):new nf(this.source,At(),n)}else return he(Ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new nf(this.source,xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ze(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oce{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Mce(t,e,n,r){const s=[],o=[];return e.forEach(A=>{A.type==="child_changed"&&t.index_.indexedValueChanged(A.oldSnap,A.snapshotNode)&&o.push(Ece(A.childName,A.snapshotNode))}),Vd(t,s,"child_removed",e,r,n),Vd(t,s,"child_added",e,r,n),Vd(t,s,"child_moved",o,r,n),Vd(t,s,"child_changed",e,r,n),Vd(t,s,"value",e,r,n),s}function Vd(t,e,n,r,s,o){const A=r.filter(l=>l.type===n);A.sort((l,c)=>kce(t,l,c)),A.forEach(l=>{const c=Lce(t,l,o);s.forEach(d=>{d.respondsTo(l.type)&&e.push(d.createEvent(c,t.query_))})})}function Lce(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function kce(t,e,n){if(e.childName==null||n.childName==null)throw hu("Should only compare child_ events.");const r=new We(e.childName,e.snapshotNode),s=new We(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t,e){return{eventCache:t,serverCache:e}}function Bh(t,e,n,r){return Ty(new ll(e,n,r),t.serverCache)}function zP(t,e,n,r){return Ty(t.eventCache,new ll(e,n,r))}function tx(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function cl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hB;const Pce=()=>(hB||(hB=new Sr(Ele)),hB);class It{static fromObject(e){let n=new It(null);return Fr(e,(r,s)=>{n=n.set(new bt(r),s)}),n}constructor(e,n=Pce()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:At(),value:this.value};if(ze(e))return null;{const r=Ge(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(xt(e),n);return o!=null?{path:vn(new bt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ze(e))return this;{const n=Ge(e),r=this.children.get(n);return r!==null?r.subtree(xt(e)):new It(null)}}set(e,n){if(ze(e))return new It(n,this.children);{const r=Ge(e),o=(this.children.get(r)||new It(null)).set(xt(e),n),A=this.children.insert(r,o);return new It(this.value,A)}}remove(e){if(ze(e))return this.children.isEmpty()?new It(null):new It(null,this.children);{const n=Ge(e),r=this.children.get(n);if(r){const s=r.remove(xt(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new It(null):new It(this.value,o)}else return this}}get(e){if(ze(e))return this.value;{const n=Ge(e),r=this.children.get(n);return r?r.get(xt(e)):null}}setTree(e,n){if(ze(e))return n;{const r=Ge(e),o=(this.children.get(r)||new It(null)).setTree(xt(e),n);let A;return o.isEmpty()?A=this.children.remove(r):A=this.children.insert(r,o),new It(this.value,A)}}fold(e){return this.fold_(At(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(vn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,At(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ze(e))return null;{const o=Ge(e),A=this.children.get(o);return A?A.findOnPath_(xt(e),vn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,At(),n)}foreachOnPath_(e,n,r){if(ze(e))return this;{this.value&&r(n,this.value);const s=Ge(e),o=this.children.get(s);return o?o.foreachOnPath_(xt(e),vn(n,s),r):new It(null)}}foreach(e){this.foreach_(At(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(vn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.writeTree_=e}static empty(){return new zs(new It(null))}}function Ch(t,e,n){if(ze(e))return new zs(new It(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const A=_r(s,e);return o=o.updateChild(A,n),new zs(t.writeTree_.set(s,o))}else{const s=new It(n),o=t.writeTree_.setTree(e,s);return new zs(o)}}}function HR(t,e,n){let r=t;return Fr(n,(s,o)=>{r=Ch(r,vn(e,s),o)}),r}function jR(t,e){if(ze(e))return zs.empty();{const n=t.writeTree_.setTree(e,new It(null));return new zs(n)}}function nx(t,e){return bl(t,e)!=null}function bl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(_r(n.path,e)):null}function VR(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(kt,(r,s)=>{e.push(new We(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new We(r,s.value))}),e}function Fa(t,e){if(ze(e))return t;{const n=bl(t,e);return n!=null?new zs(new It(n)):new zs(t.writeTree_.subtree(e))}}function rx(t){return t.writeTree_.isEmpty()}function tu(t,e){return WP(At(),t.writeTree_,e)}function WP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(he(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=WP(vn(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(vn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e){return XP(e,t)}function Hce(t,e,n,r,s){he(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Ch(t.visibleWrites,e,n)),t.lastWriteId=r}function jce(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Vce(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);he(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,A=t.allWrites.length-1;for(;s&&A>=0;){const l=t.allWrites[A];l.visible&&(A>=n&&Kce(l,r.path)?s=!1:Vs(r.path,l.path)&&(o=!0)),A--}if(s){if(o)return Gce(t),!0;if(r.snap)t.visibleWrites=jR(t.visibleWrites,r.path);else{const l=r.children;Fr(l,c=>{t.visibleWrites=jR(t.visibleWrites,vn(r.path,c))})}return!0}else return!1}function Kce(t,e){if(t.snap)return Vs(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Vs(vn(t.path,n),e))return!0;return!1}function Gce(t){t.visibleWrites=qP(t.allWrites,zce,At()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zce(t){return t.visible}function qP(t,e,n){let r=zs.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const A=o.path;let l;if(o.snap)Vs(n,A)?(l=_r(n,A),r=Ch(r,l,o.snap)):Vs(A,n)&&(l=_r(A,n),r=Ch(r,At(),o.snap.getChild(l)));else if(o.children){if(Vs(n,A))l=_r(n,A),r=HR(r,l,o.children);else if(Vs(A,n))if(l=_r(A,n),ze(l))r=HR(r,At(),o.children);else{const c=qc(o.children,Ge(l));if(c){const d=c.getChild(xt(l));r=Ch(r,At(),d)}}}else throw hu("WriteRecord should have .snap or .children")}}return r}function $P(t,e,n,r,s){if(!r&&!s){const o=bl(t.visibleWrites,e);if(o!=null)return o;{const A=Fa(t.visibleWrites,e);if(rx(A))return n;if(n==null&&!nx(A,At()))return null;{const l=n||Qe.EMPTY_NODE;return tu(A,l)}}}else{const o=Fa(t.visibleWrites,e);if(!s&&rx(o))return n;if(!s&&n==null&&!nx(o,At()))return null;{const A=function(d){return(d.visible||s)&&(!r||!~r.indexOf(d.writeId))&&(Vs(d.path,e)||Vs(e,d.path))},l=qP(t.allWrites,A,e),c=n||Qe.EMPTY_NODE;return tu(l,c)}}}function Wce(t,e,n){let r=Qe.EMPTY_NODE;const s=bl(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(kt,(o,A)=>{r=r.updateImmediateChild(o,A)}),r;if(n){const o=Fa(t.visibleWrites,e);return n.forEachChild(kt,(A,l)=>{const c=tu(Fa(o,new bt(A)),l);r=r.updateImmediateChild(A,c)}),VR(o).forEach(A=>{r=r.updateImmediateChild(A.name,A.node)}),r}else{const o=Fa(t.visibleWrites,e);return VR(o).forEach(A=>{r=r.updateImmediateChild(A.name,A.node)}),r}}function qce(t,e,n,r,s){he(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=vn(e,n);if(nx(t.visibleWrites,o))return null;{const A=Fa(t.visibleWrites,o);return rx(A)?s.getChild(n):tu(A,s.getChild(n))}}function $ce(t,e,n,r){const s=vn(e,n),o=bl(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const A=Fa(t.visibleWrites,s);return tu(A,r.getNode().getImmediateChild(n))}else return null}function Yce(t,e){return bl(t.visibleWrites,e)}function Xce(t,e,n,r,s,o,A){let l;const c=Fa(t.visibleWrites,e),d=bl(c,At());if(d!=null)l=d;else if(n!=null)l=tu(c,n);else return[];if(l=l.withIndex(A),!l.isEmpty()&&!l.isLeafNode()){const f=[],p=A.getCompare(),g=o?l.getReverseIteratorFrom(r,A):l.getIteratorFrom(r,A);let b=g.getNext();for(;b&&f.length<s;)p(b,r)!==0&&f.push(b),b=g.getNext();return f}else return[]}function Jce(){return{visibleWrites:zs.empty(),allWrites:[],lastWriteId:-1}}function _0(t,e,n,r){return $P(t.writeTree,t.treePath,e,n,r)}function M_(t,e){return Wce(t.writeTree,t.treePath,e)}function KR(t,e,n,r){return qce(t.writeTree,t.treePath,e,n,r)}function S0(t,e){return Yce(t.writeTree,vn(t.treePath,e))}function Zce(t,e,n,r,s,o){return Xce(t.writeTree,t.treePath,e,n,r,s,o)}function L_(t,e,n){return $ce(t.writeTree,t.treePath,e,n)}function YP(t,e){return XP(vn(t.treePath,e),t.writeTree)}function XP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;he(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),he(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Zh(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Jh(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,eu(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Zh(r,e.snapshotNode,s.oldSnap));else throw hu("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const JP=new tue;class k_{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ll(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return L_(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cl(this.viewCache_),o=Zce(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nue(t){return{filter:t}}function rue(t,e){he(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function sue(t,e,n,r,s){const o=new eue;let A,l;if(n.type===Ks.OVERWRITE){const d=n;d.source.fromUser?A=sx(t,e,d.path,d.snap,r,s,o):(he(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered()&&!ze(d.path),A=T0(t,e,d.path,d.snap,r,s,l,o))}else if(n.type===Ks.MERGE){const d=n;d.source.fromUser?A=oue(t,e,d.path,d.children,r,s,o):(he(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered(),A=ix(t,e,d.path,d.children,r,s,l,o))}else if(n.type===Ks.ACK_USER_WRITE){const d=n;d.revert?A=lue(t,e,d.path,r,s,o):A=aue(t,e,d.path,d.affectedTree,r,s,o)}else if(n.type===Ks.LISTEN_COMPLETE)A=Aue(t,e,n.path,r,o);else throw hu("Unknown operation type: "+n.type);const c=o.getChanges();return iue(e,A,c),{viewCache:A,changes:c}}function iue(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=tx(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(VP(tx(e)))}}function ZP(t,e,n,r,s,o){const A=e.eventCache;if(S0(r,n)!=null)return e;{let l,c;if(ze(n))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=cl(e),f=d instanceof Qe?d:Qe.EMPTY_NODE,p=M_(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const d=_0(r,cl(e));l=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=Ge(n);if(d===".priority"){he(Ha(n)===1,"Can't have a priority with additional path components");const f=A.getNode();c=e.serverCache.getNode();const p=KR(r,n,f,c);p!=null?l=t.filter.updatePriority(f,p):l=A.getNode()}else{const f=xt(n);let p;if(A.isCompleteForChild(d)){c=e.serverCache.getNode();const g=KR(r,n,A.getNode(),c);g!=null?p=A.getNode().getImmediateChild(d).updateChild(f,g):p=A.getNode().getImmediateChild(d)}else p=L_(r,d,e.serverCache);p!=null?l=t.filter.updateChild(A.getNode(),d,p,f,s,o):l=A.getNode()}}return Bh(e,l,A.isFullyInitialized()||ze(n),t.filter.filtersNodes())}}function T0(t,e,n,r,s,o,A,l){const c=e.serverCache;let d;const f=A?t.filter:t.filter.getIndexedFilter();if(ze(n))d=f.updateFullNode(c.getNode(),r,null);else if(f.filtersNodes()&&!c.isFiltered()){const b=c.getNode().updateChild(n,r);d=f.updateFullNode(c.getNode(),b,null)}else{const b=Ge(n);if(!c.isCompleteForPath(n)&&Ha(n)>1)return e;const B=xt(n),E=c.getNode().getImmediateChild(b).updateChild(B,r);b===".priority"?d=f.updatePriority(c.getNode(),E):d=f.updateChild(c.getNode(),b,E,B,JP,null)}const p=zP(e,d,c.isFullyInitialized()||ze(n),f.filtersNodes()),g=new k_(s,p,o);return ZP(t,p,n,s,g,l)}function sx(t,e,n,r,s,o,A){const l=e.eventCache;let c,d;const f=new k_(s,e,o);if(ze(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,A),c=Bh(e,d,!0,t.filter.filtersNodes());else{const p=Ge(n);if(p===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),c=Bh(e,d,l.isFullyInitialized(),l.isFiltered());else{const g=xt(n),b=l.getNode().getImmediateChild(p);let B;if(ze(g))B=r;else{const C=f.getCompleteChild(p);C!=null?RP(g)===".priority"&&C.getChild(DP(g)).isEmpty()?B=C:B=C.updateChild(g,r):B=Qe.EMPTY_NODE}if(b.equals(B))c=e;else{const C=t.filter.updateChild(l.getNode(),p,B,g,f,A);c=Bh(e,C,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function GR(t,e){return t.eventCache.isCompleteForChild(e)}function oue(t,e,n,r,s,o,A){let l=e;return r.foreach((c,d)=>{const f=vn(n,c);GR(e,Ge(f))&&(l=sx(t,l,f,d,s,o,A))}),r.foreach((c,d)=>{const f=vn(n,c);GR(e,Ge(f))||(l=sx(t,l,f,d,s,o,A))}),l}function zR(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function ix(t,e,n,r,s,o,A,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,d;ze(n)?d=r:d=new It(null).setTree(n,r);const f=e.serverCache.getNode();return d.children.inorderTraversal((p,g)=>{if(f.hasChild(p)){const b=e.serverCache.getNode().getImmediateChild(p),B=zR(t,b,g);c=T0(t,c,new bt(p),B,s,o,A,l)}}),d.children.inorderTraversal((p,g)=>{const b=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!f.hasChild(p)&&!b){const B=e.serverCache.getNode().getImmediateChild(p),C=zR(t,B,g);c=T0(t,c,new bt(p),C,s,o,A,l)}}),c}function aue(t,e,n,r,s,o,A){if(S0(s,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(ze(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return T0(t,e,n,c.getNode().getChild(n),s,o,l,A);if(ze(n)){let d=new It(null);return c.getNode().forEachChild(XA,(f,p)=>{d=d.set(new bt(f),p)}),ix(t,e,n,d,s,o,l,A)}else return e}else{let d=new It(null);return r.foreach((f,p)=>{const g=vn(n,f);c.isCompleteForPath(g)&&(d=d.set(f,c.getNode().getChild(g)))}),ix(t,e,n,d,s,o,l,A)}}function Aue(t,e,n,r,s){const o=e.serverCache,A=zP(e,o.getNode(),o.isFullyInitialized()||ze(n),o.isFiltered());return ZP(t,A,n,r,JP,s)}function lue(t,e,n,r,s,o){let A;if(S0(r,n)!=null)return e;{const l=new k_(r,e,s),c=e.eventCache.getNode();let d;if(ze(n)||Ge(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=_0(r,cl(e));else{const p=e.serverCache.getNode();he(p instanceof Qe,"serverChildren would be complete if leaf node"),f=M_(r,p)}f=f,d=t.filter.updateFullNode(c,f,o)}else{const f=Ge(n);let p=L_(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),p!=null?d=t.filter.updateChild(c,f,p,xt(n),l,o):e.eventCache.getNode().hasChild(f)?d=t.filter.updateChild(c,f,Qe.EMPTY_NODE,xt(n),l,o):d=c,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(A=_0(r,cl(e)),A.isLeafNode()&&(d=t.filter.updateFullNode(d,A,o)))}return A=e.serverCache.isFullyInitialized()||S0(r,At())!=null,Bh(e,d,A,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new N_(r.getIndex()),o=Sce(r);this.processor_=nue(o);const A=n.serverCache,l=n.eventCache,c=s.updateFullNode(Qe.EMPTY_NODE,A.getNode(),null),d=o.updateFullNode(Qe.EMPTY_NODE,l.getNode(),null),f=new ll(c,A.isFullyInitialized(),s.filtersNodes()),p=new ll(d,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ty(p,f),this.eventGenerator_=new Oce(this.query_)}get query(){return this.query_}}function uue(t){return t.viewCache_.serverCache.getNode()}function due(t,e){const n=cl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ze(e)&&!n.getImmediateChild(Ge(e)).isEmpty())?n.getChild(e):null}function WR(t){return t.eventRegistrations_.length===0}function hue(t,e){t.eventRegistrations_.push(e)}function qR(t,e,n){const r=[];if(n){he(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const A=o.createCancelEvent(n,s);A&&r.push(A)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const A=t.eventRegistrations_[o];if(!A.matches(e))s.push(A);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function $R(t,e,n,r){e.type===Ks.MERGE&&e.source.queryId!==null&&(he(cl(t.viewCache_),"We should always have a full cache before handling merges"),he(tx(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=sue(t.processor_,s,e,n,r);return rue(t.processor_,o.viewCache),he(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,eH(t,o.changes,o.viewCache.eventCache.getNode(),null)}function fue(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(kt,(o,A)=>{r.push(eu(o,A))}),n.isFullyInitialized()&&r.push(VP(n.getNode())),eH(t,r,n.getNode(),e)}function eH(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Mce(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I0;class pue{constructor(){this.views=new Map}}function gue(t){he(!I0,"__referenceConstructor has already been defined"),I0=t}function mue(){return he(I0,"Reference.ts has not been loaded"),I0}function yue(t){return t.views.size===0}function P_(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return he(o!=null,"SyncTree gave us an op for an invalid query."),$R(o,e,n,r)}else{let o=[];for(const A of t.views.values())o=o.concat($R(A,e,n,r));return o}}function vue(t,e,n,r,s){const o=e._queryIdentifier,A=t.views.get(o);if(!A){let l=_0(n,s?r:null),c=!1;l?c=!0:r instanceof Qe?(l=M_(n,r),c=!1):(l=Qe.EMPTY_NODE,c=!1);const d=Ty(new ll(l,c,!1),new ll(r,s,!1));return new cue(e,d)}return A}function wue(t,e,n,r,s,o){const A=vue(t,e,r,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,A),hue(A,n),fue(A,n)}function bue(t,e,n,r){const s=e._queryIdentifier,o=[];let A=[];const l=ja(t);if(s==="default")for(const[c,d]of t.views.entries())A=A.concat(qR(d,n,r)),WR(d)&&(t.views.delete(c),d.query._queryParams.loadsAllData()||o.push(d.query));else{const c=t.views.get(s);c&&(A=A.concat(qR(c,n,r)),WR(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||o.push(c.query)))}return l&&!ja(t)&&o.push(new(mue())(e._repo,e._path)),{removed:o,events:A}}function tH(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function kc(t,e){let n=null;for(const r of t.views.values())n=n||due(r,e);return n}function nH(t,e){if(e._queryParams.loadsAllData())return Iy(t);{const r=e._queryIdentifier;return t.views.get(r)}}function rH(t,e){return nH(t,e)!=null}function ja(t){return Iy(t)!=null}function Iy(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U0;function Bue(t){he(!U0,"__referenceConstructor has already been defined"),U0=t}function Cue(){return he(U0,"Reference.ts has not been loaded"),U0}let xue=1;class YR{constructor(e){this.listenProvider_=e,this.syncPointTree_=new It(null),this.pendingWriteTree_=Jce(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sH(t,e,n,r,s){return Hce(t.pendingWriteTree_,e,n,r,s),s?If(t,new Al(GP(),e,n)):[]}function KA(t,e,n=!1){const r=jce(t.pendingWriteTree_,e);if(Vce(t.pendingWriteTree_,e)){let o=new It(null);return r.snap!=null?o=o.set(At(),!0):Fr(r.children,A=>{o=o.set(new bt(A),!0)}),If(t,new E0(r.path,o,n))}else return[]}function Uy(t,e,n){return If(t,new Al(Q_(),e,n))}function Eue(t,e,n){const r=It.fromObject(n);return If(t,new nf(Q_(),e,r))}function _ue(t,e){return If(t,new tf(Q_(),e))}function Sue(t,e,n){const r=j_(t,n);if(r){const s=V_(r),o=s.path,A=s.queryId,l=_r(o,e),c=new tf(D_(A),l);return K_(t,o,c)}else return[]}function ox(t,e,n,r,s=!1){const o=e._path,A=t.syncPointTree_.get(o);let l=[];if(A&&(e._queryIdentifier==="default"||rH(A,e))){const c=bue(A,e,n,r);yue(A)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const d=c.removed;if(l=c.events,!s){const f=d.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(o,(g,b)=>ja(b));if(f&&!p){const g=t.syncPointTree_.subtree(o);if(!g.isEmpty()){const b=Uue(g);for(let B=0;B<b.length;++B){const C=b[B],E=C.query,I=aH(t,C);t.listenProvider_.startListening(xh(E),F0(t,E),I.hashFn,I.onComplete)}}}!p&&d.length>0&&!r&&(f?t.listenProvider_.stopListening(xh(e),null):d.forEach(g=>{const b=t.queryToTagMap.get(Fy(g));t.listenProvider_.stopListening(xh(g),b)}))}Fue(t,d)}return l}function Tue(t,e,n,r){const s=j_(t,r);if(s!=null){const o=V_(s),A=o.path,l=o.queryId,c=_r(A,e),d=new Al(D_(l),c,n);return K_(t,A,d)}else return[]}function Iue(t,e,n,r){const s=j_(t,r);if(s){const o=V_(s),A=o.path,l=o.queryId,c=_r(A,e),d=It.fromObject(n),f=new nf(D_(l),c,d);return K_(t,A,f)}else return[]}function XR(t,e,n,r=!1){const s=e._path;let o=null,A=!1;t.syncPointTree_.foreachOnPath(s,(g,b)=>{const B=_r(g,s);o=o||kc(b,B),A=A||ja(b)});let l=t.syncPointTree_.get(s);l?(A=A||ja(l),o=o||kc(l,At())):(l=new pue,t.syncPointTree_=t.syncPointTree_.set(s,l));let c;o!=null?c=!0:(c=!1,o=Qe.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((b,B)=>{const C=kc(B,At());C&&(o=o.updateImmediateChild(b,C))}));const d=rH(l,e);if(!d&&!e._queryParams.loadsAllData()){const g=Fy(e);he(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const b=Nue();t.queryToTagMap.set(g,b),t.tagToQueryMap.set(b,g)}const f=O_(t.pendingWriteTree_,s);let p=wue(l,e,n,f,o,c);if(!d&&!A&&!r){const g=nH(l,e);p=p.concat(Rue(t,e,g))}return p}function H_(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(A,l)=>{const c=_r(A,e),d=kc(l,c);if(d)return d});return $P(s,e,o,n,!0)}function If(t,e){return iH(e,t.syncPointTree_,null,O_(t.pendingWriteTree_,At()))}function iH(t,e,n,r){if(ze(t.path))return oH(t,e,n,r);{const s=e.get(At());n==null&&s!=null&&(n=kc(s,At()));let o=[];const A=Ge(t.path),l=t.operationForChild(A),c=e.children.get(A);if(c&&l){const d=n?n.getImmediateChild(A):null,f=YP(r,A);o=o.concat(iH(l,c,d,f))}return s&&(o=o.concat(P_(s,t,r,n))),o}}function oH(t,e,n,r){const s=e.get(At());n==null&&s!=null&&(n=kc(s,At()));let o=[];return e.children.inorderTraversal((A,l)=>{const c=n?n.getImmediateChild(A):null,d=YP(r,A),f=t.operationForChild(A);f&&(o=o.concat(oH(f,l,c,d)))}),s&&(o=o.concat(P_(s,t,r,n))),o}function aH(t,e){const n=e.query,r=F0(t,n);return{hashFn:()=>(uue(e)||Qe.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?Sue(t,n._path,r):_ue(t,n._path);{const o=Tle(s,n);return ox(t,n,null,o)}}}}function F0(t,e){const n=Fy(e);return t.queryToTagMap.get(n)}function Fy(t){return t._path.toString()+"$"+t._queryIdentifier}function j_(t,e){return t.tagToQueryMap.get(e)}function V_(t){const e=t.indexOf("$");return he(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new bt(t.substr(0,e))}}function K_(t,e,n){const r=t.syncPointTree_.get(e);he(r,"Missing sync point for query tag that we're tracking");const s=O_(t.pendingWriteTree_,e);return P_(r,n,s,null)}function Uue(t){return t.fold((e,n,r)=>{if(n&&ja(n))return[Iy(n)];{let s=[];return n&&(s=tH(n)),Fr(r,(o,A)=>{s=s.concat(A)}),s}})}function xh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Cue())(t._repo,t._path):t}function Fue(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Fy(r),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function Nue(){return xue++}function Rue(t,e,n){const r=e._path,s=F0(t,e),o=aH(t,n),A=t.listenProvider_.startListening(xh(e),s,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(s)he(!ja(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((d,f,p)=>{if(!ze(d)&&f&&ja(f))return[Iy(f).query];{let g=[];return f&&(g=g.concat(tH(f).map(b=>b.query))),Fr(p,(b,B)=>{g=g.concat(B)}),g}});for(let d=0;d<c.length;++d){const f=c[d];t.listenProvider_.stopListening(xh(f),F0(t,f))}}return A}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new G_(n)}node(){return this.node_}}class z_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=vn(this.path_,e);return new z_(this.syncTree_,n)}node(){return H_(this.syncTree_,this.path_)}}const Que=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},JR=function(t,e,n){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Due(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Oue(t[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Due=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:he(!1,"Unexpected server value: "+t)}},Oue=function(t,e,n){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&he(!1,"Unexpected increment value: "+r);const s=e.node();if(he(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const A=s.getValue();return typeof A!="number"?r:A+r},Mue=function(t,e,n,r){return W_(e,new z_(n,t),r)},AH=function(t,e,n){return W_(t,new G_(e),n)};function W_(t,e,n){const r=t.getPriority().val(),s=JR(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const A=t,l=JR(A.getValue(),e,n);return l!==A.getValue()||s!==A.getPriority().val()?new En(l,Hn(s)):t}else{const A=t;return o=A,s!==A.getPriority().val()&&(o=o.updatePriority(new En(s))),A.forEachChild(kt,(l,c)=>{const d=W_(c,e.getImmediateChild(l),n);d!==c&&(o=o.updateImmediateChild(l,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function $_(t,e){let n=e instanceof bt?e:new bt(e),r=t,s=Ge(n);for(;s!==null;){const o=qc(r.node.children,s)||{children:{},childCount:0};r=new q_(s,r,o),n=xt(n),s=Ge(n)}return r}function vu(t){return t.node.value}function lH(t,e){t.node.value=e,ax(t)}function cH(t){return t.node.childCount>0}function Lue(t){return vu(t)===void 0&&!cH(t)}function Ny(t,e){Fr(t.node.children,(n,r)=>{e(new q_(n,t,r))})}function uH(t,e,n,r){n&&e(t),Ny(t,s=>{uH(s,e,!0)})}function kue(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Uf(t){return new bt(t.parent===null?t.name:Uf(t.parent)+"/"+t.name)}function ax(t){t.parent!==null&&Pue(t.parent,t.name,t)}function Pue(t,e,n){const r=Lue(n),s=Ri(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,ax(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,ax(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hue=/[\[\].#$\/\u0000-\u001F\u007F]/,jue=/[\[\].#$\u0000-\u001F\u007F]/,fB=10*1024*1024,dH=function(t){return typeof t=="string"&&t.length!==0&&!Hue.test(t)},hH=function(t){return typeof t=="string"&&t.length!==0&&!jue.test(t)},Vue=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),hH(t)},ZR=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!C_(t)||t&&typeof t=="object"&&Ri(t,".sv")},fH=function(t,e,n,r){r&&e===void 0||Y_(VE(t,"value"),e,n)},Y_=function(t,e,n){const r=n instanceof bt?new ace(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+QA(r));if(typeof e=="function")throw new Error(t+"contains a function "+QA(r)+" with contents = "+e.toString());if(C_(e))throw new Error(t+"contains "+e.toString()+" "+QA(r));if(typeof e=="string"&&e.length>fB/3&&py(e)>fB)throw new Error(t+"contains a string greater than "+fB+" utf8 bytes "+QA(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(Fr(e,(A,l)=>{if(A===".value")s=!0;else if(A!==".priority"&&A!==".sv"&&(o=!0,!dH(A)))throw new Error(t+" contains an invalid key ("+A+") "+QA(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ace(r,A),Y_(t,l,r),lce(r)}),s&&o)throw new Error(t+' contains ".value" child '+QA(r)+" in addition to actual children.")}},X_=function(t,e,n,r){if(!hH(n))throw new Error(VE(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Kue=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),X_(t,e,n)},pH=function(t,e){if(Ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Gue=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dH(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Vue(n))throw new Error(VE(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function J_(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!T_(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function gH(t,e,n){J_(t,n),mH(t,r=>T_(r,e))}function Eo(t,e,n){J_(t,n),mH(t,r=>Vs(r,e)||Vs(e,r))}function mH(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(Wue(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Wue(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();wh&&nr("event: "+n.toString()),yu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const que="repo_interrupt",$ue=25;class Yue{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=x0(),this.transactionQueueTree_=new q_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xue(t,e,n){if(t.stats_=__(t.repoInfo_),t.forceRestClient_||Nle())t.server_=new C0(t.repoInfo_,(r,s,o,A)=>{eQ(t,r,s,o,A)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tQ(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ho(t.repoInfo_,e,(r,s,o,A)=>{eQ(t,r,s,o,A)},r=>{tQ(t,r)},r=>{Jue(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Mle(t.repoInfo_,()=>new Dce(t.stats_,t.server_)),t.infoData_=new Uce,t.infoSyncTree_=new YR({startListening:(r,s,o,A)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=Uy(t.infoSyncTree_,r._path,c),setTimeout(()=>{A("ok")},0)),l},stopListening:()=>{}}),e1(t,"connected",!1),t.serverSyncTree_=new YR({startListening:(r,s,o,A)=>(t.server_.listen(r,o,s,(l,c)=>{const d=A(l,c);Eo(t.eventQueue_,r._path,d)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function yH(t){const n=t.infoData_.getNode(new bt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Z_(t){return Que({timestamp:yH(t)})}function eQ(t,e,n,r,s){t.dataUpdateCount++;const o=new bt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let A=[];if(s)if(r){const c=i0(n,d=>Hn(d));A=Iue(t.serverSyncTree_,o,c,s)}else{const c=Hn(n);A=Tue(t.serverSyncTree_,o,c,s)}else if(r){const c=i0(n,d=>Hn(d));A=Eue(t.serverSyncTree_,o,c)}else{const c=Hn(n);A=Uy(t.serverSyncTree_,o,c)}let l=o;A.length>0&&(l=Ry(t,o)),Eo(t.eventQueue_,l,A)}function tQ(t,e){e1(t,"connected",e),e===!1&&ede(t)}function Jue(t,e){Fr(e,(n,r)=>{e1(t,n,r)})}function e1(t,e,n){const r=new bt("/.info/"+e),s=Hn(n);t.infoData_.updateSnapshot(r,s);const o=Uy(t.infoSyncTree_,r,s);Eo(t.eventQueue_,r,o)}function vH(t){return t.nextWriteId_++}function Zue(t,e,n,r,s){t1(t,"set",{path:e.toString(),value:n,priority:r});const o=Z_(t),A=Hn(n,r),l=H_(t.serverSyncTree_,e),c=AH(A,l,o),d=vH(t),f=sH(t.serverSyncTree_,e,c,d,!0);J_(t.eventQueue_,f),t.server_.put(e.toString(),A.val(!0),(g,b)=>{const B=g==="ok";B||Ir("set at "+e+" failed: "+g);const C=KA(t.serverSyncTree_,d,!B);Eo(t.eventQueue_,e,C),rde(t,s,g,b)});const p=EH(t,e);Ry(t,p),Eo(t.eventQueue_,p,[])}function ede(t){t1(t,"onDisconnectEvents");const e=Z_(t),n=x0();ex(t.onDisconnect_,At(),(s,o)=>{const A=Mue(s,o,t.serverSyncTree_,e);KP(n,s,A)});let r=[];ex(n,At(),(s,o)=>{r=r.concat(Uy(t.serverSyncTree_,s,o));const A=EH(t,s);Ry(t,A)}),t.onDisconnect_=x0(),Eo(t.eventQueue_,At(),r)}function tde(t,e,n){let r;Ge(e._path)===".info"?r=XR(t.infoSyncTree_,e,n):r=XR(t.serverSyncTree_,e,n),gH(t.eventQueue_,e._path,r)}function wH(t,e,n){let r;Ge(e._path)===".info"?r=ox(t.infoSyncTree_,e,n):r=ox(t.serverSyncTree_,e,n),gH(t.eventQueue_,e._path,r)}function nde(t){t.persistentConnection_&&t.persistentConnection_.interrupt(que)}function t1(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nr(n,...e)}function rde(t,e,n,r){e&&yu(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let o=s;r&&(o+=": "+r);const A=new Error(o);A.code=s,e(A)}})}function bH(t,e,n){return H_(t.serverSyncTree_,e,n)||Qe.EMPTY_NODE}function n1(t,e=t.transactionQueueTree_){if(e||Qy(t,e),vu(e)){const n=CH(t,e);he(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&sde(t,Uf(e),n)}else cH(e)&&Ny(e,n=>{n1(t,n)})}function sde(t,e,n){const r=n.map(d=>d.currentWriteId),s=bH(t,e,r);let o=s;const A=s.hash();for(let d=0;d<n.length;d++){const f=n[d];he(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=_r(e,f.path);o=o.updateChild(p,f.currentOutputSnapshotRaw)}const l=o.val(!0),c=e;t.server_.put(c.toString(),l,d=>{t1(t,"transaction put response",{path:c.toString(),status:d});let f=[];if(d==="ok"){const p=[];for(let g=0;g<n.length;g++)n[g].status=2,f=f.concat(KA(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&p.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Qy(t,$_(t.transactionQueueTree_,e)),n1(t,t.transactionQueueTree_),Eo(t.eventQueue_,e,f);for(let g=0;g<p.length;g++)yu(p[g])}else{if(d==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Ir("transaction at "+c.toString()+" failed: "+d);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=d}Ry(t,e)}},A)}function Ry(t,e){const n=BH(t,e),r=Uf(n),s=CH(t,n);return ide(t,s,r),r}function ide(t,e,n){if(e.length===0)return;const r=[];let s=[];const A=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],d=_r(n,c.path);let f=!1,p;if(he(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)f=!0,p=c.abortReason,s=s.concat(KA(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=$ue)f=!0,p="maxretry",s=s.concat(KA(t.serverSyncTree_,c.currentWriteId,!0));else{const g=bH(t,c.path,A);c.currentInputSnapshot=g;const b=e[l].update(g.val());if(b!==void 0){Y_("transaction failed: Data returned ",b,c.path);let B=Hn(b);typeof b=="object"&&b!=null&&Ri(b,".priority")||(B=B.updatePriority(g.getPriority()));const E=c.currentWriteId,I=Z_(t),F=AH(B,g,I);c.currentOutputSnapshotRaw=B,c.currentOutputSnapshotResolved=F,c.currentWriteId=vH(t),A.splice(A.indexOf(E),1),s=s.concat(sH(t.serverSyncTree_,c.path,F,c.currentWriteId,c.applyLocally)),s=s.concat(KA(t.serverSyncTree_,E,!0))}else f=!0,p="nodata",s=s.concat(KA(t.serverSyncTree_,c.currentWriteId,!0))}Eo(t.eventQueue_,n,s),s=[],f&&(e[l].status=2,(function(g){setTimeout(g,Math.floor(0))})(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(p),!1,null))))}Qy(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)yu(r[l]);n1(t,t.transactionQueueTree_)}function BH(t,e){let n,r=t.transactionQueueTree_;for(n=Ge(e);n!==null&&vu(r)===void 0;)r=$_(r,n),e=xt(e),n=Ge(e);return r}function CH(t,e){const n=[];return xH(t,e,n),n.sort((r,s)=>r.order-s.order),n}function xH(t,e,n){const r=vu(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Ny(e,s=>{xH(t,s,n)})}function Qy(t,e){const n=vu(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,lH(e,n.length>0?n:void 0)}Ny(e,r=>{Qy(t,r)})}function EH(t,e){const n=Uf(BH(t,e)),r=$_(t.transactionQueueTree_,e);return kue(r,s=>{pB(t,s)}),pB(t,r),uH(r,s=>{pB(t,s)}),n}function pB(t,e){const n=vu(e);if(n){const r=[];let s=[],o=-1;for(let A=0;A<n.length;A++)n[A].status===3||(n[A].status===1?(he(o===A-1,"All SENT items should be at beginning of queue."),o=A,n[A].status=3,n[A].abortReason="set"):(he(n[A].status===0,"Unexpected transaction status in abort"),n[A].unwatcher(),s=s.concat(KA(t.serverSyncTree_,n[A].currentWriteId,!0)),n[A].onComplete&&r.push(n[A].onComplete.bind(null,new Error("set"),!1,null))));o===-1?lH(e,void 0):n.length=o+1,Eo(t.eventQueue_,Uf(e),s);for(let A=0;A<r.length;A++)yu(r[A])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ode(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function ade(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ir(`Invalid query segment '${n}' in query '${t}'`)}return e}const nQ=function(t,e){const n=Ade(t),r=n.namespace;n.domain==="firebase.com"&&xo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&xo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Cle();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xP(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new bt(n.pathString)}},Ade=function(t){let e="",n="",r="",s="",o="",A=!0,l="https",c=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(l=t.substring(0,d-1),t=t.substring(d+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(s=ode(t.substring(f,p)));const g=ade(t.substring(Math.min(t.length,p)));d=e.indexOf(":"),d>=0?(A=l==="https"||l==="wss",c=parseInt(e.substring(d+1),10)):d=e.length;const b=e.slice(0,d);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const B=e.indexOf(".");r=e.substring(0,B).toLowerCase(),n=e.substring(B+1),o=r}"ns"in g&&(o=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:A,scheme:l,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lde=(function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const o=new Array(8);for(s=7;s>=0;s--)o[s]=rQ.charAt(n%64),n=Math.floor(n/64);he(n===0,"Cannot push at time == 0");let A=o.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)A+=rQ.charAt(e[s]);return he(A.length===20,"nextPushId: Length should be 20."),A}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cde{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tn(this.snapshot.exportVal())}}class ude{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return he(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ze(this._path)?null:RP(this._path)}get ref(){return new za(this._repo,this._path)}get _queryIdentifier(){const e=kR(this._queryParams),n=x_(e);return n==="{}"?"default":n}get _queryObject(){return kR(this._queryParams)}isEqual(e){if(e=dn(e),!(e instanceof Ff))return!1;const n=this._repo===e._repo,r=T_(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+oce(this._path)}}function dde(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function hde(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===XA){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==al)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==Pa)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===kt){if(e!=null&&!ZR(e)||n!=null&&!ZR(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(he(t.getIndex()instanceof F_||t.getIndex()===jP,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class za extends Ff{constructor(e,n){super(e,n,new R_,!1)}get parent(){const e=DP(this._path);return e===null?null:new za(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class N0{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new bt(e),r=rf(this.ref,e);return new N0(this._node.getChild(n),r,kt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new N0(s,rf(this.ref,r),kt)))}hasChild(e){const n=new bt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function OA(t,e){return t=dn(t),t._checkNotDeleted("ref"),e!==void 0?rf(t._root,e):t._root}function rf(t,e){return t=dn(t),Ge(t._path)===null?Kue("child","path",e):X_("child","path",e),new za(t._repo,vn(t._path,e))}function SH(t,e){t=dn(t),pH("push",t._path),fH("push",e,t._path,!0);const n=yH(t._repo),r=lde(n),s=rf(t,r),o=rf(t,r);let A;return e!=null?A=r1(o,e).then(()=>o):A=Promise.resolve(o),s.then=A.then.bind(A),s.catch=A.then.bind(A,void 0),s}function r1(t,e){t=dn(t),pH("set",t._path),fH("set",e,t._path,!1);const n=new fy;return Zue(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Dy{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new cde("value",this,new N0(e.snapshotNode,new za(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ude(this,e,n):null}matches(e){return e instanceof Dy?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function fde(t,e,n,r,s){const o=new _H(n,void 0),A=new Dy(o);return tde(t._repo,t,A),()=>wH(t._repo,t,A)}function Ax(t,e,n,r){return fde(t,"value",e)}function sQ(t,e,n){let r=null;const s=n?new _H(n):null;r=new Dy(s),wH(t._repo,t,r)}class TH{}class pde extends TH{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ff(e._repo,e._path,Tce(e._queryParams,this._limit),e._orderByCalled)}}function gde(t){if(Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pde(t)}class mde extends TH{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){dde(e,"orderByChild");const n=new bt(this._path);if(ze(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new F_(n),s=Ice(e._queryParams,r);return hde(s),new Ff(e._repo,e._path,s,!0)}}function yde(t){return X_("orderByChild","path",t),new mde(t)}function vde(t,...e){let n=dn(t);for(const r of e)n=r._apply(n);return n}gue(za);Bue(za);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wde="FIREBASE_DATABASE_EMULATOR_HOST",lx={};let bde=!1;function Bde(t,e,n,r){const s=e.lastIndexOf(":"),o=e.substring(0,s),A=Ka(o);t.repoInfo_=new xP(e,A,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Cde(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||xo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let A=nQ(o,s),l=A.repoInfo,c;typeof process<"u"&&bR&&(c=bR[wde]),c?(o=`http://${c}?ns=${l.namespace}`,A=nQ(o,s),l=A.repoInfo):A.repoInfo.secure;const d=new Qle(t.name,t.options,e);Gue("Invalid Firebase Database URL",A),ze(A.path)||xo("Database URL must point to the root of a Firebase Database (not including a child path).");const f=Ede(l,t,d,new Rle(t,n));return new _de(f,t)}function xde(t,e){const n=lx[e];(!n||n[t.key]!==t)&&xo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),nde(t),delete n[t.key]}function Ede(t,e,n,r){let s=lx[e.name];s||(s={},lx[e.name]=s);let o=s[t.toURLString()];return o&&xo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Yue(t,bde,n,r),s[t.toURLString()]=o,o}class _de{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Xue(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new za(this._repo,At())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xde(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xo("Cannot call "+e+" on a deleted database.")}}function Sde(t=gy(),e){const n=Ga(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=BL("database");r&&Tde(n,...r)}return n}function Tde(t,e,n,r={}){t=dn(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Bo(r,o.repoInfo_.emulatorOptions))return;xo("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let A;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&xo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),A=new bm(bm.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:EL(r.mockUserToken,t.app.options.projectId);A=new bm(l)}Ka(e)&&(PE(e),HE("Database",!0)),Bde(o,s,r,A)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ide(t){mle(yl),Ws(new ws("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Cde(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),Tr(BR,CR,t),Tr(BR,CR,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ude={".sv":"timestamp"};function Fde(){return Ude}ho.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ho.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Ide();function IH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nde=IH,UH=new ml("auth","Firebase",IH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new vf("@firebase/auth");function Rde(t,...e){R0.logLevel<=Xe.WARN&&R0.warn(`Auth (${yl}): ${t}`,...e)}function Bm(t,...e){R0.logLevel<=Xe.ERROR&&R0.error(`Auth (${yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,...e){throw s1(t,...e)}function _i(t,...e){return s1(t,...e)}function FH(t,e,n){const r={...Nde(),[e]:n};return new ml("auth","Firebase",r).create(e,{appName:t.name})}function JA(t){return FH(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UH.create(t,...e)}function De(t,e,...n){if(!t)throw s1(e,...n)}function so(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bm(e),new Error(e)}function So(t,e){t||so(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Qde(){return iQ()==="http:"||iQ()==="https:"}function iQ(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dde(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qde()||_L()||"connection"in navigator)?navigator.onLine:!0}function Ode(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.shortDelay=e,this.longDelay=n,So(n>e,"Short delay should be less than long delay!"),this.isMobile=jE()||SL()}get(){return Dde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e){So(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lde=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kde=new Nf(3e4,6e4);function o1(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function wu(t,e,n,r,s={}){return RH(t,s,async()=>{let o={},A={};r&&(e==="GET"?A=r:o={body:JSON.stringify(r)});const l=fu({key:t.config.apiKey,...A}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...o};return Qre()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(d.credentials="include"),NH.fetch()(await QH(t,t.config.apiHost,n,l),d)})}async function RH(t,e,n){t._canInitEmulator=!1;const r={...Mde,...e};try{const s=new Hde(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const A=await o.json();if("needConfirmation"in A)throw tm(t,"account-exists-with-different-credential",A);if(o.ok&&!("errorMessage"in A))return A;{const l=o.ok?A.errorMessage:A.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(t,"credential-already-in-use",A);if(c==="EMAIL_EXISTS")throw tm(t,"email-already-in-use",A);if(c==="USER_DISABLED")throw tm(t,"user-disabled",A);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw FH(t,f,d);_o(t,f)}}catch(s){if(s instanceof Js)throw s;_o(t,"network-request-failed",{message:String(s)})}}async function Pde(t,e,n,r,s={}){const o=await wu(t,e,n,r,s);return"mfaPendingCredential"in o&&_o(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function QH(t,e,n,r){const s=`${e}${n}?${r}`,o=t,A=o.config.emulator?i1(t.config,s):`${t.config.apiScheme}://${s}`;return Lde.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(A).toString():A}class Hde{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),kde.get())})}}function tm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=_i(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jde(t,e){return wu(t,"POST","/v1/accounts:delete",e)}async function Q0(t,e){return wu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Vde(t,e=!1){const n=dn(t),r=await n.getIdToken(e),s=a1(r);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,A=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Eh(gB(s.auth_time)),issuedAtTime:Eh(gB(s.iat)),expirationTime:Eh(gB(s.exp)),signInProvider:A||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function gB(t){return Number(t)*1e3}function a1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bm("JWT malformed, contained fewer than 3 sections"),null;try{const s=s0(n);return s?JSON.parse(s):(Bm("Failed to decode base64 JWT payload"),null)}catch(s){return Bm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function oQ(t){const e=a1(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Js&&Kde(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Kde({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eh(this.lastLoginAt),this.creationTime=Eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(t){var p;const e=t.auth,n=await t.getIdToken(),r=await sf(t,Q0(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(p=s.providerUserInfo)!=null&&p.length?DH(s.providerUserInfo):[],A=Wde(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(A!=null&&A.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:A,metadata:new ux(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function zde(t){const e=dn(t);await D0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Wde(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function DH(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qde(t,e){const n=await RH(t,{},async()=>{const r=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,A=await QH(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(c.credentials="include"),NH.fetch()(A,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $de(t,e){return wu(t,"POST","/v2/accounts:revokeToken",o1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oQ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=oQ(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await qde(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,A=new Pc;return r&&(De(typeof r=="string","internal-error",{appName:e}),A.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),o&&(De(typeof o=="number","internal-error",{appName:e}),A.expirationTime=o),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pc,this.toJSON())}_performRefresh(){return so("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gs{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Gde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ux(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sf(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Vde(this,e)}reload(){return zde(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await D0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ms(this.auth.app))return Promise.reject(JA(this.auth));const e=await this.getIdToken();return await sf(this,jde(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,A=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:b,providerData:B,stsTokenManager:C}=n;De(p&&C,e,"internal-error");const E=Pc.fromJSON(this.name,C);De(typeof p=="string",e,"internal-error"),la(r,e.name),la(s,e.name),De(typeof g=="boolean",e,"internal-error"),De(typeof b=="boolean",e,"internal-error"),la(o,e.name),la(A,e.name),la(l,e.name),la(c,e.name),la(d,e.name),la(f,e.name);const I=new Gs({uid:p,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:b,photoURL:A,phoneNumber:o,tenantId:l,stsTokenManager:E,createdAt:d,lastLoginAt:f});return B&&Array.isArray(B)&&(I.providerData=B.map(F=>({...F}))),c&&(I._redirectEventId=c),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Pc;s.updateFromServerResponse(n);const o=new Gs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await D0(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];De(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?DH(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),l=new Pc;l.updateFromIdToken(r);const c=new Gs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:A}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ux(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aQ=new Map;function io(t){So(t instanceof Function,"Expected a class definition");let e=aQ.get(t);return e?(So(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aQ.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OH.type="NONE";const AQ=OH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t,e,n){return`firebase:${t}:${e}:${n}`}class Hc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Cm(this.userKey,s.apiKey,o),this.fullPersistenceKey=Cm("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Q0(this.auth,{idToken:e}).catch(()=>{});return n?Gs._fromGetAccountInfoResponse(this.auth,n,e):null}return Gs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hc(io(AQ),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||io(AQ);const A=Cm(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(A);if(f){let p;if(typeof f=="string"){const g=await Q0(e,{idToken:f}).catch(()=>{});if(!g)break;p=await Gs._fromGetAccountInfoResponse(e,g,f)}else p=Gs._fromJSON(e,f);d!==o&&(l=p),o=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Hc(o,e,r):(o=c[0],l&&await o._set(A,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(A)}catch{}})),new Hc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jH(e))return"Blackberry";if(VH(e))return"Webos";if(LH(e))return"Safari";if((e.includes("chrome/")||kH(e))&&!e.includes("edge/"))return"Chrome";if(HH(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MH(t=ir()){return/firefox\//i.test(t)}function LH(t=ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kH(t=ir()){return/crios\//i.test(t)}function PH(t=ir()){return/iemobile/i.test(t)}function HH(t=ir()){return/android/i.test(t)}function jH(t=ir()){return/blackberry/i.test(t)}function VH(t=ir()){return/webos/i.test(t)}function A1(t=ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Yde(t=ir()){var e;return A1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Xde(){return Dre()&&document.documentMode===10}function KH(t=ir()){return A1(t)||HH(t)||VH(t)||jH(t)||/windows phone/i.test(t)||PH(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(t,e=[]){let n;switch(t){case"Browser":n=lQ(ir());break;case"Worker":n=`${lQ(ir())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jde{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((A,l)=>{try{const c=e(o);A(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zde(t,e={}){return wu(t,"GET","/v2/passwordPolicy",o1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ehe=6;class the{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ehe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cQ(this),this.idTokenSubscription=new cQ(this),this.beforeStateQueue=new Jde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=io(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Hc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Q0(this,{idToken:e}),r=await Gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Ms(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!A||A===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(A){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await D0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ode()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ms(this.app))return Promise.reject(JA(this));const n=e?dn(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ms(this.app)?Promise.reject(JA(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ms(this.app)?Promise.reject(JA(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zde(this),n=new the(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ml("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $de(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&io(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await Hc.create(this,[io(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let A=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(l,this,"internal-error"),l.then(()=>{A||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{A=!0,c()}}else{const c=e.addObserver(n);return()=>{A=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Rde(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function l1(t){return dn(t)}class cQ{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gre(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rhe(t){c1=t}function she(t){return c1.loadJS(t)}function ihe(){return c1.gapiScript}function ohe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ahe(t,e){const n=Ga(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Bo(o,e??{}))return s;_o(s,"already-initialized")}return n.initialize({options:e})}function Ahe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(io);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lhe(t,e,n){const r=l1(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=zH(e),{host:A,port:l}=che(e),c=l===null?"":`:${l}`,d={url:`${o}//${A}${c}/`},f=Object.freeze({host:A,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Bo(d,r.config.emulator)&&Bo(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Ka(A)?(PE(`${o}//${A}${c}`),HE("Auth",!0)):uhe()}function zH(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function che(t){const e=zH(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:uQ(r.substr(o.length+1))}}else{const[o,A]=r.split(":");return{host:o,port:uQ(A)}}}function uQ(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uhe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,n){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t,e){return Pde(t,"POST","/v1/accounts:signInWithIdp",o1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dhe="http://localhost";class ul extends WH{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_o("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const A=new ul(r,s);return A.idToken=o.idToken||void 0,A.accessToken=o.accessToken||void 0,A.secret=o.secret,A.nonce=o.nonce,A.pendingToken=o.pendingToken||null,A}_getIdTokenResponse(e){const n=this.buildRequest();return jc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jc(e,n)}buildRequest(){const e={requestUri:dhe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends qH{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Rf{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ul._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ya.credential(n,r)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Rf{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.GITHUB_SIGN_IN_METHOD="github.com";va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Rf{constructor(){super("twitter.com")}static credential(e,n){return ul._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wa.credential(n,r)}catch{return null}}}wa.TWITTER_SIGN_IN_METHOD="twitter.com";wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Gs._fromIdTokenResponse(e,r,s),A=dQ(r);return new nu({user:o,providerId:A,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dQ(r);return new nu({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dQ(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends Js{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,O0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new O0(e,n,r,s)}}function $H(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?O0._fromErrorAndOperation(t,o,e,r):o})}async function hhe(t,e,n=!1){const r=await sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fhe(t,e,n=!1){const{auth:r}=t;if(Ms(r.app))return Promise.reject(JA(r));const s="reauthenticate";try{const o=await sf(t,$H(r,s,e,t),n);De(o.idToken,r,"internal-error");const A=a1(o.idToken);De(A,r,"internal-error");const{sub:l}=A;return De(t.uid===l,r,"user-mismatch"),nu._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&_o(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function phe(t,e,n=!1){if(Ms(t.app))return Promise.reject(JA(t));const r="signIn",s=await $H(t,r,e),o=await nu._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}function ghe(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function mhe(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}const M0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(M0,"1"),this.storage.removeItem(M0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yhe=1e3,vhe=10;class XH extends YH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KH(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((A,l,c)=>{this.notifyListeners(A,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(r);!n&&this.localCache[r]===A||this.notifyListeners(r,A)},o=this.storage.getItem(r);Xde()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vhe):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XH.type="LOCAL";const whe=XH;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH extends YH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JH.type="SESSION";const ZH=JH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bhe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Oy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(A).map(async d=>d(n.origin,o)),c=await bhe(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bhe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,A;return new Promise((l,c)=>{const d=u1("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);A={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(g.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function Che(t){Si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function xhe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ehe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _he(){return e3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="firebaseLocalStorageDb",She=1,L0="firebaseLocalStorage",n3="fbase_key";class Qf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function My(t,e){return t.transaction([L0],e?"readwrite":"readonly").objectStore(L0)}function The(){const t=indexedDB.deleteDatabase(t3);return new Qf(t).toPromise()}function dx(){const t=indexedDB.open(t3,She);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(L0,{keyPath:n3})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(L0)?e(r):(r.close(),await The(),e(await dx()))})})}async function hQ(t,e,n){const r=My(t,!0).put({[n3]:e,value:n});return new Qf(r).toPromise()}async function Ihe(t,e){const n=My(t,!1).get(e),r=await new Qf(n).toPromise();return r===void 0?null:r.value}function fQ(t,e){const n=My(t,!0).delete(e);return new Qf(n).toPromise()}const Uhe=800,Fhe=3;class r3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Fhe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oy._getInstance(_he()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await xhe(),!this.activeServiceWorker)return;this.sender=new Bhe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ehe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dx();return await hQ(e,M0,"1"),await fQ(e,M0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hQ(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ihe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fQ(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=My(s,!1).getAll();return new Qf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Uhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r3.type="LOCAL";const Nhe=r3;new Nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rhe(t,e){return e?io(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1 extends WH{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Qhe(t){return phe(t.auth,new d1(t),t.bypassAuthState)}function Dhe(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),fhe(n,new d1(t),t.bypassAuthState)}async function Ohe(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),hhe(n,new d1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:A,type:l}=e;if(A){this.reject(A);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qhe;case"linkViaPopup":case"linkViaRedirect":return Ohe;case"reauthViaPopup":case"reauthViaRedirect":return Dhe;default:_o(this.auth,"internal-error")}}resolve(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mhe=new Nf(2e3,1e4);class Fc extends s3{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Fc.currentPopupAction&&Fc.currentPopupAction.cancel(),Fc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){So(this.filter.length===1,"Popup operations only handle one event");const e=u1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mhe.get())};e()}}Fc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lhe="pendingRedirect",xm=new Map;class khe extends s3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xm.get(this.auth._key());if(!e){try{const r=await Phe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xm.set(this.auth._key(),e)}return this.bypassAuthState||xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Phe(t,e){const n=Vhe(e),r=jhe(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Hhe(t,e){xm.set(t._key(),e)}function jhe(t){return io(t._redirectPersistence)}function Vhe(t){return Cm(Lhe,t.config.apiKey,t.name)}async function Khe(t,e,n=!1){if(Ms(t.app))return Promise.reject(JA(t));const r=l1(t),s=Rhe(r,e),A=await new khe(r,s,n).execute();return A&&!n&&(delete A.user._redirectEventId,await r._persistUserIfCurrent(A.user),await r._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ghe=600*1e3;class zhe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Whe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!i3(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ghe&&this.cachedEventUids.clear(),this.cachedEventUids.has(pQ(e))}saveEventToCache(e){this.cachedEventUids.add(pQ(e)),this.lastProcessedEventTime=Date.now()}}function pQ(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Whe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qhe(t,e={}){return wu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $he=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yhe=/^https?/;async function Xhe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qhe(t);for(const n of e)try{if(Jhe(n))return}catch{}_o(t,"unauthorized-domain")}function Jhe(t){const e=cx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&A.hostname===r}if(!Yhe.test(n))return!1;if($he.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zhe=new Nf(3e4,6e4);function gQ(){const t=Si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function efe(t){return new Promise((e,n)=>{var s,o,A;function r(){gQ(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gQ(),n(_i(t,"network-request-failed"))},timeout:Zhe.get()})}if((o=(s=Si().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((A=Si().gapi)!=null&&A.load)r();else{const l=ohe("iframefcb");return Si()[l]=()=>{gapi.load?r():n(_i(t,"network-request-failed"))},she(`${ihe()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Em=null,e})}let Em=null;function tfe(t){return Em=Em||efe(t),Em}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nfe=new Nf(5e3,15e3),rfe="__/auth/iframe",sfe="emulator/auth/iframe",ife={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ofe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function afe(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?i1(e,sfe):`https://${t.config.authDomain}/${rfe}`,r={apiKey:e.apiKey,appName:t.name,v:yl},s=ofe.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${fu(r).slice(1)}`}async function Afe(t){const e=await tfe(t),n=Si().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:afe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ife,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const A=_i(t,"network-request-failed"),l=Si().setTimeout(()=>{o(A)},nfe.get());function c(){Si().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lfe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cfe=500,ufe=600,dfe="_blank",hfe="http://localhost";class mQ{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ffe(t,e,n,r=cfe,s=ufe){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...lfe,width:r.toString(),height:s.toString(),top:o,left:A},d=ir().toLowerCase();n&&(l=kH(d)?dfe:n),MH(d)&&(e=e||hfe,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[b,B])=>`${g}${b}=${B},`,"");if(Yde(d)&&l!=="_self")return pfe(e||"",l),new mQ(null);const p=window.open(e||"",l,f);De(p,t,"popup-blocked");try{p.focus()}catch{}return new mQ(p)}function pfe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gfe="__/auth/handler",mfe="emulator/auth/handler",yfe=encodeURIComponent("fac");async function yQ(t,e,n,r,s,o){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yl,eventId:s};if(e instanceof qH){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",UC(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))A[f]=p}if(e instanceof Rf){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(A.scopes=f.join(","))}t.tenantId&&(A.tid=t.tenantId);const l=A;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${yfe}=${encodeURIComponent(c)}`:"";return`${vfe(t)}?${fu(l).slice(1)}${d}`}function vfe({config:t}){return t.emulator?i1(t,mfe):`https://${t.authDomain}/${gfe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="webStorageSupport";class wfe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZH,this._completeRedirectFn=Khe,this._overrideRedirectResult=Hhe}async _openPopup(e,n,r,s){var A;So((A=this.eventManagers[e._key()])==null?void 0:A.manager,"_initialize() not called before _openPopup()");const o=await yQ(e,n,r,cx(),s);return ffe(e,o,u1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await yQ(e,n,r,cx(),s);return Che(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(So(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Afe(e),r=new zhe(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mB,{type:mB},s=>{var A;const o=(A=s==null?void 0:s[0])==null?void 0:A[mB];o!==void 0&&n(!!o),_o(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Xhe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KH()||LH()||A1()}}const bfe=wfe;var vQ="@firebase/auth",wQ="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cfe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xfe(t){Ws(new ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:A,authDomain:l}=r.options;De(A&&!A.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:A,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GH(t)},d=new nhe(r,s,o,c);return Ahe(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ws(new ws("auth-internal",e=>{const n=l1(e.getProvider("auth").getImmediate());return(r=>new Bfe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(vQ,wQ,Cfe(t)),Tr(vQ,wQ,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Efe=300,_fe=xL("authIdTokenMaxAge")||Efe;let bQ=null;const Sfe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_fe)return;const s=n==null?void 0:n.token;bQ!==s&&(bQ=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Tfe(t=gy()){const e=Ga(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ahe(t,{popupRedirectResolver:bfe,persistence:[Nhe,whe,ZH]}),r=xL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const A=Sfe(o.toString());mhe(n,A,()=>A(n.currentUser)),ghe(n,l=>A(l))}}const s=bL("auth");return s&&lhe(n,`http://${s}`),n}function Ife(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}rhe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=_i("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",Ife().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xfe("Browser");const Ufe={apiKey:"AIzaSyDLPjvJ1auvfpJo06X6WDkLZqhCufSpdAA",authDomain:"build-your-wolfpack-pm-game.firebaseapp.com",projectId:"build-your-wolfpack-pm-game",storageBucket:"build-your-wolfpack-pm-game.firebasestorage.app",messagingSenderId:"300190286441",appId:"1:300190286441:web:d332367c765c40ef0cd8f8",measurementId:"G-713CFGPDVB",databaseURL:"https://build-your-wolfpack-pm-game.firebaseio.com"},Ly=QL(Ufe);xoe(Ly);const BQ=nle(Ly),MA=Sde(Ly);Tfe(Ly);function Ffe(t){const[e,n]=_.useState([]),[r,s]=_.useState(!0),{currentUser:o}=wn();return _.useEffect(()=>{if(!t)return;s(!0);const l=vde(OA(MA,t),yde("timestamp"),gde(50)),c=Ax(l,d=>{const f=d.val();if(f){const p=Object.entries(f).map(([g,b])=>({id:g,...b}));n(p)}else n([]);s(!1)});return()=>c()},[t]),{messages:e,sendMessage:async l=>{if(!o||!l.trim())return;const c=OA(MA,t),d=SH(c);await r1(d,{senderId:o.firebase_uid,senderName:o.name||"Unknown",text:l,timestamp:Fde()})},loading:r}}function CQ(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ky(...t){return e=>{let n=!1;const r=t.map(s=>{const o=CQ(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():CQ(t[s],null)}}}}function k0(...t){return _.useCallback(ky(...t),t)}var Nfe=Symbol.for("react.lazy"),P0=yx[" use ".trim().toString()];function Rfe(t){return typeof t=="object"&&t!==null&&"then"in t}function o3(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Nfe&&"_payload"in t&&Rfe(t._payload)}function h1(t){const e=Dfe(t),n=_.forwardRef((r,s)=>{let{children:o,...A}=r;o3(o)&&typeof P0=="function"&&(o=P0(o._payload));const l=_.Children.toArray(o),c=l.find(Mfe);if(c){const d=c.props.children,f=l.map(p=>p===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:p);return m.jsx(e,{...A,ref:s,children:_.isValidElement(d)?_.cloneElement(d,void 0,f):null})}return m.jsx(e,{...A,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var Qfe=h1("Slot");function Dfe(t){const e=_.forwardRef((n,r)=>{let{children:s,...o}=n;if(o3(s)&&typeof P0=="function"&&(s=P0(s._payload)),_.isValidElement(s)){const A=kfe(s),l=Lfe(o,s.props);return s.type!==_.Fragment&&(l.ref=r?ky(r,A):A),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ofe=Symbol("radix.slottable");function Mfe(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ofe}function Lfe(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function kfe(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function a3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=a3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function A3(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=a3(t))&&(r&&(r+=" "),r+=e);return r}const xQ=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,EQ=A3,f1=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return EQ(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,A=Object.keys(s).map(d=>{const f=n==null?void 0:n[d],p=o==null?void 0:o[d];if(f===null)return null;const g=xQ(f)||xQ(p);return s[d][g]}),l=n&&Object.entries(n).reduce((d,f)=>{let[p,g]=f;return g===void 0||(d[p]=g),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:p,className:g,...b}=f;return Object.entries(b).every(B=>{let[C,E]=B;return Array.isArray(E)?E.includes({...o,...l}[C]):{...o,...l}[C]===E})?[...d,p,g]:d},[]);return EQ(t,A,c,n==null?void 0:n.class,n==null?void 0:n.className)},Pfe=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Hfe=(t,e)=>({classGroupId:t,validator:e}),l3=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),H0="-",_Q=[],jfe="arbitrary..",Vfe=t=>{const e=Gfe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:A=>{if(A.startsWith("[")&&A.endsWith("]"))return Kfe(A);const l=A.split(H0),c=l[0]===""&&l.length>1?1:0;return c3(l,c,e)},getConflictingClassGroupIds:(A,l)=>{if(l){const c=r[A],d=n[A];return c?d?Pfe(d,c):c:d||_Q}return n[A]||_Q}}},c3=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],o=n.nextPart.get(s);if(o){const d=c3(t,e+1,o);if(d)return d}const A=n.validators;if(A===null)return;const l=e===0?t.join(H0):t.slice(e).join(H0),c=A.length;for(let d=0;d<c;d++){const f=A[d];if(f.validator(l))return f.classGroupId}},Kfe=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?jfe+r:void 0})(),Gfe=t=>{const{theme:e,classGroups:n}=t;return zfe(n,e)},zfe=(t,e)=>{const n=l3();for(const r in t){const s=t[r];p1(s,n,r,e)}return n},p1=(t,e,n,r)=>{const s=t.length;for(let o=0;o<s;o++){const A=t[o];Wfe(A,e,n,r)}},Wfe=(t,e,n,r)=>{if(typeof t=="string"){qfe(t,e,n);return}if(typeof t=="function"){$fe(t,e,n,r);return}Yfe(t,e,n,r)},qfe=(t,e,n)=>{const r=t===""?e:u3(e,t);r.classGroupId=n},$fe=(t,e,n,r)=>{if(Xfe(t)){p1(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Hfe(n,t))},Yfe=(t,e,n,r)=>{const s=Object.entries(t),o=s.length;for(let A=0;A<o;A++){const[l,c]=s[A];p1(c,u3(e,l),n,r)}},u3=(t,e)=>{let n=t;const r=e.split(H0),s=r.length;for(let o=0;o<s;o++){const A=r[o];let l=n.nextPart.get(A);l||(l=l3(),n.nextPart.set(A,l)),n=l}return n},Xfe=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Jfe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(o,A)=>{n[o]=A,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let A=n[o];if(A!==void 0)return A;if((A=r[o])!==void 0)return s(o,A),A},set(o,A){o in n?n[o]=A:s(o,A)}}},hx="!",SQ=":",Zfe=[],TQ=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),epe=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let A=0,l=0,c=0,d;const f=s.length;for(let C=0;C<f;C++){const E=s[C];if(A===0&&l===0){if(E===SQ){o.push(s.slice(c,C)),c=C+1;continue}if(E==="/"){d=C;continue}}E==="["?A++:E==="]"?A--:E==="("?l++:E===")"&&l--}const p=o.length===0?s:s.slice(c);let g=p,b=!1;p.endsWith(hx)?(g=p.slice(0,-1),b=!0):p.startsWith(hx)&&(g=p.slice(1),b=!0);const B=d&&d>c?d-c:void 0;return TQ(o,b,g,B)};if(e){const s=e+SQ,o=r;r=A=>A.startsWith(s)?o(A.slice(s.length)):TQ(Zfe,!1,A,void 0,!0)}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},tpe=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let o=0;o<n.length;o++){const A=n[o],l=A[0]==="[",c=e.has(A);l||c?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(A)):s.push(A)}return s.length>0&&(s.sort(),r.push(...s)),r}},npe=t=>({cache:Jfe(t.cacheSize),parseClassName:epe(t),sortModifiers:tpe(t),...Vfe(t)}),rpe=/\s+/,spe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,A=[],l=t.trim().split(rpe);let c="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:p,modifiers:g,hasImportantModifier:b,baseClassName:B,maybePostfixModifierPosition:C}=n(f);if(p){c=f+(c.length>0?" "+c:c);continue}let E=!!C,I=r(E?B.substring(0,C):B);if(!I){if(!E){c=f+(c.length>0?" "+c:c);continue}if(I=r(B),!I){c=f+(c.length>0?" "+c:c);continue}E=!1}const F=g.length===0?"":g.length===1?g[0]:o(g).join(":"),Q=b?F+hx:F,j=Q+I;if(A.indexOf(j)>-1)continue;A.push(j);const P=s(I,E);for(let V=0;V<P.length;++V){const R=P[V];A.push(Q+R)}c=f+(c.length>0?" "+c:c)}return c},ipe=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=d3(n))&&(s&&(s+=" "),s+=r);return s},d3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=d3(t[r]))&&(n&&(n+=" "),n+=e);return n},ope=(t,...e)=>{let n,r,s,o;const A=c=>{const d=e.reduce((f,p)=>p(f),t());return n=npe(d),r=n.cache.get,s=n.cache.set,o=l,l(c)},l=c=>{const d=r(c);if(d)return d;const f=spe(c,n);return s(c,f),f};return o=A,(...c)=>o(ipe(...c))},ape=[],gn=t=>{const e=n=>n[t]||ape;return e.isThemeGetter=!0,e},h3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,f3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ape=/^\d+\/\d+$/,lpe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cpe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,upe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,dpe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hpe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yc=t=>Ape.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),ca=t=>!!t&&Number.isInteger(Number(t)),yB=t=>t.endsWith("%")&&He(t.slice(0,-1)),to=t=>lpe.test(t),fpe=()=>!0,ppe=t=>cpe.test(t)&&!upe.test(t),p3=()=>!1,gpe=t=>dpe.test(t),mpe=t=>hpe.test(t),ype=t=>!Be(t)&&!Ce(t),vpe=t=>bu(t,y3,p3),Be=t=>h3.test(t),TA=t=>bu(t,v3,ppe),vB=t=>bu(t,xpe,He),IQ=t=>bu(t,g3,p3),wpe=t=>bu(t,m3,mpe),nm=t=>bu(t,w3,gpe),Ce=t=>f3.test(t),Kd=t=>Bu(t,v3),bpe=t=>Bu(t,Epe),UQ=t=>Bu(t,g3),Bpe=t=>Bu(t,y3),Cpe=t=>Bu(t,m3),rm=t=>Bu(t,w3,!0),bu=(t,e,n)=>{const r=h3.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Bu=(t,e,n=!1)=>{const r=f3.exec(t);return r?r[1]?e(r[1]):n:!1},g3=t=>t==="position"||t==="percentage",m3=t=>t==="image"||t==="url",y3=t=>t==="length"||t==="size"||t==="bg-size",v3=t=>t==="length",xpe=t=>t==="number",Epe=t=>t==="family-name",w3=t=>t==="shadow",_pe=()=>{const t=gn("color"),e=gn("font"),n=gn("text"),r=gn("font-weight"),s=gn("tracking"),o=gn("leading"),A=gn("breakpoint"),l=gn("container"),c=gn("spacing"),d=gn("radius"),f=gn("shadow"),p=gn("inset-shadow"),g=gn("text-shadow"),b=gn("drop-shadow"),B=gn("blur"),C=gn("perspective"),E=gn("aspect"),I=gn("ease"),F=gn("animate"),Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...j(),Ce,Be],V=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],U=()=>[Ce,Be,c],D=()=>[yc,"full","auto",...U()],L=()=>[ca,"none","subgrid",Ce,Be],H=()=>["auto",{span:["full",ca,Ce,Be]},ca,Ce,Be],M=()=>[ca,"auto",Ce,Be],N=()=>["auto","min","max","fr",Ce,Be],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...U()],se=()=>[yc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],ne=()=>[t,Ce,Be],ve=()=>[...j(),UQ,IQ,{position:[Ce,Be]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",Bpe,vpe,{size:[Ce,Be]}],re=()=>[yB,Kd,TA],Ae=()=>["","none","full",d,Ce,Be],ue=()=>["",He,Kd,TA],ge=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[He,yB,UQ,IQ],pt=()=>["","none",B,Ce,Be],Ke=()=>["none",He,Ce,Be],hn=()=>["none",He,Ce,Be],fr=()=>[He,Ce,Be],Ft=()=>[yc,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[to],breakpoint:[to],color:[fpe],container:[to],"drop-shadow":[to],ease:["in","out","in-out"],font:[ype],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[to],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[to],shadow:[to],spacing:["px",He],text:[to],"text-shadow":[to],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yc,Be,Ce,E]}],container:["container"],columns:[{columns:[He,Be,Ce,l]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[ca,"auto",Ce,Be]}],basis:[{basis:[yc,"full","auto",l,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,yc,"auto","initial","none",Be]}],grow:[{grow:["",He,Ce,Be]}],shrink:[{shrink:["",He,Ce,Be]}],order:[{order:[ca,"first","last","none",Ce,Be]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[l,"screen",...se()]}],"min-w":[{"min-w":[l,"screen","none",...se()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[A]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",n,Kd,TA]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ce,vB]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yB,Be]}],"font-family":[{font:[bpe,Be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ce,Be]}],"line-clamp":[{"line-clamp":[He,"none",Ce,vB]}],leading:[{leading:[o,...U()]}],"list-image":[{"list-image":["none",Ce,Be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",Ce,TA]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[He,"auto",Ce,Be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ca,Ce,Be],radial:["",Ce,Be],conic:[ca,Ce,Be]},Cpe,wpe]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:Ae()}],"rounded-s":[{"rounded-s":Ae()}],"rounded-e":[{"rounded-e":Ae()}],"rounded-t":[{"rounded-t":Ae()}],"rounded-r":[{"rounded-r":Ae()}],"rounded-b":[{"rounded-b":Ae()}],"rounded-l":[{"rounded-l":Ae()}],"rounded-ss":[{"rounded-ss":Ae()}],"rounded-se":[{"rounded-se":Ae()}],"rounded-ee":[{"rounded-ee":Ae()}],"rounded-es":[{"rounded-es":Ae()}],"rounded-tl":[{"rounded-tl":Ae()}],"rounded-tr":[{"rounded-tr":Ae()}],"rounded-br":[{"rounded-br":Ae()}],"rounded-bl":[{"rounded-bl":Ae()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,Ce,Be]}],"outline-w":[{outline:["",He,Kd,TA]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",f,rm,nm]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",p,rm,nm]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[He,TA]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",g,rm,nm]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[He,Ce,Be]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[Ce,Be]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Be]}],filter:[{filter:["","none",Ce,Be]}],blur:[{blur:pt()}],brightness:[{brightness:[He,Ce,Be]}],contrast:[{contrast:[He,Ce,Be]}],"drop-shadow":[{"drop-shadow":["","none",b,rm,nm]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",He,Ce,Be]}],"hue-rotate":[{"hue-rotate":[He,Ce,Be]}],invert:[{invert:["",He,Ce,Be]}],saturate:[{saturate:[He,Ce,Be]}],sepia:[{sepia:["",He,Ce,Be]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Be]}],"backdrop-blur":[{"backdrop-blur":pt()}],"backdrop-brightness":[{"backdrop-brightness":[He,Ce,Be]}],"backdrop-contrast":[{"backdrop-contrast":[He,Ce,Be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,Ce,Be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,Ce,Be]}],"backdrop-invert":[{"backdrop-invert":["",He,Ce,Be]}],"backdrop-opacity":[{"backdrop-opacity":[He,Ce,Be]}],"backdrop-saturate":[{"backdrop-saturate":[He,Ce,Be]}],"backdrop-sepia":[{"backdrop-sepia":["",He,Ce,Be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",Ce,Be]}],ease:[{ease:["linear","initial",I,Ce,Be]}],delay:[{delay:[He,Ce,Be]}],animate:[{animate:["none",F,Ce,Be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ce,Be]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Ke()}],"rotate-x":[{"rotate-x":Ke()}],"rotate-y":[{"rotate-y":Ke()}],"rotate-z":[{"rotate-z":Ke()}],scale:[{scale:hn()}],"scale-x":[{"scale-x":hn()}],"scale-y":[{"scale-y":hn()}],"scale-z":[{"scale-z":hn()}],"scale-3d":["scale-3d"],skew:[{skew:fr()}],"skew-x":[{"skew-x":fr()}],"skew-y":[{"skew-y":fr()}],transform:[{transform:[Ce,Be,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ft()}],"translate-x":[{"translate-x":Ft()}],"translate-y":[{"translate-y":Ft()}],"translate-z":[{"translate-z":Ft()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Be]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[He,Kd,TA,vB]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Spe=ope(_pe);function zn(...t){return Spe(A3(t))}const Tpe=f1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white shadow-sm hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 shadow-sm hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),vs=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const A=r?Qfe:"button";return m.jsx(A,{className:zn(Tpe({variant:e,size:n,className:t})),ref:o,...s})});vs.displayName="Button";const FQ=({path:t,title:e,isPack:n})=>{const{messages:r,sendMessage:s,loading:o}=Ffe(t),[A,l]=_.useState(""),c=_.useRef(null),{currentUser:d}=wn();_.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[r]);const f=()=>{A.trim()&&(s(A),l(""))},p=n?"border-2 border-yellow-500 rounded-lg p-4 bg-black text-white shadow-[0_0_15px_rgba(234,179,8,0.3)]":"border border-gray-700 p-2 bg-[#0a0a0a] text-green-500 rounded-lg";return m.jsxs("div",{className:`${p} flex flex-col h-[500px]`,children:[m.jsxs("div",{className:"border-b border-gray-800 pb-2 mb-2 font-bold uppercase tracking-wider",children:[n?" ":" "," ",e]}),m.jsxs("div",{className:"flex-1 overflow-y-auto mb-2 pr-2",ref:c,children:[o&&m.jsx("div",{className:"text-xs text-gray-500",children:"Connecting secure line..."}),r.map(g=>{const b=g.senderId===(d==null?void 0:d.firebase_uid);return m.jsx("div",{className:`mb-2 flex flex-col ${b?"items-end":"items-start"}`,children:m.jsxs("div",{className:`max-w-[85%] rounded px-2 py-1 text-sm ${b?n?"bg-yellow-900/50 text-yellow-100":"bg-green-900/30 text-green-100":n?"bg-gray-800 text-gray-200":"bg-gray-900 text-gray-300"}`,children:[!b&&m.jsx("span",{className:"text-[10px] opacity-70 block mb-0.5",children:g.senderName}),g.text]})},g.id)})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{className:"flex-1 bg-[#1a1a1a] border border-gray-700 rounded px-2 py-1 text-sm focus:outline-none focus:border-yellow-500 text-white",value:A,onChange:g=>l(g.target.value),onKeyDown:g=>g.key==="Enter"&&f(),placeholder:"Type a message..."}),m.jsx(vs,{size:"sm",onClick:f,variant:n?"default":"secondary",className:n?"bg-yellow-600 hover:bg-yellow-700 text-black font-bold":"bg-green-700 hover:bg-green-800 text-white",children:"SEND"})]})]})},Ipe=({channelId:t})=>{const[e,n]=_.useState(!1),[r,s]=_.useState([]),[o,A]=_.useState(null),l=async()=>{n(!0);try{const f=await(await fetch(`https://buildyourwolfpack-1.onrender.com/api/channels/${t}/neutral-ground`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();s(f.options)}catch(d){console.error("Scan failed",d)}finally{n(!1)}},c=d=>{A(d)};return m.jsxs("div",{className:"bg-[#111] border border-yellow-500/50 rounded-lg p-4 mb-4 overflow-hidden relative",children:[m.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-yellow-500 shadow-[0_0_10px_#eab308]"}),m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-yellow-500 font-bold text-sm uppercase tracking-[2px]",children:"Neutral Ground Protocol"}),m.jsx("p",{className:"text-gray-500 text-[10px]",children:"Optimizing pack rendezvous via Centroid Logic."})]}),m.jsx("button",{onClick:l,disabled:e,className:"bg-yellow-500 text-black text-[10px] font-black px-3 py-1.5 rounded uppercase hover:bg-yellow-400 transition-colors disabled:opacity-50",children:e?"SCANNING...":"SCAN NEUTRAL GROUND"})]}),r.length>0&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-4 animate-in fade-in slide-in-from-top-4 duration-500",children:r.map(d=>m.jsxs("div",{className:`border ${o===d.id?"border-yellow-500 bg-yellow-500/10":"border-gray-800"} p-3 rounded transition-all cursor-pointer hover:border-yellow-500/50`,onClick:()=>c(d.id),children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsx("span",{className:"text-white font-bold text-xs",children:d.name}),m.jsxs("span",{className:"text-yellow-500 text-[10px] font-bold",children:[" ",d.rating]})]}),m.jsx("p",{className:"text-gray-400 text-[10px] mb-2",children:d.vibe}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-[10px] text-gray-500",children:d.distance}),o===d.id?m.jsx("span",{className:"text-yellow-500 text-[9px] font-black uppercase",children:"TACTICAL VOTE CAST"}):m.jsx("span",{className:"text-gray-600 text-[9px] font-black uppercase group-hover:text-yellow-500",children:"VOTE"})]})]},d.id))}),o&&m.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 flex justify-between items-center",children:[m.jsx("span",{className:"text-[10px] text-gray-400",children:"CONSENSUS RECOGNIZED. PROTOCOL COMPLETE."}),m.jsxs("button",{className:"text-yellow-500 text-[10px] font-bold flex items-center gap-1 hover:underline",children:[m.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"SYNC TO CALENDAR"]})]})]})};var Upe=Object.defineProperty,j0=Object.getOwnPropertySymbols,b3=Object.prototype.hasOwnProperty,B3=Object.prototype.propertyIsEnumerable,NQ=(t,e,n)=>e in t?Upe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fx=(t,e)=>{for(var n in e||(e={}))b3.call(e,n)&&NQ(t,n,e[n]);if(j0)for(var n of j0(e))B3.call(e,n)&&NQ(t,n,e[n]);return t},px=(t,e)=>{var n={};for(var r in t)b3.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&j0)for(var r of j0(t))e.indexOf(r)<0&&B3.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var dl;(t=>{const e=class Ye{constructor(c,d,f,p){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<Ye.MIN_VERSION||c>Ye.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let g=[];for(let B=0;B<this.size;B++)g.push(!1);for(let B=0;B<this.size;B++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(f);if(this.drawCodewords(b),p==-1){let B=1e9;for(let C=0;C<8;C++){this.applyMask(C),this.drawFormatBits(C);const E=this.getPenaltyScore();E<B&&(p=C,B=E),this.applyMask(C)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(c,d){const f=t.QrSegment.makeSegments(c);return Ye.encodeSegments(f,d)}static encodeBinary(c,d){const f=t.QrSegment.makeBytes(c);return Ye.encodeSegments([f],d)}static encodeSegments(c,d,f=1,p=40,g=-1,b=!0){if(!(Ye.MIN_VERSION<=f&&f<=p&&p<=Ye.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let B,C;for(B=f;;B++){const Q=Ye.getNumDataCodewords(B,d)*8,j=A.getTotalBits(c,B);if(j<=Q){C=j;break}if(B>=p)throw new RangeError("Data too long")}for(const Q of[Ye.Ecc.MEDIUM,Ye.Ecc.QUARTILE,Ye.Ecc.HIGH])b&&C<=Ye.getNumDataCodewords(B,Q)*8&&(d=Q);let E=[];for(const Q of c){n(Q.mode.modeBits,4,E),n(Q.numChars,Q.mode.numCharCountBits(B),E);for(const j of Q.getData())E.push(j)}s(E.length==C);const I=Ye.getNumDataCodewords(B,d)*8;s(E.length<=I),n(0,Math.min(4,I-E.length),E),n(0,(8-E.length%8)%8,E),s(E.length%8==0);for(let Q=236;E.length<I;Q^=253)n(Q,8,E);let F=[];for(;F.length*8<E.length;)F.push(0);return E.forEach((Q,j)=>F[j>>>3]|=Q<<7-(j&7)),new Ye(B,d,F,g)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let f=0;f<d;f++)for(let p=0;p<d;p++)f==0&&p==0||f==0&&p==d-1||f==d-1&&p==0||this.drawAlignmentPattern(c[f],c[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let f=d;for(let g=0;g<10;g++)f=f<<1^(f>>>9)*1335;const p=(d<<10|f)^21522;s(p>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,r(p,g));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,r(p,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,r(p,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,r(p,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let f=0;f<12;f++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;s(d>>>18==0);for(let f=0;f<18;f++){const p=r(d,f),g=this.size-11+f%3,b=Math.floor(f/3);this.setFunctionModule(g,b,p),this.setFunctionModule(b,g,p)}}drawFinderPattern(c,d){for(let f=-4;f<=4;f++)for(let p=-4;p<=4;p++){const g=Math.max(Math.abs(p),Math.abs(f)),b=c+p,B=d+f;0<=b&&b<this.size&&0<=B&&B<this.size&&this.setFunctionModule(b,B,g!=2&&g!=4)}}drawAlignmentPattern(c,d){for(let f=-2;f<=2;f++)for(let p=-2;p<=2;p++)this.setFunctionModule(c+p,d+f,Math.max(Math.abs(p),Math.abs(f))!=1)}setFunctionModule(c,d,f){this.modules[d][c]=f,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,f=this.errorCorrectionLevel;if(c.length!=Ye.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const p=Ye.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],g=Ye.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],b=Math.floor(Ye.getNumRawDataModules(d)/8),B=p-b%p,C=Math.floor(b/p);let E=[];const I=Ye.reedSolomonComputeDivisor(g);for(let Q=0,j=0;Q<p;Q++){let P=c.slice(j,j+C-g+(Q<B?0:1));j+=P.length;const V=Ye.reedSolomonComputeRemainder(P,I);Q<B&&P.push(0),E.push(P.concat(V))}let F=[];for(let Q=0;Q<E[0].length;Q++)E.forEach((j,P)=>{(Q!=C-g||P>=B)&&F.push(j[Q])});return s(F.length==b),F}drawCodewords(c){if(c.length!=Math.floor(Ye.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let p=0;p<this.size;p++)for(let g=0;g<2;g++){const b=f-g,C=(f+1&2)==0?this.size-1-p:p;!this.isFunction[C][b]&&d<c.length*8&&(this.modules[C][b]=r(c[d>>>3],7-(d&7)),d++)}}s(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let p;switch(c){case 0:p=(f+d)%2==0;break;case 1:p=d%2==0;break;case 2:p=f%3==0;break;case 3:p=(f+d)%3==0;break;case 4:p=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:p=f*d%2+f*d%3==0;break;case 6:p=(f*d%2+f*d%3)%2==0;break;case 7:p=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&p&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let c=0;for(let g=0;g<this.size;g++){let b=!1,B=0,C=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[g][E]==b?(B++,B==5?c+=Ye.PENALTY_N1:B>5&&c++):(this.finderPenaltyAddHistory(B,C),b||(c+=this.finderPenaltyCountPatterns(C)*Ye.PENALTY_N3),b=this.modules[g][E],B=1);c+=this.finderPenaltyTerminateAndCount(b,B,C)*Ye.PENALTY_N3}for(let g=0;g<this.size;g++){let b=!1,B=0,C=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[E][g]==b?(B++,B==5?c+=Ye.PENALTY_N1:B>5&&c++):(this.finderPenaltyAddHistory(B,C),b||(c+=this.finderPenaltyCountPatterns(C)*Ye.PENALTY_N3),b=this.modules[E][g],B=1);c+=this.finderPenaltyTerminateAndCount(b,B,C)*Ye.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let b=0;b<this.size-1;b++){const B=this.modules[g][b];B==this.modules[g][b+1]&&B==this.modules[g+1][b]&&B==this.modules[g+1][b+1]&&(c+=Ye.PENALTY_N2)}let d=0;for(const g of this.modules)d=g.reduce((b,B)=>b+(B?1:0),d);const f=this.size*this.size,p=Math.ceil(Math.abs(d*20-f*10)/f)-1;return s(0<=p&&p<=9),c+=p*Ye.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let f=[6];for(let p=this.size-7;f.length<c;p-=d)f.splice(1,0,p);return f}}static getNumRawDataModules(c){if(c<Ye.MIN_VERSION||c>Ye.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const f=Math.floor(c/7)+2;d-=(25*f-10)*f-55,c>=7&&(d-=36)}return s(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(Ye.getNumRawDataModules(c)/8)-Ye.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*Ye.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let p=0;p<c-1;p++)d.push(0);d.push(1);let f=1;for(let p=0;p<c;p++){for(let g=0;g<d.length;g++)d[g]=Ye.reedSolomonMultiply(d[g],f),g+1<d.length&&(d[g]^=d[g+1]);f=Ye.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(c,d){let f=d.map(p=>0);for(const p of c){const g=p^f.shift();f.push(0),d.forEach((b,B)=>f[B]^=Ye.reedSolomonMultiply(b,g))}return f}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let p=7;p>=0;p--)f=f<<1^(f>>>7)*285,f^=(d>>>p&1)*c;return s(f>>>8==0),f}finderPenaltyCountPatterns(c){const d=c[1];s(d<=this.size*3);const f=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(f&&c[0]>=d*4&&c[6]>=d?1:0)+(f&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,f){return c&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let f=c-1;f>=0;f--)d.push(l>>>f&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const o=class jt{constructor(c,d,f){if(this.mode=c,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(c){let d=[];for(const f of c)n(f,8,d);return new jt(jt.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!jt.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<c.length;){const p=Math.min(c.length-f,3);n(parseInt(c.substring(f,f+p),10),p*3+1,d),f+=p}return new jt(jt.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!jt.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=c.length;f+=2){let p=jt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f))*45;p+=jt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f+1)),n(p,11,d)}return f<c.length&&n(jt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)),6,d),new jt(jt.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:jt.isNumeric(c)?[jt.makeNumeric(c)]:jt.isAlphanumeric(c)?[jt.makeAlphanumeric(c)]:[jt.makeBytes(jt.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new jt(jt.Mode.ECI,0,d)}static isNumeric(c){return jt.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return jt.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let f=0;for(const p of c){const g=p.mode.numCharCountBits(d);if(p.numChars>=1<<g)return 1/0;f+=4+g+p.bitData.length}return f}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let f=0;f<c.length;f++)c.charAt(f)!="%"?d.push(c.charCodeAt(f)):(d.push(parseInt(c.substring(f+1,f+3),16)),f+=2);return d}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let A=o;t.QrSegment=o})(dl||(dl={}));(t=>{(e=>{const n=class{constructor(s,o){this.ordinal=s,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(dl||(dl={}));(t=>{(e=>{const n=class{constructor(s,o){this.modeBits=s,this.numBitsCharCount=o}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(dl||(dl={}));var Nc=dl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Fpe={L:Nc.QrCode.Ecc.LOW,M:Nc.QrCode.Ecc.MEDIUM,Q:Nc.QrCode.Ecc.QUARTILE,H:Nc.QrCode.Ecc.HIGH},C3=128,x3="L",E3="#FFFFFF",_3="#000000",S3=!1,T3=1,Npe=4,Rpe=0,Qpe=.1;function I3(t,e=0){const n=[];return t.forEach(function(r,s){let o=null;r.forEach(function(A,l){if(!A&&o!==null){n.push(`M${o+e} ${s+e}h${l-o}v1H${o+e}z`),o=null;return}if(l===r.length-1){if(!A)return;o===null?n.push(`M${l+e},${s+e} h1v1H${l+e}z`):n.push(`M${o+e},${s+e} h${l+1-o}v1H${o+e}z`);return}A&&o===null&&(o=l)})}),n.join("")}function U3(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,o)=>o<e.x||o>=e.x+e.w?s:!1))}function Dpe(t,e,n,r){if(r==null)return null;const s=t.length+n*2,o=Math.floor(e*Qpe),A=s/e,l=(r.width||o)*A,c=(r.height||o)*A,d=r.x==null?t.length/2-l/2:r.x*A,f=r.y==null?t.length/2-c/2:r.y*A,p=r.opacity==null?1:r.opacity;let g=null;if(r.excavate){let B=Math.floor(d),C=Math.floor(f),E=Math.ceil(l+d-B),I=Math.ceil(c+f-C);g={x:B,y:C,w:E,h:I}}const b=r.crossOrigin;return{x:d,y:f,h:c,w:l,excavation:g,opacity:p,crossOrigin:b}}function Ope(t,e){return e!=null?Math.max(Math.floor(e),0):t?Npe:Rpe}function F3({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:o,size:A,boostLevel:l}){let c=xe.useMemo(()=>{const B=(Array.isArray(t)?t:[t]).reduce((C,E)=>(C.push(...Nc.QrSegment.makeSegments(E)),C),[]);return Nc.QrCode.encodeSegments(B,Fpe[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:d,margin:f,numCells:p,calculatedImageSettings:g}=xe.useMemo(()=>{let b=c.getModules();const B=Ope(r,s),C=b.length+B*2,E=Dpe(b,A,B,o);return{cells:b,margin:B,numCells:C,calculatedImageSettings:E}},[c,A,o,r,s]);return{qrcode:c,margin:f,cells:d,numCells:p,calculatedImageSettings:g}}var Mpe=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Lpe=xe.forwardRef(function(e,n){const r=e,{value:s,size:o=C3,level:A=x3,bgColor:l=E3,fgColor:c=_3,includeMargin:d=S3,minVersion:f=T3,boostLevel:p,marginSize:g,imageSettings:b}=r,C=px(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:E}=C,I=px(C,["style"]),F=b==null?void 0:b.src,Q=xe.useRef(null),j=xe.useRef(null),P=xe.useCallback(Y=>{Q.current=Y,typeof n=="function"?n(Y):n&&(n.current=Y)},[n]),[V,R]=xe.useState(!1),{margin:U,cells:D,numCells:L,calculatedImageSettings:H}=F3({value:s,level:A,minVersion:f,boostLevel:p,includeMargin:d,marginSize:g,imageSettings:b,size:o});xe.useEffect(()=>{if(Q.current!=null){const Y=Q.current,ce=Y.getContext("2d");if(!ce)return;let W=D;const se=j.current,ne=H!=null&&se!==null&&se.complete&&se.naturalHeight!==0&&se.naturalWidth!==0;ne&&H.excavation!=null&&(W=U3(D,H.excavation));const ve=window.devicePixelRatio||1;Y.height=Y.width=o*ve;const Se=o/L*ve;ce.scale(Se,Se),ce.fillStyle=l,ce.fillRect(0,0,L,L),ce.fillStyle=c,Mpe?ce.fill(new Path2D(I3(W,U))):D.forEach(function(G,re){G.forEach(function(Ae,ue){Ae&&ce.fillRect(ue+U,re+U,1,1)})}),H&&(ce.globalAlpha=H.opacity),ne&&ce.drawImage(se,H.x+U,H.y+U,H.w,H.h)}}),xe.useEffect(()=>{R(!1)},[F]);const M=fx({height:o,width:o},E);let N=null;return F!=null&&(N=xe.createElement("img",{src:F,key:F,style:{display:"none"},onLoad:()=>{R(!0)},ref:j,crossOrigin:H==null?void 0:H.crossOrigin})),xe.createElement(xe.Fragment,null,xe.createElement("canvas",fx({style:M,height:o,width:o,ref:P,role:"img"},I)),N)});Lpe.displayName="QRCodeCanvas";var N3=xe.forwardRef(function(e,n){const r=e,{value:s,size:o=C3,level:A=x3,bgColor:l=E3,fgColor:c=_3,includeMargin:d=S3,minVersion:f=T3,boostLevel:p,title:g,marginSize:b,imageSettings:B}=r,C=px(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:E,cells:I,numCells:F,calculatedImageSettings:Q}=F3({value:s,level:A,minVersion:f,boostLevel:p,includeMargin:d,marginSize:b,imageSettings:B,size:o});let j=I,P=null;B!=null&&Q!=null&&(Q.excavation!=null&&(j=U3(I,Q.excavation)),P=xe.createElement("image",{href:B.src,height:Q.h,width:Q.w,x:Q.x+E,y:Q.y+E,preserveAspectRatio:"none",opacity:Q.opacity,crossOrigin:Q.crossOrigin}));const V=I3(j,E);return xe.createElement("svg",fx({height:o,width:o,viewBox:`0 0 ${F} ${F}`,ref:n,role:"img"},C),!!g&&xe.createElement("title",null,g),xe.createElement("path",{fill:l,d:`M0,0 h${F}v${F}H0z`,shapeRendering:"crispEdges"}),xe.createElement("path",{fill:c,d:V,shapeRendering:"crispEdges"}),P)});N3.displayName="QRCodeSVG";const kpe=({value:t,size:e=128,fgColor:n="#EAB308",bgColor:r="transparent"})=>m.jsxs("div",{className:"p-4 bg-black border-2 border-yellow-600 rounded-lg shadow-[0_0_20px_rgba(234,179,8,0.3)] relative inline-block group",children:[m.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 border-t-2 border-l-2 border-yellow-500"}),m.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t-2 border-r-2 border-yellow-500"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b-2 border-l-2 border-yellow-500"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b-2 border-r-2 border-yellow-500"}),m.jsx(N3,{value:t,size:e,fgColor:n,bgColor:r,level:"H",includeMargin:!1,className:"group-hover:opacity-80 transition-opacity cursor-pointer"}),m.jsx("div",{className:"mt-2 text-center",children:m.jsx("p",{className:"text-[10px] font-mono text-yellow-500 uppercase tracking-widest animate-pulse",children:"Scanning..."})})]}),Ppe=()=>{const{currentUser:t}=wn(),[e,n]=_.useState("profile"),[r,s]=_.useState(null),[o,A]=_.useState(null);return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(yre,{}),m.jsxs("div",{className:"container mx-auto p-4",children:[m.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Connections"}),m.jsxs("div",{className:"flex mb-6 border-b border-gray-200",children:[m.jsx("button",{className:`px-4 py-2 font-medium ${e==="profile"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>n("profile"),children:"Your Profile"}),m.jsx("button",{className:`px-4 py-2 font-medium ${e==="connect"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>n("connect"),children:"Connect"}),m.jsx("button",{className:`px-4 py-2 font-medium ${e==="matches"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>n("matches"),children:"Matches"}),m.jsx("button",{className:`px-4 py-2 font-medium ${e==="pack"?"text-yellow-600 border-b-2 border-yellow-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>{n("pack"),s({id:"pack_123",name:"Alpha Squad",type:"pack"})},children:"The Pack"}),m.jsx("button",{className:`px-4 py-2 font-medium ${e==="territory"?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>{n("territory"),A({id:"territory_nyc",name:"Downtown NYC",type:"territory"})},children:"Territory"})]}),m.jsxs("div",{className:"max-w-3xl mx-auto",children:[e==="profile"&&m.jsxs("div",{className:"space-y-8",children:[m.jsx(vre,{}),m.jsx("div",{className:"border-t border-gray-200 pt-8",children:m.jsx(kpe,{userId:(t==null?void 0:t.id)||"",userName:(t==null?void 0:t.name)||"Recruit"})})]}),e==="connect"&&m.jsx(wre,{}),e==="matches"&&m.jsx(bre,{}),e==="pack"&&r&&m.jsxs("div",{children:[m.jsx(Ipe,{channelId:r.id}),m.jsx(FQ,{path:`packs/${r.id}/messages`,title:r.name,isPack:!0})]}),e==="territory"&&o&&m.jsx(FQ,{path:`territories/${o.id}/messages`,title:o.name,isPack:!1})]})]})]})};function R3(t=50){const{location:e}=Fx(),[n,r]=_.useState([]),[s,o]=_.useState(!1);return _.useEffect(()=>{if(!e)return;(async()=>{o(!0);try{const l=localStorage.getItem("auth_token");if(l){const c=await AD.getNearbyWolves(l,e.latitude,e.longitude,t);r(c)}}catch(l){console.error("Error fetching nearby wolves:",l)}finally{o(!1)}})()},[e,t]),{players:n,loading:s}}function Hpe(){const{location:t}=Fx(),[e,n]=_.useState([]),[r,s]=_.useState(!1),[o,A]=_.useState(null);return _.useEffect(()=>{if(!t)return;(async()=>{s(!0),A(null);try{const c=localStorage.getItem("auth_token"),d=await P6.getNearbyPlaces(c||"",t.latitude,t.longitude);n(d)}catch(c){A(c.message||"Failed to fetch intel"),n([])}finally{s(!1)}})()},[t]),{coffeeShops:e,loading:r,error:o}}const fo=_.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:zn("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",t),...e}));fo.displayName="Card";const hl=_.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:zn("flex flex-col space-y-1.5 p-6",t),...e}));hl.displayName="CardHeader";const fl=_.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:zn("font-semibold leading-none tracking-tight",t),...e}));fl.displayName="CardTitle";const jpe=_.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:zn("text-sm text-zinc-500 dark:text-zinc-400",t),...e}));jpe.displayName="CardDescription";const po=_.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:zn("p-6 pt-0",t),...e}));po.displayName="CardContent";const Df=_.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:zn("flex items-center p-6 pt-0",t),...e}));Df.displayName="CardFooter";const Vpe=f1("inline-flex items-center rounded-md border border-zinc-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 dark:border-zinc-800 dark:focus:ring-zinc-300",{variants:{variant:{default:"border-transparent bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/80 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/80",secondary:"border-transparent bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",destructive:"border-transparent bg-red-500 text-zinc-50 shadow hover:bg-red-500/80 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/80",outline:"text-zinc-950 dark:text-zinc-50"}},defaultVariants:{variant:"default"}});function Na({className:t,variant:e,...n}){return m.jsx("div",{className:zn(Vpe({variant:e}),t),...n})}function Kpe(t,e=[]){let n=[];function r(o,A){const l=_.createContext(A);l.displayName=o+"Context";const c=n.length;n=[...n,A];const d=p=>{var I;const{scope:g,children:b,...B}=p,C=((I=g==null?void 0:g[t])==null?void 0:I[c])||l,E=_.useMemo(()=>B,Object.values(B));return m.jsx(C.Provider,{value:E,children:b})};d.displayName=o+"Provider";function f(p,g){var C;const b=((C=g==null?void 0:g[t])==null?void 0:C[c])||l,B=_.useContext(b);if(B)return B;if(A!==void 0)return A;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[d,f]}const s=()=>{const o=n.map(A=>_.createContext(A));return function(l){const c=(l==null?void 0:l[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,Gpe(s,...e)]}function Gpe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const A=r.reduce((l,{useScope:c,scopeName:d})=>{const p=c(o)[`__scope${d}`];return{...l,...p}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:A}),[A])}};return n.scopeName=e.scopeName,n}function Q3(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var pl=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},zpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],g1=zpe.reduce((t,e)=>{const n=h1(`Primitive.${e}`),r=_.forwardRef((s,o)=>{const{asChild:A,...l}=s,c=A?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),wB={exports:{}},bB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RQ;function Wpe(){if(RQ)return bB;RQ=1;var t=of();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,A=t.useDebugValue;function l(p,g){var b=g(),B=r({inst:{value:b,getSnapshot:g}}),C=B[0].inst,E=B[1];return o(function(){C.value=b,C.getSnapshot=g,c(C)&&E({inst:C})},[p,b,g]),s(function(){return c(C)&&E({inst:C}),p(function(){c(C)&&E({inst:C})})},[p]),A(b),b}function c(p){var g=p.getSnapshot;p=p.value;try{var b=g();return!n(p,b)}catch{return!0}}function d(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return bB.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,bB}var QQ;function qpe(){return QQ||(QQ=1,wB.exports=Wpe()),wB.exports}var $pe=qpe();function Ype(){return $pe.useSyncExternalStore(Xpe,()=>!0,()=>!1)}function Xpe(){return()=>{}}var m1="Avatar",[Jpe]=Kpe(m1),[Zpe,D3]=Jpe(m1),O3=_.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=_.useState("idle");return m.jsx(Zpe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:m.jsx(g1.span,{...r,ref:e})})});O3.displayName=m1;var M3="AvatarImage",L3=_.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,A=D3(M3,n),l=ege(r,o),c=Q3(d=>{s(d),A.onImageLoadingStatusChange(d)});return pl(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?m.jsx(g1.img,{...o,ref:e,src:r}):null});L3.displayName=M3;var k3="AvatarFallback",P3=_.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=D3(k3,n),[A,l]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),A&&o.imageLoadingStatus!=="loaded"?m.jsx(g1.span,{...s,ref:e}):null});P3.displayName=k3;function DQ(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ege(t,{referrerPolicy:e,crossOrigin:n}){const r=Ype(),s=_.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[A,l]=_.useState(()=>DQ(o,t));return pl(()=>{l(DQ(o,t))},[o,t]),pl(()=>{const c=p=>()=>{l(p)};if(!o)return;const d=c("loaded"),f=c("error");return o.addEventListener("load",d),o.addEventListener("error",f),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",d),o.removeEventListener("error",f)}},[o,n,e]),A}var H3=O3,j3=L3,V3=P3;const Py=_.forwardRef(({className:t,...e},n)=>m.jsx(H3,{ref:n,className:zn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Py.displayName=H3.displayName;const Hy=_.forwardRef(({className:t,...e},n)=>m.jsx(j3,{ref:n,className:zn("aspect-square h-full w-full",t),...e}));Hy.displayName=j3.displayName;const jy=_.forwardRef(({className:t,...e},n)=>m.jsx(V3,{ref:n,className:zn("flex h-full w-full items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-800",t),...e}));jy.displayName=V3.displayName;function go(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function y1(t,e=[]){let n=[];function r(o,A){const l=_.createContext(A),c=n.length;n=[...n,A];const d=p=>{var I;const{scope:g,children:b,...B}=p,C=((I=g==null?void 0:g[t])==null?void 0:I[c])||l,E=_.useMemo(()=>B,Object.values(B));return m.jsx(C.Provider,{value:E,children:b})};d.displayName=o+"Provider";function f(p,g){var C;const b=((C=g==null?void 0:g[t])==null?void 0:C[c])||l,B=_.useContext(b);if(B)return B;if(A!==void 0)return A;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[d,f]}const s=()=>{const o=n.map(A=>_.createContext(A));return function(l){const c=(l==null?void 0:l[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,tge(s,...e)]}function tge(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const A=r.reduce((l,{useScope:c,scopeName:d})=>{const p=c(o)[`__scope${d}`];return{...l,...p}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:A}),[A])}};return n.scopeName=e.scopeName,n}function OQ(t){const e=nge(t),n=_.forwardRef((r,s)=>{const{children:o,...A}=r,l=_.Children.toArray(o),c=l.find(sge);if(c){const d=c.props.children,f=l.map(p=>p===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:p);return m.jsx(e,{...A,ref:s,children:_.isValidElement(d)?_.cloneElement(d,void 0,f):null})}return m.jsx(e,{...A,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function nge(t){const e=_.forwardRef((n,r)=>{const{children:s,...o}=n;if(_.isValidElement(s)){const A=oge(s),l=ige(o,s.props);return s.type!==_.Fragment&&(l.ref=r?ky(r,A):A),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rge=Symbol("radix.slottable");function sge(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rge}function ige(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function oge(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function age(t){const e=t+"CollectionProvider",[n,r]=y1(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),A=C=>{const{scope:E,children:I}=C,F=xe.useRef(null),Q=xe.useRef(new Map).current;return m.jsx(s,{scope:E,itemMap:Q,collectionRef:F,children:I})};A.displayName=e;const l=t+"CollectionSlot",c=OQ(l),d=xe.forwardRef((C,E)=>{const{scope:I,children:F}=C,Q=o(l,I),j=k0(E,Q.collectionRef);return m.jsx(c,{ref:j,children:F})});d.displayName=l;const f=t+"CollectionItemSlot",p="data-radix-collection-item",g=OQ(f),b=xe.forwardRef((C,E)=>{const{scope:I,children:F,...Q}=C,j=xe.useRef(null),P=k0(E,j),V=o(f,I);return xe.useEffect(()=>(V.itemMap.set(j,{ref:j,...Q}),()=>void V.itemMap.delete(j))),m.jsx(g,{[p]:"",ref:P,children:F})});b.displayName=f;function B(C){const E=o(t+"CollectionConsumer",C);return xe.useCallback(()=>{const F=E.collectionRef.current;if(!F)return[];const Q=Array.from(F.querySelectorAll(`[${p}]`));return Array.from(E.itemMap.values()).sort((V,R)=>Q.indexOf(V.ref.current)-Q.indexOf(R.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:A,Slot:d,ItemSlot:b},B,r]}var Age=yx[" useId ".trim().toString()]||(()=>{}),lge=0;function K3(t){const[e,n]=_.useState(Age());return pl(()=>{n(r=>r??String(lge++))},[t]),e?`radix-${e}`:""}function cge(t){const e=uge(t),n=_.forwardRef((r,s)=>{const{children:o,...A}=r,l=_.Children.toArray(o),c=l.find(hge);if(c){const d=c.props.children,f=l.map(p=>p===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:p);return m.jsx(e,{...A,ref:s,children:_.isValidElement(d)?_.cloneElement(d,void 0,f):null})}return m.jsx(e,{...A,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}function uge(t){const e=_.forwardRef((n,r)=>{const{children:s,...o}=n;if(_.isValidElement(s)){const A=pge(s),l=fge(o,s.props);return s.type!==_.Fragment&&(l.ref=r?ky(r,A):A),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dge=Symbol("radix.slottable");function hge(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dge}function fge(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function pge(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cu=gge.reduce((t,e)=>{const n=cge(`Primitive.${e}`),r=_.forwardRef((s,o)=>{const{asChild:A,...l}=s,c=A?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),mge=yx[" useInsertionEffect ".trim().toString()]||pl;function G3({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,A]=yge({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const f=_.useRef(t!==void 0);_.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=_.useCallback(f=>{var p;if(l){const g=vge(f)?f(t):f;g!==t&&((p=A.current)==null||p.call(A,g))}else o(f)},[l,t,o,A]);return[c,d]}function yge({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),s=_.useRef(n),o=_.useRef(e);return mge(()=>{o.current=e},[e]),_.useEffect(()=>{var A;s.current!==n&&((A=o.current)==null||A.call(o,n),s.current=n)},[n,s]),[n,r,o]}function vge(t){return typeof t=="function"}var wge=_.createContext(void 0);function z3(t){const e=_.useContext(wge);return t||e||"ltr"}var BB="rovingFocusGroup.onEntryFocus",bge={bubbles:!1,cancelable:!0},Of="RovingFocusGroup",[gx,W3,Bge]=age(Of),[Cge,q3]=y1(Of,[Bge]),[xge,Ege]=Cge(Of),$3=_.forwardRef((t,e)=>m.jsx(gx.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(gx.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(_ge,{...t,ref:e})})}));$3.displayName=Of;var _ge=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:A,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...p}=t,g=_.useRef(null),b=k0(e,g),B=z3(o),[C,E]=G3({prop:A,defaultProp:l??null,onChange:c,caller:Of}),[I,F]=_.useState(!1),Q=Q3(d),j=W3(n),P=_.useRef(!1),[V,R]=_.useState(0);return _.useEffect(()=>{const U=g.current;if(U)return U.addEventListener(BB,Q),()=>U.removeEventListener(BB,Q)},[Q]),m.jsx(xge,{scope:n,orientation:r,dir:B,loop:s,currentTabStopId:C,onItemFocus:_.useCallback(U=>E(U),[E]),onItemShiftTab:_.useCallback(()=>F(!0),[]),onFocusableItemAdd:_.useCallback(()=>R(U=>U+1),[]),onFocusableItemRemove:_.useCallback(()=>R(U=>U-1),[]),children:m.jsx(Cu.div,{tabIndex:I||V===0?-1:0,"data-orientation":r,...p,ref:b,style:{outline:"none",...t.style},onMouseDown:go(t.onMouseDown,()=>{P.current=!0}),onFocus:go(t.onFocus,U=>{const D=!P.current;if(U.target===U.currentTarget&&D&&!I){const L=new CustomEvent(BB,bge);if(U.currentTarget.dispatchEvent(L),!L.defaultPrevented){const H=j().filter(W=>W.focusable),M=H.find(W=>W.active),N=H.find(W=>W.id===C),ce=[M,N,...H].filter(Boolean).map(W=>W.ref.current);J3(ce,f)}}P.current=!1}),onBlur:go(t.onBlur,()=>F(!1))})})}),Y3="RovingFocusGroupItem",X3=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:A,...l}=t,c=K3(),d=o||c,f=Ege(Y3,n),p=f.currentTabStopId===d,g=W3(n),{onFocusableItemAdd:b,onFocusableItemRemove:B,currentTabStopId:C}=f;return _.useEffect(()=>{if(r)return b(),()=>B()},[r,b,B]),m.jsx(gx.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:m.jsx(Cu.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:go(t.onMouseDown,E=>{r?f.onItemFocus(d):E.preventDefault()}),onFocus:go(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:go(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){f.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const I=Ige(E,f.orientation,f.dir);if(I!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let Q=g().filter(j=>j.focusable).map(j=>j.ref.current);if(I==="last")Q.reverse();else if(I==="prev"||I==="next"){I==="prev"&&Q.reverse();const j=Q.indexOf(E.currentTarget);Q=f.loop?Uge(Q,j+1):Q.slice(j+1)}setTimeout(()=>J3(Q))}}),children:typeof A=="function"?A({isCurrentTabStop:p,hasTabStop:C!=null}):A})})});X3.displayName=Y3;var Sge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Tge(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ige(t,e,n){const r=Tge(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Sge[r]}function J3(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Uge(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Fge=$3,Nge=X3;function Rge(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Z3=t=>{const{present:e,children:n}=t,r=Qge(e),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),o=k0(r.ref,Dge(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:o}):null};Z3.displayName="Presence";function Qge(t){const[e,n]=_.useState(),r=_.useRef(null),s=_.useRef(t),o=_.useRef("none"),A=t?"mounted":"unmounted",[l,c]=Rge(A,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=sm(r.current);o.current=l==="mounted"?d:"none"},[l]),pl(()=>{const d=r.current,f=s.current;if(f!==t){const g=o.current,b=sm(d);t?c("MOUNT"):b==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&g!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),pl(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,p=b=>{const C=sm(r.current).includes(CSS.escape(b.animationName));if(b.target===e&&C&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},g=b=>{b.target===e&&(o.current=sm(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function sm(t){return(t==null?void 0:t.animationName)||"none"}function Dge(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Vy="Tabs",[Oge]=y1(Vy,[q3]),e5=q3(),[Mge,v1]=Oge(Vy),t5=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:A="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=z3(l),[p,g]=G3({prop:r,onChange:s,defaultProp:o??"",caller:Vy});return m.jsx(Mge,{scope:n,baseId:K3(),value:p,onValueChange:g,orientation:A,dir:f,activationMode:c,children:m.jsx(Cu.div,{dir:f,"data-orientation":A,...d,ref:e})})});t5.displayName=Vy;var n5="TabsList",r5=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=v1(n5,n),A=e5(n);return m.jsx(Fge,{asChild:!0,...A,orientation:o.orientation,dir:o.dir,loop:r,children:m.jsx(Cu.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});r5.displayName=n5;var s5="TabsTrigger",i5=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,A=v1(s5,n),l=e5(n),c=A5(A.baseId,r),d=l5(A.baseId,r),f=r===A.value;return m.jsx(Nge,{asChild:!0,...l,focusable:!s,active:f,children:m.jsx(Cu.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:go(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?A.onValueChange(r):p.preventDefault()}),onKeyDown:go(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&A.onValueChange(r)}),onFocus:go(t.onFocus,()=>{const p=A.activationMode!=="manual";!f&&!s&&p&&A.onValueChange(r)})})})});i5.displayName=s5;var o5="TabsContent",a5=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...A}=t,l=v1(o5,n),c=A5(l.baseId,r),d=l5(l.baseId,r),f=r===l.value,p=_.useRef(f);return _.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),m.jsx(Z3,{present:s||f,children:({present:g})=>m.jsx(Cu.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...A,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&o})})});a5.displayName=o5;function A5(t,e){return`${t}-trigger-${e}`}function l5(t,e){return`${t}-content-${e}`}var Lge=t5,c5=r5,u5=i5,d5=a5;const kge=Lge,h5=_.forwardRef(({className:t,...e},n)=>m.jsx(c5,{ref:n,className:zn("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",t),...e}));h5.displayName=c5.displayName;const _m=_.forwardRef(({className:t,...e},n)=>m.jsx(u5,{ref:n,className:zn("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",t),...e}));_m.displayName=u5.displayName;const Sm=_.forwardRef(({className:t,...e},n)=>m.jsx(d5,{ref:n,className:zn("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",t),...e}));Sm.displayName=d5.displayName;const Pge=({player:t,onClose:e,onChat:n})=>m.jsxs(fo,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-80 z-50 bg-slate-900 border-cyan-500 shadow-[0_0_20px_rgba(6,182,212,0.3)]",children:[m.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:""}),m.jsxs(hl,{className:"flex flex-col items-center pb-2",children:[m.jsxs(Py,{className:"w-20 h-20 border-2 border-cyan-500 mb-2",children:[m.jsx(Hy,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`}),m.jsx(jy,{children:t.name[0]})]}),m.jsx(fl,{className:"text-white text-xl",children:t.name}),m.jsxs("div",{className:"flex gap-2 mt-1",children:[m.jsx(Na,{variant:"secondary",className:"bg-slate-800 text-cyan-400 border-slate-700",children:t.role||"Operative"}),m.jsxs(Na,{variant:"outline",className:"text-amber-500 border-amber-500",children:[t.ivp," IVP"]})]})]}),m.jsxs(po,{className:"text-center space-y-3",children:[m.jsxs("p",{className:"text-sm text-slate-300 italic",children:['"',t.bio||"Ready for action.",'"']}),t.wolfType&&t.wolfType!=="unknown"&&m.jsxs("div",{className:"text-xs text-slate-500 uppercase tracking-widest",children:["Archetype: ",t.wolfType]})]}),m.jsxs(Df,{className:"flex justify-between gap-2",children:[m.jsx(vs,{variant:"outline",className:"flex-1 w-full",onClick:e,children:"Dismiss"}),m.jsx(vs,{className:"flex-1 w-full bg-cyan-600 hover:bg-cyan-700 text-white",onClick:()=>n(t.id),children:"Message"})]})]}),w1=_.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:zn("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",t),ref:r,...n}));w1.displayName="Input";function Hge(t,e){const[n,r]=_.useState([]),[s,o]=_.useState([]),[A,l]=_.useState(!1);return _.useEffect(()=>{if(!t)return;const d=OA(MA,`user_chats/${t}`),f=p=>{const g=p.val();if(g){const b=Object.entries(g).map(([B,C])=>({chatId:B,...C}));b.sort((B,C)=>C.timestamp-B.timestamp),r(b)}else r([])};return Ax(d,f),()=>{sQ(d,"value",f)}},[t]),_.useEffect(()=>{if(!e){o([]);return}l(!0);const d=OA(MA,`chats/${e}`),f=p=>{const g=p.val();if(g){const b=Object.entries(g).map(([B,C])=>({id:B,...C}));b.sort((B,C)=>B.timestamp-C.timestamp),o(b)}else o([]);l(!1)};return Ax(d,f),()=>{sQ(d,"value",f),l(!1)}},[e]),{conversations:n,messages:s,loading:A,sendMessage:async(d,f,p,g,b)=>{if(!f.trim())return;const B=OA(MA,`chats/${d}`),C=Date.now();await SH(B,{senderId:p,senderName:g,text:f,timestamp:C});try{const E=OA(MA,`user_chats/${p}/${d}`);await r1(E,{participantId:b,lastMessage:f,timestamp:C});const I=OA(MA,`user_chats/${b}/${d}`)}catch(E){console.warn("Could not update chat metadata",E)}}}}const jge=({chatId:t,currentUser:e,recipientName:n,recipientId:r,onClose:s})=>{const{messages:o,loading:A,sendMessage:l}=Hge(e.uid,t),[c,d]=_.useState(""),f=_.useRef(null);_.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[o]);const p=async()=>{c.trim()&&(await l(t,c,e.uid,e.displayName,r),d(""))},g=b=>{b.key==="Enter"&&p()};return m.jsxs(fo,{className:"fixed bottom-4 right-4 w-96 h-[500px] flex flex-col shadow-2xl z-50 bg-slate-900 border-cyan-500/50",children:[m.jsxs(hl,{className:"py-3 bg-slate-800 rounded-t-lg flex flex-row items-center justify-between border-b border-slate-700",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs(Py,{className:"w-8 h-8",children:[m.jsx(Hy,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${n}`}),m.jsx(jy,{children:n[0]})]}),m.jsx(fl,{className:"text-sm font-bold text-white",children:n})]}),m.jsx("button",{onClick:s,className:"text-slate-400 hover:text-white",children:""})]}),m.jsxs(po,{className:"flex-1 overflow-y-auto p-4 space-y-4",ref:f,children:[A&&m.jsx("div",{className:"text-center text-xs text-slate-500",children:"Connecting encryped line..."}),o.length===0&&!A&&m.jsxs("div",{className:"text-center text-slate-500 text-sm mt-10",children:["Start the conversation with ",n,"."]}),o.map(b=>{const B=b.senderId===e.uid;return m.jsx("div",{className:`flex ${B?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-[80%] rounded-lg px-3 py-2 text-sm ${B?"bg-cyan-600 text-white rounded-br-none":"bg-slate-700 text-slate-100 rounded-bl-none"}`,children:b.text})},b.id)})]}),m.jsx(Df,{className:"p-3 bg-slate-800 border-t border-slate-700",children:m.jsxs("div",{className:"flex w-full gap-2",children:[m.jsx(w1,{value:c,onChange:b=>d(b.target.value),onKeyDown:g,placeholder:"Type a message...",className:"bg-slate-900 border-slate-600 text-white"}),m.jsx(vs,{onClick:p,size:"sm",className:"bg-cyan-600 hover:bg-cyan-700",children:""})]})})]})};var Vge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kge=Vge.reduce((t,e)=>{const n=h1(`Primitive.${e}`),r=_.forwardRef((s,o)=>{const{asChild:A,...l}=s,c=A?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Gge="Label",f5=_.forwardRef((t,e)=>m.jsx(Kge.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));f5.displayName=Gge;var p5=f5;const zge=f1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mx=_.forwardRef(({className:t,...e},n)=>m.jsx(p5,{ref:n,className:zn(zge(),t),...e}));mx.displayName=p5.displayName;const g5=_.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:zn("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",t),ref:n,...e}));g5.displayName="Textarea";const Wge=({token:t,onSuccess:e})=>{const[n,r]=_.useState(""),[s,o]=_.useState(""),[A,l]=_.useState(!1),[c,d]=_.useState(null),f=async p=>{p.preventDefault(),l(!0),d(null);try{const g=await TB.createPack(t,n,s);e(g)}catch(g){console.error(g),d(g.message||"Failed to create pack")}finally{l(!1)}};return m.jsxs(fo,{className:"bg-slate-900 border-slate-800",children:[m.jsx(hl,{children:m.jsx(fl,{className:"text-white",children:"Form a New Wolfpack"})}),m.jsxs("form",{onSubmit:f,children:[m.jsxs(po,{className:"space-y-4",children:[c&&m.jsx("div",{className:"text-red-400 text-sm bg-red-900/20 p-2 rounded",children:c}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(mx,{htmlFor:"packName",className:"text-white",children:"Pack Name"}),m.jsx(w1,{id:"packName",value:n,onChange:p=>r(p.target.value),placeholder:"e.g. The Nightstalkers",required:!0,className:"bg-slate-950 border-slate-700 text-white"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(mx,{htmlFor:"mission",className:"text-white",children:"Mission Objective"}),m.jsx(g5,{id:"mission",value:s,onChange:p=>o(p.target.value),placeholder:"What is your startup's primary goal?",className:"bg-slate-950 border-slate-700 text-white min-h-[100px]"})]})]}),m.jsx(Df,{children:m.jsx(vs,{type:"submit",className:"w-full bg-cyan-600 hover:bg-cyan-700",disabled:A,children:A?"Initializing Protocol...":"Establish Pack"})})]})]})},qge=({pack:t,currentUserId:e,onLeave:n,onChat:r})=>m.jsxs(fo,{className:"bg-slate-900 border-slate-800",children:[m.jsxs(hl,{children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx(fl,{className:"text-white text-2xl",children:t.name}),m.jsxs(Na,{variant:"outline",className:"text-cyan-400 border-cyan-400",children:[t.members.length," Operatives"]})]}),m.jsxs("p",{className:"text-slate-400 italic",children:['"',t.mission||"No mission defined.",'"']})]}),m.jsx(po,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Roster"}),m.jsx("div",{className:"grid gap-2",children:t.members.map((s,o)=>m.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-950 rounded border border-slate-800",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-xs text-white",children:"OP"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"text-sm text-white",children:s===e?"You (Alpha)":`Operative ${s.slice(-4)}`}),m.jsx("div",{className:"text-xs text-slate-500",children:s===t.alpha_id?"Pack Leader":"Member"})]})]},s))})]})}),m.jsxs(Df,{className:"flex gap-2",children:[m.jsx(vs,{className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white",onClick:()=>r(t._id,t.name),children:"Open Secure Channel"}),m.jsx(vs,{variant:"destructive",className:"bg-red-900/50 hover:bg-red-900 text-red-200 border border-red-900",onClick:n,children:"Leave Pack"})]})]}),$ge=()=>{const{location:t,error:e}=Fx(),[n,r]=_.useState(50),s=R3(n),o=Hpe(),{currentUser:A}=wn(),[l,c]=_.useState(null),[d,f]=_.useState(null),[p,g]=_.useState([]),[b,B]=_.useState(!1),C=s.players;xe.useEffect(()=>{(async()=>{if(A){B(!0);try{const V=localStorage.getItem("auth_token")||"",R=await TB.getMyPacks(V);g(R)}catch(V){console.error("Failed to fetch packs",V)}finally{B(!1)}}})()},[A]);const E=P=>{g([P,...p])},I=async P=>{if(A)try{const V=localStorage.getItem("auth_token")||"";await TB.leavePack(V,P),g(p.filter(R=>R._id!==P))}catch(V){console.error(V),alert("Failed to leave pack.")}},F=async P=>{if(!(!l||!A))try{const V=localStorage.getItem("auth_token")||"",R=await H6.startChat(V,P,l.name);R.chatId&&(f({chatId:R.chatId,recipientId:P,recipientName:l.name}),c(null))}catch(V){console.error("Failed to start chat",V),alert("Secure channel connection failed.")}},Q=(P,V)=>{const R=`pack_${P}`;f({chatId:R,recipientId:P,recipientName:V})},j=A?{uid:A.id||A.firebase_uid,displayName:A.name||"Wolf"}:null;return m.jsxs("div",{className:"container mx-auto p-4 max-w-4xl pb-24 relative",children:[l&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>c(null)}),m.jsx(Pge,{player:l,onClose:()=>c(null),onChat:F})]}),d&&j&&m.jsx(jge,{chatId:d.chatId,currentUser:j,recipientId:d.recipientId,recipientName:d.recipientName,onClose:()=>f(null)}),m.jsxs("div",{className:"flex flex-col gap-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white mb-2",children:"Tactical Radar & Intel"}),m.jsx("p",{className:"text-muted-foreground",children:"Monitor nearby operative and secure locations."})]}),m.jsxs(kge,{defaultValue:"radar",className:"w-full",children:[m.jsxs(h5,{className:"grid w-full grid-cols-3 bg-slate-800",children:[m.jsx(_m,{value:"radar",children:"Perimeter Scan"}),m.jsx(_m,{value:"intel",children:"Homebase Intel"}),m.jsx(_m,{value:"pack",children:"Wolfpack"})]}),m.jsxs(Sm,{value:"radar",className:"mt-6 space-y-6",children:[m.jsxs(fo,{className:"bg-slate-900 border-slate-800",children:[m.jsx(hl,{children:m.jsxs(fl,{className:"flex justify-between items-center text-white",children:[m.jsxs("span",{children:["Status: ",t?"Online":"Acquiring Signal..."]}),m.jsx(Na,{variant:t?"default":"destructive",children:t?"GPS ACTIVE":"NO SIGNAL"})]})}),m.jsxs(po,{children:[m.jsxs("div",{className:"relative aspect-square max-w-sm mx-auto bg-slate-950 rounded-full border-4 border-slate-800 flex items-center justify-center overflow-hidden mb-6",children:[m.jsx("div",{className:"absolute w-[80%] h-[80%] border border-slate-800 rounded-full opacity-50 animate-pulse"}),m.jsx("div",{className:"absolute w-[60%] h-[60%] border border-slate-800 rounded-full opacity-50 animate-pulse delay-75"}),m.jsx("div",{className:"absolute w-[40%] h-[40%] border border-slate-800 rounded-full opacity-50 animate-pulse delay-150"}),m.jsx("div",{className:"absolute w-full h-full bg-gradient-to-r from-transparent via-cyan-500/10 to-transparent animate-[spin_3s_linear_infinite]"}),m.jsx("div",{className:"absolute w-4 h-4 bg-cyan-500 rounded-full shadow-[0_0_10px_rgba(6,182,212,0.8)] z-10"}),C.map((P,V)=>m.jsx("div",{className:"absolute w-3 h-3 bg-red-500 rounded-full animate-ping cursor-pointer hover:scale-150 transition-transform z-20",style:{top:`${50+Math.sin(P.name.length)*35}%`,left:`${50+Math.cos(P.name.length)*35}%`,animationDuration:"2s"},title:P.name,onClick:()=>c(P)},P.id))]}),m.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[m.jsx(vs,{variant:n===10?"default":"outline",onClick:()=>r(10),size:"sm",children:"10 km"}),m.jsx(vs,{variant:n===50?"default":"outline",onClick:()=>r(50),size:"sm",children:"50 km"}),m.jsx(vs,{variant:n===100?"default":"outline",onClick:()=>r(100),size:"sm",children:"100 km"})]}),e&&m.jsx("div",{className:"text-red-400 text-center mb-4 text-sm bg-red-900/20 p-2 rounded",children:e})]})]}),m.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[C.length===0&&!s.loading&&m.jsx("div",{className:"col-span-full text-center py-10 text-slate-500",children:"No active operatives found in this sector."}),C.map(P=>m.jsx(fo,{className:"bg-slate-900 border-slate-800 hover:border-cyan-500/50 transition-colors cursor-pointer",onClick:()=>c(P),children:m.jsxs(po,{className:"p-4 flex items-center gap-4",children:[m.jsxs(Py,{children:[m.jsx(Hy,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${P.name}`}),m.jsx(jy,{children:P.name[0]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-white",children:P.name}),m.jsxs("p",{className:"text-xs text-cyan-400",children:[typeof P.distance=="number"?P.distance.toFixed(1):P.distance||"?"," km away"]})]})]})},P.id))]})]}),m.jsx(Sm,{value:"intel",className:"mt-6",children:m.jsxs(fo,{className:"bg-slate-900 border-slate-800",children:[m.jsx(hl,{children:m.jsx(fl,{className:"text-white",children:"Recommended Meeting Points (Coffee)"})}),m.jsxs(po,{children:[o.loading&&m.jsx("div",{className:"text-center p-4",children:"Decrypting Intel..."}),o.error&&m.jsx("div",{className:"text-red-400 p-4",children:o.error}),m.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:o.coffeeShops.map((P,V)=>m.jsxs("div",{className:"flex flex-col p-4 rounded-lg bg-slate-950 border border-slate-800 hover:border-amber-500/50 transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-lg text-amber-500",children:P.name}),P.rating&&m.jsxs(Na,{variant:"outline",className:"text-yellow-400 border-yellow-400",children:[" ",P.rating]})]}),m.jsx("p",{className:"text-sm text-slate-400 mb-2",children:P.formattedAddress}),m.jsx("div",{className:"mt-auto flex justify-between items-center text-xs",children:m.jsx("span",{className:P.openNow?"text-green-400":"text-red-400",children:P.openNow?"OPEN NOW":"CLOSED"})})]},V))})]})]})}),m.jsx(Sm,{value:"pack",className:"mt-6",children:b?m.jsx("div",{className:"text-center text-slate-400 p-8",children:"Loading Pack Data..."}):p.length>0&&A?m.jsx("div",{className:"space-y-6",children:p.map(P=>m.jsx(qge,{pack:P,currentUserId:A.id||A.firebase_uid,onLeave:()=>I(P._id),onChat:Q},P._id))}):m.jsx(Wge,{token:localStorage.getItem("auth_token")||"",onSuccess:E})})]})]})]})};function Yge({profile:t,onSwipe:e}){var c,d,f,p;const n=W4(0),r=yg(n,[-200,200],[-30,30]),s=yg(n,[-200,-100,0,100,200],[0,1,1,1,0]),o=yg(n,[10,100],[0,1]),A=yg(n,[-100,-10],[1,0]),l=(g,b)=>{b.offset.x>100?e("right",t.id):b.offset.x<-100&&e("left",t.id)};return m.jsx(hs.div,{style:{x:n,rotate:r,opacity:s,position:"absolute",top:0,left:0,right:0,width:"100%",height:"100%"},drag:"x",dragConstraints:{left:0,right:0},onDragEnd:l,className:"cursor-grab active:cursor-grabbing",children:m.jsx(fo,{className:"h-full bg-slate-900 border-slate-800 overflow-hidden shadow-xl",children:m.jsxs("div",{className:"relative h-full flex flex-col",children:[m.jsxs("div",{className:"h-3/5 bg-slate-950 relative overflow-hidden",children:[m.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name}`,alt:t.name,className:"w-full h-full object-cover"}),m.jsx(hs.div,{style:{opacity:o},className:"absolute top-4 right-4 border-4 border-green-500 rounded-lg p-2 transform rotate-12",children:m.jsx("span",{className:"text-4xl font-bold text-green-500",children:"CONNECT"})}),m.jsx(hs.div,{style:{opacity:A},className:"absolute top-4 left-4 border-4 border-red-500 rounded-lg p-2 transform -rotate-12",children:m.jsx("span",{className:"text-4xl font-bold text-red-500",children:"PASS"})})]}),m.jsxs(po,{className:"h-2/5 p-6 flex flex-col justify-end bg-gradient-to-t from-slate-900 to-slate-900/90",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h2",{className:"text-3xl font-bold text-white mb-1",children:t.name}),m.jsxs("p",{className:"text-cyan-400 font-medium",children:["Lat/Lng: ",((d=(c=t.position)==null?void 0:c.lat)==null?void 0:d.toFixed(2))||"0.00",", ",((p=(f=t.position)==null?void 0:f.lng)==null?void 0:p.toFixed(2))||"0.00"]})]}),m.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[m.jsx(Na,{variant:"outline",className:"text-amber-400 border-amber-400",children:"Founder"}),m.jsx(Na,{variant:"outline",className:"text-purple-400 border-purple-400",children:"Tech"}),m.jsxs(Na,{variant:"outline",className:"text-blue-400 border-blue-400",children:[Math.round(t.distance),"km Away"]})]}),m.jsx("p",{className:"text-slate-400 line-clamp-3",children:t.bio||"Building the next big thing. Let's build a wolfpack."})]})]})})})}const Xge=()=>{const{players:t,loading:e}=R3(50),[n,r]=_.useState([]),{currentUser:s}=wn();_.useEffect(()=>{if(t.length>0){const A=t.filter(l=>!(s!=null&&s.firebase_uid)||l.id!==s.firebase_uid);r(A)}},[t,s]);const o=async(A,l)=>{const c=n.find(d=>d.id===l);if(r(d=>d.filter(f=>f.id!==l)),A==="right"&&(s!=null&&s.firebase_uid)&&c){console.log(`Swiped right on ${c.name}`);try{const d=pR(BQ,"friend_requests",c.id,"received",s.firebase_uid);await vR(d,{from:{id:s.firebase_uid,name:s.name||"Unknown"},status:"pending",timestamp:wR()}),await vR(pR(BQ,"friend_requests",s.firebase_uid,"sent",c.id),{to:{id:c.id,name:c.name},status:"pending",timestamp:wR()})}catch(d){console.error("Error sending connection request:",d)}}};return m.jsxs("div",{className:"container mx-auto p-4 max-w-md h-[calc(100vh-80px)] overflow-hidden flex flex-col",children:[m.jsx("h1",{className:"text-2xl font-bold text-white mb-4 text-center",children:"Discovery"}),m.jsxs("div",{className:"flex-1 relative w-full",children:[e&&m.jsx("div",{className:"text-center text-slate-500 mt-20",children:"Scanning sector..."}),!e&&n.length===0&&m.jsxs("div",{className:"text-center text-slate-500 mt-20 flex flex-col items-center",children:[m.jsx("p",{className:"mb-4",children:"No more profiles in this area."}),m.jsx(vs,{variant:"outline",onClick:()=>window.location.reload(),children:"Refresh Radar"})]}),n.map(A=>m.jsx(Yge,{profile:A,onSwipe:o},A.id))]}),m.jsx("div",{className:"h-20 flex items-center justify-center text-slate-500 text-sm",children:"Swipe Right to Connect  Swipe Left to Pass"})]})};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jge=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m5=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:A,...l},c)=>_.createElement("svg",{ref:c,...Zge,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:m5("lucide",s),...l},[...A.map(([d,f])=>_.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=(t,e)=>{const n=_.forwardRef(({className:r,...s},o)=>_.createElement(eme,{ref:o,iconNode:e,className:m5(`lucide-${Jge(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=Wn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=Wn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rme=Wn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=Wn("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=Wn("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=Wn("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=Wn("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ame=Wn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=Wn("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=Wn("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=Wn("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=Wn("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=Wn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=Wn("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=Wn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=Wn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=Wn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ky=()=>{const t=Ys(),[e,n]=xe.useState(!1),r=()=>n(!e),s=[{name:"Play",path:"/dashboard"},{name:"Shop",path:"/shop"},{name:"Watch",path:"/watch"},{name:"About",path:"/about"}];return m.jsxs(m.Fragment,{children:[m.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-[100] bg-black border-b border-gray-800 h-20 flex items-center justify-between px-6 w-full",children:[m.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0 cursor-pointer z-[101] max-w-[40vw] overflow-hidden",onClick:()=>t("/dashboard"),children:[m.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded flex items-center justify-center flex-shrink-0",children:m.jsx("span",{className:"font-black italic text-black text-sm",children:"WP"})}),m.jsx("span",{className:"font-black text-white text-xl tracking-tighter hidden md:block whitespace-nowrap",children:"WOLFPACK"})]}),m.jsx("div",{className:"hidden lg:flex items-center gap-12 absolute left-1/2 transform -translate-x-1/2",children:s.map(o=>m.jsx("button",{onClick:()=>t(o.path),className:"text-sm font-black font-sans text-white hover:text-yellow-500 hover:scale-105 uppercase tracking-[0.2em] transition-all px-4 py-2",children:o.name},o.name))}),m.jsxs("div",{className:"flex items-center gap-6 z-[101]",children:[m.jsx("button",{onClick:()=>t("/shop/cart"),className:"relative group p-2",children:m.jsx(ume,{className:"w-6 h-6 text-white group-hover:text-yellow-500 transition-colors"})}),m.jsx("button",{onClick:()=>t("/dashboard"),className:"lg:hidden p-2",children:m.jsx(fme,{className:"w-6 h-6 text-white hover:text-yellow-500 transition-colors"})}),m.jsx("button",{onClick:r,className:"lg:hidden p-2",children:e?m.jsx(gme,{className:"w-7 h-7 text-yellow-500"}):m.jsx(ame,{className:"w-7 h-7 text-white"})})]})]}),m.jsx(AK,{children:e&&m.jsx(hs.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 z-40 bg-black pt-20 px-4 md:hidden",children:m.jsxs("div",{className:"flex flex-col gap-6",children:[s.map(o=>m.jsx("button",{onClick:()=>{t(o.path),n(!1)},className:"text-2xl font-black italic text-white uppercase tracking-tighter hover:text-yellow-500 text-left border-b border-gray-800 pb-4",children:o.name},o.name)),m.jsxs("div",{className:"mt-8 p-4 border border-yellow-600/30 rounded bg-yellow-900/10",children:[m.jsx("h4",{className:"text-yellow-500 font-bold uppercase mb-2",children:"Alpha Status"}),m.jsx("p",{className:"text-gray-400 text-xs font-mono mb-4",children:"Log in to track your rank."}),m.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full bg-yellow-600 text-black font-bold py-3 rounded uppercase",children:"Access Terminal"})]})]})})})]})},b1=()=>{const t=Ui(),e=r=>t.pathname===r,n=[{name:"Home",path:"/",icon:ome},{name:"Missions",path:"/gameboard",icon:sme},{name:"Pack",path:"/radar",icon:pme},{name:"Command",path:"/dashboard",icon:hme}];return m.jsx("div",{className:"fixed left-0 right-0 bg-gray-950 border-t border-yellow-900/30 pb-safe z-50 shadow-[0_-5px_20px_rgba(0,0,0,0.5)]",style:{bottom:0},children:m.jsx("div",{className:"flex justify-around items-center h-16",children:n.map(r=>{const s=e(r.path),o=r.icon;return m.jsxs(iu,{to:r.path,className:`flex flex-col items-center justify-center w-full h-full transition-all duration-300 ${s?"text-yellow-500 bg-yellow-900/10":"text-gray-500 hover:text-yellow-600 hover:bg-gray-900"}`,children:[m.jsx(o,{className:`w-5 h-5 mb-1 ${s?"filter drop-shadow-[0_0_5px_rgba(234,179,8,0.5)]":""}`}),m.jsx("span",{className:"text-[10px] font-mono uppercase tracking-widest",children:r.name})]},r.name)})})})},mme=()=>{const[t,e]=_.useState(!1),n=r=>{r.preventDefault(),e(!0)};return m.jsxs("div",{className:"min-h-screen bg-black text-white pb-20 md:pb-0",children:[m.jsx(Ky,{}),m.jsxs("div",{className:"pt-24 px-4 max-w-4xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-yellow-600/20 border border-yellow-600/50 mb-4",children:m.jsx(Ame,{className:"w-8 h-8 text-yellow-500"})}),m.jsxs("h1",{className:"text-4xl md:text-5xl font-black italic tracking-tighter text-white mb-4",children:["FUEL YOUR ",m.jsx("span",{className:"text-yellow-500",children:"OFFICE TEAM"})]}),m.jsx("p",{className:"text-gray-400 text-sm md:text-base max-w-2xl mx-auto font-mono",children:"Bulk pricing available for commercial clients. Keep the wolfpack sharp, focused, and executing at high velocity."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[m.jsx(hs.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-gray-900 border border-gray-800 p-8 rounded-xl",children:t?m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[m.jsx(rme,{className:"w-16 h-16 text-green-500 mb-4"}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Request Received"}),m.jsx("p",{className:"text-gray-400",children:"Our logistics officer will be in touch shortly."}),m.jsx("button",{onClick:()=>e(!1),className:"mt-6 text-yellow-500 underline text-sm",children:"Send another request"})]}):m.jsxs("form",{onSubmit:n,className:"space-y-4",children:[m.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[m.jsx(cme,{className:"w-4 h-4 text-yellow-500"})," Quick Inquiry"]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-gray-500 uppercase mb-1",children:"Contact Name"}),m.jsx("input",{type:"text",required:!0,className:"w-full bg-black border border-gray-700 rounded p-2 text-white focus:border-yellow-600 focus:outline-none transition-colors"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-gray-500 uppercase mb-1",children:"Company Name"}),m.jsx("input",{type:"text",required:!0,className:"w-full bg-black border border-gray-700 rounded p-2 text-white focus:border-yellow-600 focus:outline-none transition-colors"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-gray-500 uppercase mb-1",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,className:"w-full bg-black border border-gray-700 rounded p-2 text-white focus:border-yellow-600 focus:outline-none transition-colors"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-gray-500 uppercase mb-1",children:"Estimated Monthly Volume (lbs)"}),m.jsxs("select",{className:"w-full bg-black border border-gray-700 rounded p-2 text-white focus:border-yellow-600 focus:outline-none transition-colors",children:[m.jsx("option",{children:"5-10 lbs (Small Team)"}),m.jsx("option",{children:"10-25 lbs (Growing Agency)"}),m.jsx("option",{children:"25-50 lbs (Corporate Dept)"}),m.jsx("option",{children:"50+ lbs (Enterprise)"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-gray-500 uppercase mb-1",children:"Additional Notes"}),m.jsx("textarea",{className:"w-full bg-black border border-gray-700 rounded p-2 text-white focus:border-yellow-600 focus:outline-none transition-colors h-24",placeholder:"Specific roast preferences or delivery schedules..."})]}),m.jsx("button",{type:"submit",className:"w-full bg-yellow-600 hover:bg-yellow-500 text-black font-bold py-3 rounded uppercase tracking-wider transition-all mt-4",children:"Request Quote"})]})}),m.jsxs(hs.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex flex-col gap-6",children:[m.jsx("div",{className:"bg-gray-900 border border-gray-800 p-1 rounded-xl overflow-hidden aspect-video relative group cursor-pointer",children:m.jsx("div",{className:"absolute inset-0 bg-black flex items-center justify-center",children:m.jsx("span",{className:"text-gray-500 font-mono text-xs",children:"[VIDEO EMBED: Why Coffee Boosts Productivity]"})})}),m.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-6 rounded-xl",children:[m.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[m.jsx(y5,{className:"w-5 h-5 text-yellow-500"}),"Why Wolfpack Coffee?"]}),m.jsxs("ul",{className:"space-y-3 text-sm text-gray-300",children:[m.jsxs("li",{className:"flex gap-3",children:[m.jsx("span",{className:"text-yellow-500 font-bold",children:"01."}),"High-Caffeine Robusta blends for maximum focus."]}),m.jsxs("li",{className:"flex gap-3",children:[m.jsx("span",{className:"text-yellow-500 font-bold",children:"02."}),"Ethically sourced from independent growers."]}),m.jsxs("li",{className:"flex gap-3",children:[m.jsx("span",{className:"text-yellow-500 font-bold",children:"03."}),"Roasted fresh weekly to ensure peak flavor."]})]})]})]})]})]}),m.jsx(b1,{})]})},yme=[{id:1,title:"How to Stay Focused During a Launch",thumbnail:"https://images.unsplash.com/photo-1497215728101-856f4ea42174",youtubeId:"Bey4XXJAqS8",productLink:"/shop/hustle-roast"},{id:2,title:"The Strategy of the Infinite Game",thumbnail:"https://images.unsplash.com/photo-1552664730-d307ca884978",youtubeId:"tye5tSheO8k",productLink:"/shop/strategic-blend"},{id:3,title:"Building Your First 100 True Fans",thumbnail:"https://images.unsplash.com/photo-1519389950473-47ba0277781c",youtubeId:"GNkeD59dfyg",productLink:"/shop/community-roast"}],vme=()=>{const[t,e]=xe.useState(null);return m.jsxs("div",{className:"min-h-screen bg-black text-white pb-20 md:pb-0 relative",children:[m.jsx(Ky,{}),t&&m.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>e(null),children:m.jsx("div",{className:"w-full max-w-4xl aspect-video bg-black rounded-xl overflow-hidden shadow-2xl relative",children:m.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${t}?autoplay=1`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),m.jsxs("div",{className:"pt-24 px-4 max-w-7xl mx-auto",children:[m.jsxs("h1",{className:"text-5xl font-black italic tracking-tighter text-white mb-2",children:["THE ",m.jsx("span",{className:"text-blue-500",children:"MISSION"})," LOG"]}),m.jsx("p",{className:"text-gray-400 font-mono text-sm uppercase tracking-widest mb-12",children:"Intelligence Reports & Strategy Sessions"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:yme.map(n=>m.jsxs(hs.div,{whileHover:{y:-5},className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden group",children:[m.jsxs("div",{className:"aspect-video relative bg-black cursor-pointer",onClick:()=>e(n.youtubeId),children:[m.jsx("img",{src:n.thumbnail,alt:n.title,className:"w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity"}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-red-600 transition-colors",children:m.jsx(lme,{className:"w-5 h-5 text-white fill-white ml-1"})})})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-4 line-clamp-2",children:n.title}),m.jsxs("button",{className:"w-full flex items-center justify-center gap-2 py-3 bg-gray-800 hover:bg-yellow-600 hover:text-black border border-gray-700 hover:border-yellow-600 rounded text-sm font-bold uppercase tracking-wider transition-all",onClick:()=>window.location.href=n.productLink,children:[m.jsx(dme,{className:"w-4 h-4"})," Shop The Coffee"]})]})]},n.id))})]}),m.jsx(b1,{})]})},wme=()=>{const t=Ys();return m.jsxs("div",{className:"min-h-screen bg-black text-white font-sans flex flex-col",children:[m.jsx(Ky,{}),m.jsxs("main",{className:"flex-1 max-w-4xl mx-auto w-full p-6 pt-24",children:[m.jsxs(hs.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-8",children:[m.jsxs("button",{onClick:()=>t("/"),className:"flex items-center text-yellow-500 hover:text-white transition-colors mb-4",children:[m.jsx(nme,{className:"w-4 h-4 mr-1"})," Back to Base"]}),m.jsxs("h1",{className:"text-4xl md:text-5xl font-black italic uppercase tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-yellow-600 mb-4",children:["THE MISSION",m.jsx("span",{className:"text-white",children:"."})]}),m.jsx("p",{className:"text-gray-400 text-lg md:text-xl font-light leading-relaxed mb-8",children:"We are building a community of relentless executors. A wolfpack that hunts together, wins together, and shares the spoils. This isn't just about coffee; it's about fuel for the hustle."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs(hs.div,{whileHover:{scale:1.02},className:"bg-gray-900 border border-gray-800 p-6 rounded-xl hover:border-yellow-500 transition-colors cursor-pointer group",onClick:()=>window.open("https://ko-fi.com/YOUR_USERNAME","_blank"),children:[m.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center mb-4 group-hover:bg-yellow-500 transition-colors",children:m.jsx(ime,{className:"w-6 h-6 text-yellow-500 group-hover:text-black"})}),m.jsx("h3",{className:"text-xl font-bold uppercase italic mb-2",children:"Support the Alpha"}),m.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"You like what I'm building? Buy me a coffee to keep the late-night coding sessions fueled."}),m.jsxs("span",{className:"text-xs font-mono text-yellow-500 uppercase tracking-widest flex items-center",children:["Donate ",m.jsx("span",{className:"ml-2",children:""})]})]}),m.jsxs(hs.div,{whileHover:{scale:1.02},className:"bg-gray-900 border border-gray-800 p-6 rounded-xl hover:border-white transition-colors cursor-pointer group",onClick:()=>t("/shop"),children:[m.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center mb-4 group-hover:bg-white transition-colors",children:m.jsx(y5,{className:"w-6 h-6 text-white group-hover:text-black"})}),m.jsx("h3",{className:"text-xl font-bold uppercase italic mb-2",children:"Fuel Your Pack"}),m.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Get the gear and the roast. High-caffeine blends designed for high-performance humans."}),m.jsxs("span",{className:"text-xs font-mono text-white uppercase tracking-widest flex items-center",children:["Shop Now ",m.jsx("span",{className:"ml-2",children:""})]})]}),m.jsxs(hs.div,{whileHover:{scale:1.02},className:"bg-gray-900 border border-gray-800 p-6 rounded-xl hover:border-blue-500 transition-colors cursor-pointer group",onClick:()=>window.open("https://calendly.com/YOUR_CALENDLY_LINK","_blank"),children:[m.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center mb-4 group-hover:bg-blue-500 transition-colors",children:m.jsx(tme,{className:"w-6 h-6 text-blue-500 group-hover:text-black"})}),m.jsx("h3",{className:"text-xl font-bold uppercase italic mb-2",children:"Join the Council"}),m.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Want to know more? Schedule a 1:1 strategy session. Let's talk business, code, or coffee."}),m.jsxs("span",{className:"text-xs font-mono text-blue-500 uppercase tracking-widest flex items-center",children:["Book Meeting ",m.jsx("span",{className:"ml-2",children:""})]})]})]})]})]})},IA=({children:t})=>{const{currentUser:e,loading:n}=wn();return n?(console.log(" ProtectedRoute: Loading Auth State..."),m.jsxs("div",{className:"fixed inset-0 z-[10000] flex flex-col items-center justify-center bg-black text-yellow-500 font-mono",children:[m.jsx("div",{className:"animate-pulse text-xl font-bold mb-4",children:"AUTHENTICATING WOLFPACK ID..."}),m.jsx("div",{className:"text-sm text-gray-500",children:"Secure Link Establishing..."}),m.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"mt-8 px-4 py-2 border border-red-900 text-red-500 text-xs hover:bg-red-900/20",children:"[DEBUG: RESET LOCAL DATA]"})]})):e?e.selected_card_id?m.jsx(m.Fragment,{children:t}):m.jsx(xB,{to:"/select-card",replace:!0}):m.jsx(xB,{to:"/login",replace:!0})},ua=({children:t})=>(console.log(" CORE LAYOUT RENDERING..."),m.jsxs("div",{className:"wolfpack-dark h-full flex flex-col pb-20 pt-24 overflow-y-auto overflow-x-hidden min-h-screen relative text-white font-sans selection:bg-yellow-500/30",children:[m.jsx("div",{className:"bg-noise pointer-events-none fixed inset-0 z-0 opacity-20"}),m.jsx("div",{className:"bg-grid pointer-events-none fixed inset-0 z-0 opacity-20"}),m.jsx(Ky,{}),m.jsx("main",{className:"container mx-auto px-4 py-6 flex-grow relative z-10",children:t}),m.jsx("div",{className:"fixed bottom-16 md:bottom-0 left-0 right-0 z-[40]",children:m.jsx(cM,{logs:[]})}),m.jsx("div",{className:"md:hidden",children:m.jsx(b1,{})})]}));function bme(){return m.jsx(T6,{children:m.jsx(j6,{children:m.jsx(G6,{children:m.jsx(t8,{children:m.jsx(n8,{children:m.jsx(r8,{children:m.jsxs(r6,{children:[m.jsx(Xn,{path:"/",element:m.jsx(xB,{to:"/dashboard",replace:!0})}),m.jsx(Xn,{path:"/wholesale",element:m.jsx(mme,{})}),m.jsx(Xn,{path:"/watch",element:m.jsx(vme,{})}),m.jsx(Xn,{path:"/about",element:m.jsx(wme,{})}),m.jsx(Xn,{path:"/login",element:m.jsx(s8,{})}),m.jsx(Xn,{path:"/register",element:m.jsx(i8,{})}),m.jsx(Xn,{path:"/select-card",element:m.jsx(ua,{children:m.jsx(lN,{})})}),m.jsx(Xn,{path:"/test-cards",element:m.jsx(lN,{})}),m.jsx(Xn,{path:"/dashboard",element:m.jsx(IA,{children:m.jsx(ua,{children:m.jsx(xX,{})})})}),m.jsx(Xn,{path:"/radar",element:m.jsx(IA,{children:m.jsx(ua,{children:m.jsx($ge,{})})})}),m.jsx(Xn,{path:"/discovery",element:m.jsx(IA,{children:m.jsx(ua,{children:m.jsx(Xge,{})})})}),m.jsx(Xn,{path:"/project/:projectId",element:m.jsx(IA,{children:m.jsx(ua,{children:m.jsx(pre,{})})})}),m.jsx(Xn,{path:"/leaderboard",element:m.jsx(IA,{children:m.jsx(ua,{children:m.jsx(cN,{})})})}),m.jsx(Xn,{path:"/gameboard",element:m.jsx(IA,{children:m.jsx(ua,{children:m.jsx(cN,{})})})}),m.jsx(Xn,{path:"/connections",element:m.jsx(IA,{children:m.jsx(ua,{children:m.jsx(Ppe,{})})})})]})})})})})})})}class Bme extends _.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error(" FATAL APP CRASH:",e,n)}render(){var e;return this.state.hasError?m.jsxs("div",{style:{padding:20,color:"red",background:"black",height:"100vh"},children:[m.jsx("h1",{children:" GAME ENGINE FAILURE"}),m.jsx("pre",{children:(e=this.state.error)==null?void 0:e.toString()})]}):this.props.children}}console.log(" MOUNTING REACT ROOT...");const v5=document.getElementById("root");v5?console.log(" ROOT ELEMENT FOUND"):console.error(" ROOT ELEMENT NOT FOUND IN DOM");iV.createRoot(v5).render(m.jsx(_.StrictMode,{children:m.jsx(Bme,{children:m.jsx(bme,{})})}));
